(function(){var e={1993:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=1993,e.exports=t},6700:function(e,t,o){var a={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-ps":315,"./ar-ps.js":315,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku-kmr":563,"./ku-kmr.js":563,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":4462,"./mn.js":4462,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":8182,"./tl-ph.js":8182,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":9294,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":9294,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function l(e){var t=n(e);return o(t)}function n(e){if(!o.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=n,e.exports=l,l.id=6700},7527:function(e,t,o){"use strict";var a=o(821);function l(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:"orangehrm-left-space","display-type":"secondary",label:o.label,disabled:o.disabled,type:o.buttonType,loading:o.loading},null,8,["label","disabled","type","loading"])}var n=o(756),r={name:"SubmitButton",components:{OxdButton:n.OxdButton},props:{buttonType:{type:String,default:"submit"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},label:{type:String,default:()=>"Save"}}},i=o(3744);const s=(0,i.Z)(r,[["render",l]]);var d=s;const c={key:0},m={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},u={key:0};function p(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-divider"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-button");return o.loading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",c,[o.showDivider?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-horizontal-margin"})):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",m,[o.selected>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[(0,a.createVNode)(s,{tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_selected",{count:o.selected})),1)])),_:1}),(0,a.createVNode)(d,{label:e.$t("general.delete_selected"),"icon-name":"trash-fill","display-type":"label-danger",class:"orangehrm-horizontal-margin",onClick:t[0]||(t[0]=t=>e.$emit("delete",t))},null,8,["label"])])):((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_found",{count:o.total})),1)])),_:1}))])]))}var h={name:"TableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},showDivider:{type:Boolean,required:!1,default:!0}},emits:["delete"]};const g=(0,i.Z)(h,[["render",p],["__scopeId","data-v-0dea79bd"]]);var v=g;function f(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createBlock)(i,{tag:"p",class:"orangehrm-form-hint"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" * "+(0,a.toDisplayString)(e.$t("general.required")),1)])),_:1})}var y={name:"RequiredText"};const C=(0,i.Z)(y,[["render",f],["__scopeId","data-v-319fc346"]]);var b=C;const V=["href"],x={key:0},w=["href"],N=["href"];function k(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-layout"),d=(0,a.resolveComponent)("about");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.$attrs)),(0,a.createSlots)({"user-actions":(0,a.withCtx)((()=>[(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{href:"#",role:"menuitem",class:"oxd-userdropdown-link",onClick:t[0]||(t[0]=(...e)=>l.openAboutModel&&l.openAboutModel(...e))},(0,a.toDisplayString)(e.$t("general.about")),1)]),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{href:o.supportUrl,role:"menuitem",class:"oxd-userdropdown-link"},(0,a.toDisplayString)(e.$t("general.support")),9,V)]),o.updatePasswordUrl?((0,a.openBlock)(),(0,a.createElementBlock)("li",x,[(0,a.createElementVNode)("a",{href:o.updatePasswordUrl,role:"menuitem",class:"oxd-userdropdown-link"},(0,a.toDisplayString)(e.$t("general.change_password")),9,w)])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("li",null,[(0,a.createElementVNode)("a",{href:o.logoutUrl,role:"menuitem",class:"oxd-userdropdown-link"},(0,a.toDisplayString)(e.$t("general.logout")),9,N)])])),"nav-actions":(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"question-lg",title:e.$t("general.help"),onClick:l.onClickSupport},null,8,["title","onClick"])])),_:2},[(0,a.renderList)(e.$slots,((t,o)=>({name:o,fn:(0,a.withCtx)((t=>[(0,a.renderSlot)(e.$slots,o,(0,a.normalizeProps)((0,a.guardReactiveProps)(t)))]))})))]),1040),l.showAboutModel?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,onClose:l.closeAboutModel},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)],64)}const _={class:"orangehrm-modal-header"},S={key:0,class:"orangehrm-loader"};function D(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-loading-spinner"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(u,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.about")),1)])),_:1})]),(0,a.createVNode)(s),n.isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",S,[(0,a.createVNode)(d)])):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,cols:2,class:"orangehrm-about"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.company_name"))+": ",1)])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.data.companyName),1)])),_:1})])),_:1}),void 0!==n.data.numberOfActiveEmployee?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active_employees"))+": ",1)])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.data.numberOfActiveEmployee),1)])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0),void 0!==n.data.numberOfPastEmployee?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.employees_terminated"))+": ",1)])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-about-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.data.numberOfPastEmployee),1)])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1}))])),_:1},8,["onUpdate:show"])}var $=o(2482),T=o(6154);o(2801);class E{constructor(){(0,$.Z)(this,"_tempStorage",{})}clear(){this._tempStorage={}}getItem(e){return this._tempStorage[e]||null}key(e){return Object.keys(this._tempStorage)[e]||null}removeItem(e){delete this._tempStorage[e]}setItem(e,t){this._tempStorage[e]=t}}function I(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}class B{constructor(e){(0,$.Z)(this,"_storage",void 0),I(e)?this._storage=e:this._storage=new E}clear(){this._storage.clear()}getItem(e){return this._storage.getItem(e)}key(e){return this._storage.key(e)}removeItem(e){this._storage.removeItem(e)}setItem(e,t){this._storage.setItem(e,t)}}const L=function(e,t={},o={}){let a=e;o=JSON.parse(JSON.stringify(o)),Object.keys(t).forEach((e=>{const o=`{${e}}`;if(a.includes(o)){let l=t[e];"number"===typeof l&&(l=l.toString()),a=a.replace(o,l)}else console.error("Invalid parameter.")}));let l="?";const n=Object.keys(o);return n.forEach(((e,t)=>{0!==t&&(l+="&");const a=o[e];Array.isArray(a)?a.forEach(((t,o)=>{0!==o&&(l+="&"),l+=`${e}[]=${t}`})):l+=`${e}=${a}`})),encodeURI(a+(0===n.length?"":l))},A=function(e,t={},o={}){return window.appGlobal.baseUrl+L(e,t,o)},U=function(e,t={},o={}){window.location.href=A(e,t,o)},P=function(){window.location.reload()};class q{constructor(e,t=""){(0,$.Z)(this,"_http",void 0),(0,$.Z)(this,"_baseUrl",void 0),(0,$.Z)(this,"_apiSection",void 0),(0,$.Z)(this,"_cacheStorage",void 0),(0,$.Z)(this,"_ignorePathRegex",void 0),this._baseUrl=e,this._apiSection=t,this._http=T.Z.create({baseURL:this._baseUrl}),this._cacheStorage=new B(localStorage),this.setupResponseInterceptors((0,a.getCurrentInstance)())}setIgnorePath(e){this._ignorePathRegex=new RegExp(e)}getAll(e){const t={"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-store, no-cache, must-revalidate, post-check=0, pre-check=0"};return this._http.get(this._apiSection,{headers:t,params:e})}get(e,t){const o={"Content-Type":"application/json"};return this._http.get(`${this._apiSection}/${e}`,{headers:o,params:t})}create(e){const t={"Content-Type":"application/json",Accept:"application/json"};return this._http.post(this._apiSection,e,{headers:t})}update(e,t){const o={"Content-Type":"application/json"};return this._http.put(`${this._apiSection}/${e}`,t,{headers:o})}delete(e){const t={"Content-Type":"application/json"};return this._http.delete(`${this._apiSection}/${e}`,{headers:t})}deleteAll(e){const t={"Content-Type":"application/json"};return this._http.delete(`${this._apiSection}`,{headers:t,data:e})}request(e){const t={"Content-Type":"application/json"};return this._http.request({url:this._apiSection,headers:t,...e})}ignoreError(e){if(this._ignorePathRegex&&(422===e.response?.status||400===e.response?.status)){const t=e.response.config.url??"";return this._ignorePathRegex.test(t)}return!1}setupResponseInterceptors(e){this._http.interceptors.response.use((e=>e),(t=>{if(401===t.response?.status)return P(),Promise.reject();if(this.ignoreError(t))return Promise.reject(t.response);const o=e?.appContext.config.globalProperties.$toast;if(o&&"ECONNABORTED"!==t.code){const e=t.response?.data;o.unexpectedError(e?.error.message||null)}return Promise.reject(t)}));{const e=e=>e.startsWith("W/")?e.substring(2):e;this._http.interceptors.request.use((e=>{if(e.url){const t=e.url,o=this._cacheStorage.getItem(t);o&&(e.headers={...e.headers,"If-None-Match":o})}return e}),(e=>Promise.reject(e))),this._http.interceptors.response.use((t=>{const{config:o,headers:a}=t;if(o.url&&a){const l=o.url,n=a["etag"],r=this._cacheStorage.getItem(l);n&&n!==r&&(this._cacheStorage.removeItem(l),this._cacheStorage.setItem(l,e(n)),r&&this._cacheStorage.removeItem(r),this._cacheStorage.setItem(e(n),JSON.stringify(t.data)))}return t}),(t=>{if(304===t.response?.status){const o=t.response.headers["etag"];if(o){const a=this._cacheStorage.getItem(e(o));if(a)return Promise.resolve({...t.response,status:200,data:JSON.parse(a)})}}return Promise.reject(t)}))}}get http(){return this._http}get baseUrl(){return this._baseUrl}set apiSection(e){this._apiSection=e}}var M={components:{"oxd-loading-spinner":n.OxdSpinner,"oxd-dialog":n.OxdDialog},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/core/about");return{http:e}},data(){return{isLoading:!1,data:null}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.data={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){this.$emit("close",!0)}}};const F=(0,i.Z)(M,[["render",D],["__scopeId","data-v-6e9b5d48"]]);var O=F;const j={class:"oxd-layout"},z={class:"oxd-layout-navigation"},R={class:"oxd-layout-context"},G={class:"oxd-layout-footer"};function Z(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-side-panel"),s=(0,a.resolveComponent)("oxd-top-bar"),d=(0,a.resolveComponent)("oxd-overlay");return(0,a.openBlock)(),(0,a.createElementBlock)("div",j,[(0,a.createElementVNode)("div",z,[(0,a.createVNode)(i,{toggle:e.collapse,"home-url":e.homeUrl,"brand-logo-src":e.brandLogoSrc,"menu-items":e.sidepanelMenuItems,"brand-banner-src":e.brandBannerSrc,onCollapse:e.onCollapse},null,8,["toggle","home-url","brand-logo-src","menu-items","brand-banner-src","onCollapse"]),(0,a.createVNode)(s,{user:e.user,toggle:e.collapse,breadcrumb:e.breadcrumb,"menu-items":e.topbarMenuItems,onCollapse:e.onCollapse},{"user-context":(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"user-actions",{},void 0,!0)])),"nav-context":(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"nav-actions",{},void 0,!0)])),_:3},8,["user","toggle","breadcrumb","menu-items","onCollapse"])]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.containerClasses)},[(0,a.createVNode)(d,{class:"oxd-layout-overlay",show:e.collapse,onClick:e.onCollapse},null,8,["show","onClick"]),(0,a.createElementVNode)("div",R,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)]),(0,a.createElementVNode)("div",G,[(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])],2)])}const Q={class:"oxd-navbar-nav",role:"navigation","aria-label":"Sidepanel"},H={class:"oxd-sidepanel-header"},W={class:"oxd-sidepanel-body"};function Y(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-branding"),s=(0,a.resolveComponent)("oxd-icon"),d=(0,a.resolveComponent)("oxd-main-menu");return(0,a.openBlock)(),(0,a.createElementBlock)("aside",{class:(0,a.normalizeClass)(["oxd-sidepanel",e.classes])},[(0,a.createElementVNode)("nav",Q,[(0,a.createElementVNode)("div",H,[(0,a.createVNode)(i,{toggle:e.toggle,"logo-src":e.brandLogoSrc,"banner-src":e.brandBannerSrc,url:e.homeUrl},null,8,["toggle","logo-src","banner-src","url"]),(0,a.createVNode)(s,{name:"x",class:"oxd-sidepanel-header-close",onClick:t[0]||(t[0]=t=>e.$emit("collapse"))})]),(0,a.createElementVNode)("div",W,[(0,a.createVNode)(d,{toggle:e.toggle,"menu-items":e.menuItems,onCollapse:t[1]||(t[1]=t=>e.$emit("collapse"))},null,8,["toggle","menu-items"])])])],2)}const J=["href"],X={class:"oxd-brand-logo"},K=["src"],ee=["src"];function te(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("a",{class:(0,a.normalizeClass)(["oxd-brand",e.classes]),href:e.url},[(0,a.withDirectives)((0,a.createElementVNode)("div",X,[(0,a.createElementVNode)("img",{alt:"client brand logo",src:e.logoSrc},null,8,K)],512),[[a.vShow,e.toggle]]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["oxd-brand-banner",e.classes])},[(0,a.createElementVNode)("img",{alt:"client brand banner",src:e.bannerSrc},null,8,ee)],2)],10,J)}var oe=(0,a.defineComponent)({name:"OxdBranding",props:{url:{type:String,required:!1,default:"/"},logoSrc:{type:String,required:!1,default:""},bannerSrc:{type:String,required:!1,default:""},toggle:{type:Boolean,required:!1,default:!1}},computed:{classes(){return{toggled:this.toggle}}}});const ae=(0,i.Z)(oe,[["render",te],["__scopeId","data-v-48879680"]]);var le=ae;const ne=e=>((0,a.pushScopeId)("data-v-ad1ba25e"),e=e(),(0,a.popScopeId)(),e),re={class:"oxd-main-menu --fixed"},ie={class:"oxd-main-menu-search"},se={class:"flex flex-row justify-center"},de=ne((()=>(0,a.createElementVNode)("hr",{class:"oxd-main-menu-divider"},null,-1))),ce={class:"oxd-main-menu"};function me(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-input"),d=(0,a.resolveComponent)("oxd-icon-button"),c=(0,a.resolveComponent)("oxd-main-menu-item");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",re,[(0,a.createElementVNode)("div",ie,[(0,a.createElementVNode)("div",se,[(0,a.createVNode)(i,{name:"search",type:"svg",width:"22",height:"22",class:"oxd-menu-icon"}),(0,a.createVNode)(s,{modelValue:e.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchTerm=t),placeholder:"Search",class:(0,a.normalizeClass)({toggled:e.toggle})},null,8,["modelValue","class"])]),(0,a.createVNode)(d,{name:e.toggle?"chevron-right":"chevron-left",class:"oxd-main-menu-button",role:"none",onClick:e.onClickCollapse},null,8,["name","onClick"])]),de]),(0,a.createElementVNode)("ul",ce,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.filteredMenuItems,((t,o)=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:`oxd-main-menu-${o}`,url:t.url,active:t.active,collapsed:e.toggle,name:t.name,"icon-type":t?.iconType,icon:t.icon},null,8,["url","active","collapsed","name","icon-type","icon"])))),128))])],64)}const ue={class:"oxd-main-menu-item-wrapper"},pe=["href"];function he(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("li",ue,[(0,a.createElementVNode)("a",{class:(0,a.normalizeClass)(e.menuClasses),href:e.url},[(0,a.createVNode)(i,{name:e.icon,type:e.iconType||"svg",width:"22",height:"22",class:(0,a.normalizeClass)(["oxd-main-menu-item--icon",{"text-bold":"bootstrap"===e.iconType}])},null,8,["name","type","class"]),(0,a.createVNode)(s,{tag:"span",class:"oxd-main-menu-item--name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.name),1)])),_:1})],10,pe)])}var ge=(0,a.defineComponent)({name:"OxdMainMenuItem",components:{"oxd-text":n.OxdText,"oxd-icon":n.OxdIcon},props:{url:{type:String,required:!1,default:"#"},active:{type:Boolean,required:!1,default:!1},collapsed:{type:Boolean,required:!1,default:!1},name:{type:String,required:!1,default:""},iconType:{type:String,required:!1,default:null},icon:{type:String,required:!1,default:"home"}},computed:{menuClasses(){return{"oxd-main-menu-item":!0,active:this.active,toggle:this.collapsed}}}});const ve=(0,i.Z)(ge,[["render",he],["__scopeId","data-v-217ad183"]]);var fe=ve,ye=o(6791);const Ce={},be=()=>(e,t={})=>{try{if(!Ce[e])return e;const o=Ce[e].format(t);return Array.isArray(o)?"string"===typeof o[0]?o[0]:e:o}catch(o){return console.error(o),e}},Ve=()=>({beforeCreate(){this.$t=be()}});function xe(e){const t=new q(e.baseUrl,e.resourceUrl);return{init:function(){return new Promise((e=>{t.request({method:"GET",headers:{Accept:"application/json",contentType:"application/json",...!1}}).then((e=>{const{data:t}=e,o={};for(const a in t)o[a]=t[a].target||t[a].source,Ce[a]=new ye.ZP(t[a].target||t[a].source,void 0,void 0,{ignoreTag:!0});n.StoreService.mergeConfig({language:o})})).finally((()=>e()))}))},i18n:function(e){e.mixin(Ve())}}}var we=xe;function Ne(){const e=be();return{$t:e}}var ke=(0,a.defineComponent)({name:"OxdMainMenu",components:{"oxd-icon":n.OxdIcon,"oxd-input":n.OxdInput,"oxd-icon-button":n.OxdIconButton,"oxd-main-menu-item":fe},props:{url:{type:String,required:!1,default:"/"},toggle:{type:Boolean,required:!1,default:!1},menuItems:{type:Array,required:!1,default:()=>[]}},emits:["collapse"],setup(){return{...Ne()}},data(){return{searchTerm:""}},computed:{classes(){return{toggled:this.toggle}},filteredMenuItems(){const e=this.searchTerm.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),t=new RegExp(e,"i");return this.menuItems.filter((e=>e.name.match(t)))}},methods:{onClickCollapse(){this.$emit("collapse"),setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),350)}}});const _e=(0,i.Z)(ke,[["render",me],["__scopeId","data-v-ad1ba25e"]]);var Se=_e,De=(0,a.defineComponent)({name:"OxdSidePanel",components:{"oxd-icon":n.OxdIcon,"oxd-branding":le,"oxd-main-menu":Se},props:{toggle:{type:Boolean,required:!1,default:!1},brandLogoSrc:{type:String,required:!1,default:""},brandBannerSrc:{type:String,required:!1,default:""},homeUrl:{type:String,required:!1,default:"/"},menuItems:{type:Array,required:!1,default:()=>[]}},emits:["collapse"],computed:{classes(){return{toggled:this.toggle}}}});const $e=(0,i.Z)(De,[["render",Y],["__scopeId","data-v-675e2347"]]);var Te=$e,Ee=(0,a.defineComponent)({name:"OxdLayout",components:{"oxd-top-bar":n.OxdTopbar,"oxd-overlay":n.OxdOverlay,"oxd-side-panel":Te},props:{user:{type:Object,required:!0},sidepanelMenuItems:{type:Object,required:!0},topbarMenuItems:{type:Object,required:!0},breadcrumb:{type:Object,required:!0},brandLogoSrc:{type:String,required:!0},brandBannerSrc:{type:String,required:!0},homeUrl:{type:String,required:!1,default:"/"}},data(){return{collapse:!1}},computed:{containerClasses(){return{"oxd-layout-container":!0,"--collapse":this.collapse}}},methods:{onCollapse(){this.collapse=!this.collapse}}});const Ie=(0,i.Z)(Ee,[["render",Z],["__scopeId","data-v-6ce6da0a"]]);var Be=Ie;const Le=Symbol("dateFormat");function Ae(){const e=(0,a.inject)(Le);if(!e)throw new Error("Date format is invalid");const t=(0,n.convertPHPDateFormat)(e.id),o=e.label,l="HH:mm",r="hh:mm a";return{timeFormat:l,jsTimeFormat:r,jsDateFormat:t,userDateFormat:o}}var Ue={components:{about:O,"oxd-layout":Be},inheritAttrs:!1,props:{permissions:{type:Object,default:()=>({})},logoutUrl:{type:String,default:"#"},homeUrl:{type:String,default:"#"},supportUrl:{type:String,default:"#"},updatePasswordUrl:{type:String,default:"#"},dateFormat:{type:Object,default:null},helpUrl:{type:String,default:null}},setup(e){const t=(0,a.ref)(!1);(0,a.provide)("permissions",(0,a.readonly)(e.permissions)),(0,a.provide)(Le,(0,a.readonly)(e.dateFormat));const o=()=>{t.value=!0},l=()=>{t.value=!1},n=()=>{e.helpUrl&&window.open(e.helpUrl,"_blank")};return console.log("base mounted"),{onClickSupport:n,showAboutModel:t,openAboutModel:o,closeAboutModel:l}}};const Pe=(0,i.Z)(Ue,[["render",k]]);var qe=Pe;function Me(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"date",placeholder:l.userDateFormat,"day-attributes":e.attributes,events:e.events,"display-format":l.jsDateFormat,locale:l.locale,onSelectYear:l.onSelectYear},null,8,["placeholder","day-attributes","events","display-format","locale","onSelectYear"])}var Fe=o(2034),Oe=o(1132),je=o(9474),ze=o(3151),Re=o(2300),Ge=o(1699),Ze=o(8148),Qe=o(876),He=o(7349),We=o(1085);const Ye=[{offset:0,label:"Europe/London"},{offset:1,label:"Europe/Belgrade"},{offset:2,label:"Europe/Minsk"},{offset:3,label:"Asia/Kuwait"},{offset:4,label:"Asia/Muscat"},{offset:5,label:"Asia/Yekaterinburg"},{offset:5.5,label:"Asia/Kolkata"},{offset:6,label:"Asia/Dhaka"},{offset:7,label:"Asia/Krasnoyarsk"},{offset:8,label:"Asia/Brunei"},{offset:9,label:"Asia/Seoul"},{offset:9.5,label:"Australia/Darwin"},{offset:10,label:"Australia/Canberra"},{offset:11,label:"Asia/Magadan"},{offset:12,label:"Pacific/Fiji"},{offset:-11,label:"Pacific/Midway"},{offset:-10,label:"Pacific/Honolulu"},{offset:-9,label:"America/Anchorage"},{offset:-8,label:"America/Los_Angeles"},{offset:-7,label:"America/Denver"},{offset:-6,label:"America/Tegucigalpa"},{offset:-5,label:"America/New_York"},{offset:-4,label:"America/Halifax"},{offset:-3.5,label:"America/St_Johns"},{offset:-3,label:"America/Argentina/Buenos_Aires"},{offset:-2,label:"Atlantic/South_Georgia"},{offset:-1,label:"Atlantic/Azores"}],Je=()=>new Date((new Date).setHours(0,0,0,0)),Xe=(e,t="yyyy-MM-dd",o={})=>{try{const a=(0,Fe.Z)(e,t,Je(),o);return!isNaN(a.valueOf())&&a.getFullYear()>=1e3?a:null}catch(a){return null}},Ke=(e,t,o={})=>{try{return(0,Oe.Z)(e,t,o)}catch(a){return null}},et=(e,t,o)=>{const a=Xe(e,o),l=Xe(t,o);return!(!a||!l)&&-1===(0,je.Z)(a,l)},tt=(e,t,o)=>{const a=Xe(e,o),l=Xe(t,o);return!(!a||!l)&&1===(0,je.Z)(a,l)},ot=(e,t,o)=>{const a=Xe(e,o),l=Xe(t,o);return!(!a||!l)&&0===(0,je.Z)(a,l)},at=(e,t)=>Xe(e,t),lt=(e,t,o={})=>Ke(e,t,o),nt=(e,t,o)=>{const a=Xe(e,o),l=Xe(t,o);if(a&&l){if(a.valueOf()<l.valueOf())return 1;if(a.valueOf()>l.valueOf())return-1;if(a.valueOf()===l.valueOf())return 0}return NaN},rt=(e,t,o="yyyy-MM-dd")=>{const a=Xe(e,o),l=Xe(t,o);return a&&l?(0,ze.Z)(l,a)?1:(0,Re.Z)(l,a)+1:0},it=(e,t,o="HH:mm")=>{const a=at(e,o),l=at(t,o);if(a&&l){const e=(0,Ge.Z)(l,a);if(e>0)return e}return 0},st=e=>{const t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60);return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},dt=e=>{if(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(e)){const t=e.split(":");return 60*parseInt(t[0])*60+60*parseInt(t[1])}return parseFloat(e)<24&&/^([0-9])+(?:\.[0-9]{1,2})?$/.test(e)?60*parseFloat(e)*60:-1},ct=(e,t=1e3)=>{t=t<1e3?1e3:t;const o=()=>{e(),setTimeout(o,t-(new Date).getTime()%t)};o()},mt=e=>(e>0?"+":"-")+String(Math.abs(e).toFixed(2)).split(".").map(((e,t)=>0===t?e.padStart(2,"0"):String(.6*parseInt(e)).padEnd(2,"0"))).join(":"),ut=()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;const t=(new Date).getTimezoneOffset()/60*-1;if(void 0===e){const o=Ye.find((e=>e.offset===t));e=o?o.label:Ye[0].label}const o=mt(t);return{name:e,label:`(GMT ${o}) ${e}`,offset:t}};function pt(){const{$t:e}=Ne(),t=(0,n.buildLocale)({months:{wide:[e("general.january"),e("general.february"),e("general.march"),e("general.april"),e("general.may"),e("general.june"),e("general.july"),e("general.august"),e("general.september"),e("general.october"),e("general.november"),e("general.december")],abbreviated:[e("general.jan"),e("general.feb"),e("general.mar"),e("general.apr"),e("general.may"),e("general.jun"),e("general.jul"),e("general.aug"),e("general.sep"),e("general.oct"),e("general.nov"),e("general.dec")]},days:{abbreviated:[e("general.sun"),e("general.mon"),e("general.tue"),e("general.wed"),e("general.thu"),e("general.fri"),e("general.sat")],wide:[e("general.sunday"),e("general.monday"),e("general.tuesday"),e("general.wednesday"),e("general.thursday"),e("general.friday"),e("general.saturday")]}});return{locale:t}}var ht={name:"DateInput",setup(){const e=(0,a.reactive)({attributes:[],events:[]}),t=new q(window.appGlobal.baseUrl,""),{jsDateFormat:o,userDateFormat:l}=Ae(),{locale:n}=pt(),r=e=>e>=200&&e<300||403===e,i=async()=>{t.request({method:"GET",url:"/api/v2/leave/workweek",params:{model:"indexed"},validateStatus:r}).then((({data:t})=>{t?.data&&(e.attributes=Object.keys(t.data).map((e=>({index:parseInt(e),class:8===t.data[e]?"--non-working-day":4===t.data[e]?"--working-day-half":""}))))}))},s=async(o,a)=>{t.request({method:"GET",url:"/api/v2/leave/holidays",params:{fromDate:o,toDate:a},validateStatus:r}).then((({data:t})=>{Array.isArray(t?.data)&&(e.events=t.data.map((e=>({date:Xe(e.date,"yyyy-MM-dd"),type:e.name,class:0===e.length?"--holiday-full":"--holiday-half"}))))}))},d=async({year:e})=>{const t=(new Date).setFullYear(e),o=Ke((0,Ze.Z)(t),"yyyy-MM-dd"),a=Ke((0,Qe.Z)(t),"yyyy-MM-dd");s(o,a)};return(0,a.onBeforeMount)((async()=>{await i(),await d({year:(new Date).getFullYear()})})),{jsDateFormat:o,userDateFormat:l,...(0,a.toRefs)(e),onSelectYear:d,locale:n}}};const gt=(0,i.Z)(ht,[["render",Me]]);var vt=gt;function ft(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"time",step:15,placeholder:e.$t("attendance.hh_mm")},null,8,["placeholder"])}var yt={name:"TimeInput"};const Ct=(0,i.Z)(yt,[["render",ft]]);var bt=Ct,Vt={install:e=>{e.component("OxdLayout",qe),e.component("OxdCardTable",n.OxdCardTable),e.component("OxdButton",n.OxdButton),e.component("OxdPagination",n.OxdPagination),e.component("OxdDivider",n.OxdDivider),e.component("OxdText",n.OxdText),e.component("OxdIconButton",n.OxdIconButton),e.component("OxdForm",n.OxdForm),e.component("OxdFormRow",n.OxdFormRow),e.component("OxdFormActions",n.OxdFormActions),e.component("OxdInputField",n.OxdInputField),e.component("OxdInputGroup",n.OxdInputGroup),e.component("OxdGrid",n.OxdGrid),e.component("OxdGridItem",n.OxdGridItem),e.component("OxdTableFilter",n.OxdTableFilter),e.component("SubmitButton",d),e.component("TableHeader",v),e.component("RequiredText",b),e.component("DateInput",vt),e.component("TimeInput",bt)}};function xt(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-alert");return(0,a.openBlock)(),(0,a.createBlock)(i,{show:!0,type:"warn",message:e.$t("general.no_records_found")},null,8,["message"])}var wt={components:{"oxd-alert":n.OxdAlert}};const Nt=(0,i.Z)(wt,[["render",xt]]);var kt=Nt;function _t(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-alert");return(0,a.openBlock)(),(0,a.createBlock)(i,{show:!0,type:"warn",message:e.$t("general.bad_request")},null,8,["message"])}var St={components:{"oxd-alert":n.OxdAlert}};const Dt=(0,i.Z)(St,[["render",_t]]);var $t=Dt;const Tt={class:"orangehrm-background-container"},Et={class:"orangehrm-card-container"},It={class:"wrapper"},Bt={class:"orangehrm-module-under-development"},Lt=["src"];function At(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Tt,[(0,a.createElementVNode)("div",Et,[(0,a.createElementVNode)("div",It,[(0,a.createElementVNode)("div",Bt,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-module-under-development-heading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" A competitive HRM solution that centralizes employee data, automates administrative tasks, and offers various features to optimize workforce management for businesses of all sizes. ")])),_:1}),(0,a.createElementVNode)("img",{src:n.moduleUnderDevelopment,class:"orangehrm-module-under-development-img",alt:"this module is under development"},null,8,Lt),(0,a.createVNode)(i,{tag:"h4",class:"orangehrm-module-under-development-soon-heading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" COMING SOON... ")])),_:1})])])])])}var Ut={data(){return{moduleUnderDevelopment:`${window.appGlobal.baseUrl}/../images/coming-soon.gif`}}};const Pt=(0,i.Z)(Ut,[["render",At],["__scopeId","data-v-ebf9b056"]]);var qt=Pt;const Mt={class:"orangehrm-background-container"},Ft={class:"orangehrm-card-container"},Ot={class:"orangehrm-module-disabled"};function jt(e,t){const o=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Mt,[(0,a.createElementVNode)("div",Ft,[(0,a.createElementVNode)("div",Ot,[(0,a.createVNode)(o,{tag:"h1",class:"orangehrm-module-disabled-heading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" 403 ")])),_:1}),(0,a.createVNode)(o,{tag:"h4",class:"orangehrm-module-disabled-sub-heading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.module_forbidden")),1)])),_:1}),(0,a.createVNode)(o,{tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.module_access_restriction")),1)])),_:1})])])])}const zt={},Rt=(0,i.Z)(zt,[["render",jt],["__scopeId","data-v-3d2f2dd1"]]);var Gt=Rt;function Zt(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-alert");return(0,a.openBlock)(),(0,a.createBlock)(i,{show:!0,type:"warn",message:e.$t("time.timesheet_period_not_defined")},null,8,["message"])}var Qt={components:{"oxd-alert":n.OxdAlert}};const Ht=(0,i.Z)(Qt,[["render",Zt]]);var Wt=Ht,Yt={"bad-request":$t,"no-records-found":kt,"module-under-development":qt,"disabled-module":Gt,"time-sheet-period-not-defined":Wt};const Jt={class:"orangehrm-background-container"},Xt={class:"orangehrm-paper-container"},Kt={class:"orangehrm-header-container"},eo={class:"orangehrm-container"},to={class:"orangehrm-bottom-container"};function oo(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Jt,[(0,a.createElementVNode)("div",Xt,[(0,a.createElementVNode)("div",Kt,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.job_titles")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",eo,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",to,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}o(7658);function ao(){const e=(0,a.getCurrentInstance)()?.appContext.config.globalProperties.$toast,t=e=>(...t)=>e&&e(...t);return{notify:t(e?.notify),show:t(e?.show),success:t(e?.success),error:t(e?.error),info:t(e?.info),warn:t(e?.warn),clear:t(e?.clear),clearAll:t(e?.clearAll),saveSuccess:t(e?.saveSuccess),addSuccess:t(e?.addSuccess),updateSuccess:t(e?.updateSuccess),deleteSuccess:t(e?.deleteSuccess),cannotDelete:t(e?.cannotDelete),noRecordsFound:t(e?.noRecordsFound)}}async function lo(e,t){try{const o=await e.getAll(t);return{data:o.data.data,meta:o.data.meta,error:!1}}catch(o){return{error:!0,message:o.message}}}function no(e,t){const o=e*(t-1);return{limit:e,offset:o}}function ro(e){const t=JSON.parse(JSON.stringify((0,a.unref)(e)));for(const[o,a]of Object.entries(t))t[o]=null===a||""===a?void 0:a;return t}function io(e){return e}function so(e,{query:t={},normalizer:o=io,prefetch:l=!0,toastNoRecords:n=!0,pageSize:r=50}={}){const i=(0,a.reactive)({showPaginator:!1,isLoading:!1,response:{},total:0,pages:0,currentPage:1}),{noRecordsFound:s}=ao(),d=async()=>{i.isLoading=!0;const a=no(r,i.currentPage),l=ro(t);if(i.response=await lo(e,{...a,...l}),!i.response.error){const{data:e,...t}=i.response,a=o(e);i.response={data:a,...t}}i.response.meta&&(i.total=i.response.meta.total,i.total>r?(i.showPaginator=!0,i.pages=Math.ceil(i.total/r)):(i.currentPage=1,i.pages=1,i.showPaginator=!1),0===i.total&&n&&s()),i.isLoading=!1};return l&&(0,a.onBeforeMount)(d),(0,a.watch)((()=>i.currentPage),d),{...(0,a.toRefs)(i),execQuery:d}}const co={class:"orangehrm-modal-header"},mo={class:"orangehrm-text-center-align"},uo={class:"orangehrm-modal-footer"};function po(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",co,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.are_you_sure")),1)])),_:1})]),(0,a.createElementVNode)("div",mo,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.message||e.$t("general.delete_confirmation_message")),1)])),_:1})]),(0,a.createElementVNode)("div",uo,[(0,a.createVNode)(s,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{label:o.confirmButtonText||e.$t("general.yes_delete"),"icon-name":o.withConfirmationIcon?"trash":"","display-type":"label-danger",class:"orangehrm-button-margin",onClick:r.onDelete},null,8,["label","icon-name","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var ho={components:{"oxd-dialog":n.OxdDialog},props:{message:{type:String,default:null,required:!1},confirmButtonText:{type:String,default:null,required:!1},withConfirmationIcon:{type:Boolean,default:!0,required:!1}},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))},onDelete(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const go=(0,i.Z)(ho,[["render",po],["__scopeId","data-v-8e5ca19c"]]);var vo=go;function fo(e){const t=(0,a.ref)({...JSON.parse(JSON.stringify(e.sortDefinition))}),o=(0,a.computed)((()=>Object.keys(t.value).filter((e=>{const o=t.value[e];return o&&"DEFAULT"!=o}))[0])),l=(0,a.computed)((()=>t.value[o.value])),n=e=>(0,a.watch)(t,e);return{sortDefinition:t,sortField:o,sortOrder:l,onSort:n}}const yo={jobTitleName:"",jobDescription:""},Co={"jt.jobTitleName":"ASC"};var bo={components:{"delete-confirmation":vo},setup(){const e=(0,a.ref)({...yo}),{sortDefinition:t,sortField:o,sortOrder:l,onSort:n}=fo({sortDefinition:Co}),r=(0,a.computed)((()=>({jobTitleName:e.value.jobTitleName,jobDescription:e.value.jobDescription,sortField:o.value,sortOrder:l.value}))),i=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-titles"),{showPaginator:s,currentPage:d,total:c,pages:m,pageSize:u,response:p,isLoading:h,execQuery:g}=so(i,{query:r});return n(g),{http:i,showPaginator:s,currentPage:d,isLoading:h,total:c,pages:m,pageSize:u,execQuery:g,items:p,filters:e,sortDefinition:t}},data(){return{headers:[{name:"title",slot:"title",title:this.$t("admin.job_titles"),sortField:"jt.jobTitleName",style:{flex:2}},{name:"description",cellType:"oxd-table-cell-truncate",title:this.$t("admin.job_description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveJobTitle")},onClickEdit(e){U("/admin/saveJobTitle/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Vo=(0,i.Z)(bo,[["render",oo]]);var xo=Vo;const wo={class:"orangehrm-background-container"},No={class:"orangehrm-card-container"};function ko(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("file-upload-input"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wo,[(0,a.createElementVNode)("div",No,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_job_title")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.jobTitle.title=e),label:e.$t("general.job_title"),rules:n.rules.title,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jobTitle.description=e),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{newFile:n.jobTitle.newSpecification,"onUpdate:newFile":t[2]||(t[2]=e=>n.jobTitle.newSpecification=e),method:n.jobTitle.method,"onUpdate:method":t[3]||(t[3]=e=>n.jobTitle.method=e),label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),file:n.jobTitle.oldSpecification,rules:n.rules.specification,url:"admin/viewJobSpecification/attachId",hint:e.$t("general.accepts_up_to_1mb")},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.note,"onUpdate:modelValue":t[4]||(t[4]=e=>n.jobTitle.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),rules:n.rules.note,"label-icon":"pencil-square"},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const _o=be(),So=function(e){return"string"===typeof e?!!e&&""!==e.trim()||_o("general.required"):"number"===typeof e?!Number.isNaN(e)||"general.required":Array.isArray(e)?!!e&&0!==e.length||_o("general.required"):"object"===typeof e&&null!==e||_o("general.required")},Do=function(e){return function(t){return!t||new String(t).length<=e||_o("general.should_be_less_n_characters",{amount:e})}},$o=function(e="yyyy-mm-dd",t="yyyy-MM-dd"){return function(o){if(!o)return!0;const a=Xe(o,t);return!!a||_o("general.should_be_a_valid_date_in_x_format",{format:e})}},To=function(){return function(e){if(!e)return!0;const t="yyyy-MM-dd",o=Ke(new Date,t)||"",a=rt(e,o,t);return a>0||_o("recruitment.should_be_current_date_previous_date")}},Eo=function(e){if(!e)return!0;const t=Xe(e,"HH:mm");return!!t||_o("general.should_be_a_valid_date_in_hh:mm_format")},Io=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||_o("general.should_be_less_than_n",{amount:e})}},Bo=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||_o("general.should_be_a_number")},Lo=function(e){return""==e||/^\d+$/.test(e)&&!Number.isNaN(parseFloat(e))||_o("general.should_be_a_numeric_value")},Ao=function(e){return""==e||/^\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||_o("general.should_be_a_number")},Uo=function(e){return""==e||/^-?\d*\.?\d*$/.test(e)&&!Number.isNaN(parseFloat(e))||_o("general.should_be_a_number")},Po=function(e,t,o="yyyy-MM-dd"){return!e||!t||et(e,t,o)},qo=function(e,t,o="yyyy-MM-dd"){return!e||!t||tt(e,t,o)},Mo=function(e,t,o="yyyy-MM-dd"){return!e||!t||ot(e,t,o)},Fo=(e,t,o={allowSameDate:!1,dateFormat:"yyyy-MM-dd"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:_o("general.end_date_should_be_after_start_date");return o.allowSameDate?Mo(a,l)||qo(a,l,o.dateFormat)||n:qo(a,l,o.dateFormat)||n},Oo=function(e,t,o="yyyy-MM-dd"){return!e||!t||1===nt(e,t,o)},jo=function(e,t,o="HH:mm"){return!e||!t||-1===nt(e,t,o)},zo=function(e,t,o="HH:mm"){return!e||!t||0===nt(e,t,o)},Ro=(e,t,o={allowSameTime:!1,timeFormat:"HH:mm"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:_o("general.end_time_should_be_after_start_time");return o.allowSameTime?zo(a,l)||jo(a,l,o.timeFormat)||n:jo(a,l,o.timeFormat)||n},Go=function(e){return function(t){return null===t||t.size&&t.size<=e||_o("general.attachment_size_exceeded")}},Zo=function(e){return function(t){return null===t||t&&e.findIndex((e=>e===t.type))>-1||_o("general.file_type_not_allowed")}},Qo=function(e){return!e||/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/.test(e)||_o("general.expected_email_address_format_not_matched")},Ho=function(e){return!e||/^[0-9+\-/() ]+$/.test(e)||_o("general.allows_phone_numbers_only")},Wo=(e,t,o={allowSameDate:!1,dateFormat:"yyyy-MM-dd"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:_o("general.start_date_should_be_before_end_date");return o.allowSameDate?Mo(a,l)||Po(a,l,o.dateFormat)||n:Po(a,l,o.dateFormat)||n},Yo=function(e){return function(t){return Number.isNaN(parseFloat(t))||parseFloat(t)<e||_o("general.should_be_less_than_n",{amount:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})}},Jo=(e,t,o={allowSameTime:!1,timeFormat:"HH:mm"})=>a=>{const l="function"===typeof e?e():e,n="string"===typeof t?t:_o("general.start_time_should_be_before_end_time");return o.allowSameTime?zo(a,l)||Oo(a,l,o.timeFormat)||n:Oo(a,l,o.timeFormat)||n},Xo=function(e){return function(t){return!t||String(t).length>=e||_o("general.should_be_least_n_characters",{amount:e})}},Ko=(e,t)=>o=>{const a="function"===typeof e?e():e,l="string"===typeof t?t:_o("general.should_be_higher_than_minimum_value");return null===a||null===o||(void 0===a||void 0===o||(""===a||""===o||("0"===a||"0"===o||(parseFloat(a)<parseFloat(o)||l))))},ea=(e,t)=>o=>{const a="function"===typeof e?e():e,l="string"===typeof t?t:_o("general.should_be_lower_than_maximum_value");return null===a||null===o||(void 0===a||void 0===o||(""===a||"0"===o||(parseFloat(a)>parseFloat(o)||l)))},ta=(e,t,o)=>a=>{const l="string"===typeof o?o:_o("general.should_be_a_number_between_min_and_max",{min:e,max:t});return!0===Bo(a)&&parseFloat(a)>=e&&parseFloat(a)<=t||l},oa=function(e){return!e||(!!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e)||_o("general.invalid"))},aa=function(e,t=.1){return function(o){return new Promise((a=>{if(null===o||"image/svg+xml"===o.type)return a(!0);const l=new Image;l.src=`data:${o.type};base64, ${o.base64}`,l.decode().then((()=>{Math.abs(l.width/l.height-e)<t?a(!0):a(_o("general.incorrect_dimensions"))}))}))}},la=function(e,t){const o="string"===typeof t?t:_o("general.greater_than_or_equal_to_n",{minValue:e});return function(t){return null===t||""===t||(!0!==Uo(t)?o:parseFloat(t)>=e||o)}},na=function(e,t){const o="string"===typeof t?t:_o("general.less_than_or_equal_to_n",{maxValue:e});return function(t){return null===t||""===t||(!0!==Uo(t)?o:parseFloat(t)<=e||o)}},ra=function(e){return null===e||""===e||(0===e.split("").reduce(((e,t)=>("{"===t&&e++,"}"===t&&e--,e)),0)||_o("general.invalid"))},ia=function(e){return"string"!==typeof e||_o("general.invalid")},sa=function(e){let t;return t=/\p{L}/u.test(e)?/^([\p{L}\p{N}\p{S}\-.])+(\.?([\p{L}\p{N}]|xn--[\p{L}\p{N}-]+)+\.?)(:[0-9]+)?$/gu:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,!e||t.test(e)||_o("general.invalid")},da=function(e,t,o){return function(a){return!a||/^\d+$/.test(a)&&!Number.isNaN(parseFloat(a))&&String(a).length<=e&&parseInt(a)>=t&&parseInt(a)<=o||_o("general.enter_valid_port_between_a_to_b",{minValue:t,maxValue:o})}},ca={class:"orangehrm-file-current"},ma={key:0,class:"orangehrm-file-options"},ua={key:1,class:"orangehrm-file-input"};function pa(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[r.fileSelected?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,label:o.label},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ca,[(0,a.createElementVNode)("div",{class:"orangehrm-file-preview",onClick:t[0]||(t[0]=(...e)=>r.downloadFile&&r.downloadFile(...e))},[(0,a.createVNode)(i,{class:"orangehrm-file-icon",name:"file-earmark-text"}),(0,a.createVNode)(s,{class:"orangehrm-file-name",tag:"p",title:o.file.filename},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.file.filename)+" ",1),(0,a.createVNode)(i,{class:"orangehrm-file-download",name:"download"})])),_:1},8,["title"])]),o.disabled?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",ma,[(0,a.createVNode)(d,{type:"radio","option-label":e.$t("general.keep_current"),value:"keepCurrent","model-value":o.method,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"]),o.deletable?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,type:"radio","option-label":e.$t("general.delete_current"),value:"deleteCurrent","model-value":o.method,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{type:"radio","option-label":e.$t("general.replace_current"),value:"replaceCurrent","model-value":o.method,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:method",t))},null,8,["option-label","model-value"])]))])])),_:1},8,["label"])):(0,a.createCommentVNode)("",!0),"replaceCurrent"!==o.method&&r.fileSelected?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",ua,[(0,a.createVNode)(d,(0,a.mergeProps)(e.$attrs,{type:"file",label:r.fieldLabel,"model-value":o.newFile,disabled:o.disabled,placeholder:e.$t("general.no_file_selected"),"onUpdate:modelValue":t[4]||(t[4]=t=>e.$emit("update:newFile",t))}),null,16,["label","model-value","disabled","placeholder"]),(0,a.createVNode)(s,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.hint),1)])),_:1})]))],64)}var ha={name:"FileUploadInput",components:{"oxd-icon":n.OxdIcon},inheritAttrs:!1,props:{label:{type:String,default:""},hint:{type:String,default:""},url:{type:[String,Function],required:!0},method:{type:String,required:!0},file:{type:Object,required:!1,default:()=>null},newFile:{type:Object,required:!1,default:()=>null},disabled:{type:Boolean,default:!1},deletable:{type:Boolean,default:!0}},emits:["update:method","update:newFile"],computed:{fileSelected(){return this.file&&Object.keys(this.file).length>0},fieldLabel(){return"replaceCurrent"===this.method&&this.fileSelected?this.$t("general.upload_n_file",{fileName:this.label}):this.label}},methods:{downloadFile(){let e;if("function"===typeof this.url)e=this.url(this.$props);else{if(!this.file?.id)return;e=`${window.appGlobal.baseUrl}/${this.url}/${this.file.id}`}window.open(e,"_blank")}}};const ga=(0,i.Z)(ha,[["render",pa],["__scopeId","data-v-0511e208"]]);var va=ga;const fa={title:"",description:"",oldSpecification:"",newSpecification:null,method:"keepCurrent",note:""};var ya={components:{"file-upload-input":va},props:{jobTitleId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-titles");return{http:e}},data(){return{isLoading:!1,jobTitle:{...fa},rules:{title:[So,Do(100)],description:[Do(400)],specification:[e=>"replaceCurrent"!=this.jobTitle.method||So(e),Zo(this.allowedFileTypes),Go(this.maxFileSize)],note:[Do(400)]}}},created(){this.isLoading=!0,this.http.get(this.jobTitleId).then((e=>{const{data:t}=e.data;return this.jobTitle.title=t.title,this.jobTitle.description=t.description,this.jobTitle.note=t.note,this.jobTitle.oldSpecification=t.jobSpecification?.id?t.jobSpecification:null,this.jobTitle.newSpecification=null,this.jobTitle.method="keepCurrent",this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.title.push((e=>{const o=t.findIndex((t=>String(t.title).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.jobTitleId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/admin/viewJobTitleList")},onSave(){this.isLoading=!0,this.http.update(this.jobTitleId,{title:this.jobTitle.title,description:this.jobTitle.description,note:this.jobTitle.note,currentJobSpecification:this.jobTitle.oldSpecification?this.jobTitle.method:void 0,specification:this.jobTitle.newSpecification?this.jobTitle.newSpecification:void 0}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const Ca=(0,i.Z)(ya,[["render",ko]]);var ba=Ca;const Va={class:"orangehrm-background-container"},xa={class:"orangehrm-card-container"};function wa(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Va,[(0,a.createElementVNode)("div",xa,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_job_title")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.jobTitle.title=e),label:e.$t("general.job_title"),rules:n.rules.title,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.jobTitle.description=e),type:"textarea",label:e.$t("admin.job_description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.specification,"onUpdate:modelValue":t[2]||(t[2]=e=>n.jobTitle.specification=e),type:"file",label:e.$t("general.job_specification"),"button-label":e.$t("general.browse"),rules:n.rules.specification},null,8,["modelValue","label","button-label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.jobTitle.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.jobTitle.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:n.rules.note},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Na={title:"",description:"",specification:null,note:""};var ka={props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-titles");return{http:e}},data(){return{isLoading:!1,jobTitle:{...Na},rules:{title:[So,Do(100)],description:[Do(400)],specification:[Zo(this.allowedFileTypes),Go(this.maxFileSize)],note:[Do(400)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.title.push((e=>{const o=t.findIndex((t=>String(t.title).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/admin/viewJobTitleList")},onSave(){this.isLoading=!0,this.http.create({...this.jobTitle}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const _a=(0,i.Z)(ka,[["render",wa]]);var Sa=_a;const Da={class:"orangehrm-background-container"},$a={class:"orangehrm-paper-container"},Ta={class:"orangehrm-header-container"},Ea={class:"orangehrm-container"},Ia={class:"orangehrm-bottom-container"};function Ba(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Da,[(0,a.createElementVNode)("div",$a,[(0,a.createElementVNode)("div",Ta,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.job_categories")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Ea,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",Ia,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var La={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-categories"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.job_category"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveJobCategory")},onClickEdit(e){U("/admin/saveJobCategory/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Aa=(0,i.Z)(La,[["render",Ba]]);var Ua=Aa;const Pa={class:"orangehrm-background-container"},qa={class:"orangehrm-card-container"};function Ma(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Pa,[(0,a.createElementVNode)("div",qa,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_job_category")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.category.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Fa={props:{jobCategoryId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-categories");return{http:e}},data(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[So,Do(50)]},errors:[]}},created(){this.isLoading=!0,this.http.get(this.jobCategoryId).then((e=>{const{data:t}=e.data;return this.category.id=t.id,this.category.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.category.id||this.$t("general.already_exists")}return!0})),this.isLoading=!1})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.jobCategoryId,{name:this.category.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/jobCategory")}}};const Oa=(0,i.Z)(Fa,[["render",Ma]]);var ja=Oa;const za={class:"orangehrm-background-container"},Ra={class:"orangehrm-card-container"};function Ga(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",za,[(0,a.createElementVNode)("div",Ra,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_job_category")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.category.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.category.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Za={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-categories");return{http:e}},data(){return{isLoading:!1,category:{id:"",name:""},rules:{name:[So,Do(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")})),this.isLoading=!1})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.category.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/jobCategory")}}};const Qa=(0,i.Z)(Za,[["render",Ga]]);var Ha=Qa;const Wa={class:"orangehrm-background-container"},Ya=(0,a.createElementVNode)("br",null,null,-1),Ja={class:"orangehrm-paper-container"},Xa={class:"orangehrm-header-container"},Ka={class:"orangehrm-container"},el={class:"orangehrm-bottom-container"};function tl(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("table-header"),y=(0,a.resolveComponent)("oxd-card-table"),C=(0,a.resolveComponent)("oxd-pagination"),b=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Wa,[(0,a.createVNode)(v,{"filter-title":e.$t("admin.system_users")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.username=e),label:e.$t("general.username")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.userRoleId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.userRoleId=e),type:"select",label:e.$t("general.user_role"),options:n.userRoles},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.empNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.empNumber=e),rules:n.rules.employee},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),options:n.userStatuses},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),Ya,(0,a.createElementVNode)("div",Ja,[(0,a.createElementVNode)("div",Xa,[(0,a.createVNode)(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(f,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Ka,[(0,a.createVNode)(y,{selected:n.checkedItems,"onUpdate:selected":t[4]||(t[4]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[5]||(t[5]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",el,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,current:l.currentPage,"onUpdate:current":t[6]||(t[6]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(b,{ref:"deleteDialog"},null,512)])}const ol={key:0,class:"past-employee-tag"};function al(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:e.$t("general.employee_name"),clear:!1,"create-options":r.loadEmployees},{afterSelected:(0,a.withCtx)((({data:t})=>[t.isPastEmployee?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.past_employee")),1)],64)):(0,a.createCommentVNode)("",!0)])),option:(0,a.withCtx)((({data:t})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.label),1),t.isPastEmployee?((0,a.openBlock)(),(0,a.createElementBlock)("div",ol,(0,a.toDisplayString)(e.$t("general.past_employee")),1)):(0,a.createCommentVNode)("",!0)])),_:1},8,["label","create-options"])}var ll={name:"EmployeeAutocomplete",components:{OxdInputField:n.OxdInputField},props:{params:{type:Object,default:()=>({})},apiPath:{type:String,default:"/api/v2/pim/employees"}},setup(e){const t=new q(window.appGlobal.baseUrl,e.apiPath);return{http:t}},methods:{async loadEmployees(e){return new Promise((t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),...this.params}).then((({data:e})=>{t(e.data.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,_employee:e,isPastEmployee:!!e.terminationId}))))})):t([])}))}}};const nl=(0,i.Z)(ll,[["render",al],["__scopeId","data-v-a99bb070"]]);var rl=nl;function il(){const{$t:e}=Ne(),t=(t,o)=>{if("Purged"===t.firstName&&"Employee"===t.lastName)return e("general.purged_employee");const a=o?.includeMiddle,l=o?.excludePastEmpTag,n="boolean"===typeof a&&a&&"string"===typeof t.middleName?` ${t.middleName} `:" ";if(t.terminationId){const o="undefined"===typeof l?` ${e("general.past_employee")}`:l?"":` ${e("general.past_employee")}`;return`${t.firstName}${n}${t.lastName}${o}`}return`${t.firstName}${n}${t.lastName}`};return{$tEmpName:t}}const sl={username:"",userRoleId:null,empNumber:null,status:null},dl={"u.userName":"ASC","r.displayName":"ASC","e.firstName":"ASC","u.status":"DEFAULT"};var cl={components:{"delete-confirmation":vo,"employee-autocomplete":rl},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ne(),{$tEmpName:o}=il(),l=a=>a.map((a=>{const l=e.unselectableIds.findIndex((e=>e==a.id));return{id:a.id,userName:a.userName,role:"Admin"===a.userRole?.displayName?t("general.admin"):t("general.ess"),empName:o(a.employee,{includeMiddle:!1}),status:a.status?"Enabled":"Disabled",isSelectable:-1===l}})),n=(0,a.ref)({...sl}),{sortDefinition:r,sortField:i,sortOrder:s,onSort:d}=fo({sortDefinition:dl}),c=(0,a.computed)((()=>({username:n.value.username,userRoleId:n.value.userRoleId?.id,empNumber:n.value.empNumber?.id,status:n.value.status?.id,sortField:i.value,sortOrder:s.value}))),m=new q(window.appGlobal.baseUrl,"/api/v2/admin/users"),{showPaginator:u,currentPage:p,total:h,pages:g,pageSize:v,response:f,isLoading:y,execQuery:C}=so(m,{query:c,normalizer:l});return d(C),{http:m,showPaginator:u,currentPage:p,isLoading:y,total:h,pages:g,pageSize:v,execQuery:C,items:f,filters:n,sortDefinition:r}},data(){return{headers:[{name:"userName",title:this.$t("general.username"),sortField:"u.userName",style:{flex:1}},{name:"role",title:this.$t("general.user_role"),style:{flex:1},sortField:"r.displayName"},{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"e.firstName",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"u.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],userRoles:[{id:1,label:this.$t("general.admin")},{id:2,label:this.$t("general.ess")}],userStatuses:[{id:1,label:this.$t("general.enabled")},{id:0,label:this.$t("general.disabled")}],checkedItems:[],rules:{employee:[ia]}}},methods:{onClickAdd(){U("/admin/saveSystemUser")},onClickEdit(e){U("/admin/saveSystemUser/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...sl},this.filterItems()}}};const ml=(0,i.Z)(cl,[["render",tl]]);var ul=ml;const pl={class:"orangehrm-background-container"},hl={class:"orangehrm-card-container"};function gl(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("employee-autocomplete"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("password-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",pl,[(0,a.createElementVNode)("div",hl,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_user")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.role,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.role=e),type:"select",label:e.$t("general.user_role"),rules:n.rules.role,options:o.userRoles,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.user.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.status=e),type:"select",label:e.$t("general.status"),rules:n.rules.status,options:n.userStatuses,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.username,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,{password:n.user.password,"onUpdate:password":t[4]||(t[4]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[5]||(t[5]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"]),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function vl(e,t,o,l,n,r){const i=(0,a.resolveComponent)("password-strength-indicator"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row");return(0,a.openBlock)(),(0,a.createBlock)(u,{class:"user-password-row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"user-password-cell"},{default:(0,a.withCtx)((()=>[o.password?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"password-strength":l.passwordStrength},null,8,["password-strength"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{type:"password",autocomplete:"off",required:!0,"model-value":o.password,rules:n.rules.password,label:e.$t("general.password"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:password",t))},null,8,["model-value","rules","label"]),(0,a.createVNode)(d,{class:"user-password-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.password_strength_message")),1)])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{ref:"passwordConfirm",type:"password",autocomplete:"off",required:!0,"model-value":o.passwordConfirm,rules:n.rules.passwordConfirm,label:e.$t("general.confirm_password"),"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:passwordConfirm",t))},null,8,["model-value","rules","label"])])),_:1})])),_:1})])),_:1})}function fl(e){const t=(0,a.ref)(0),o=o=>new Promise((a=>{""!==o.trim()?e.request({method:"POST",url:"/api/v2/auth/public/validation/password",data:{password:o}}).then((e=>{const{data:o,meta:l}=e.data;t.value=l?.strength||0,Array.isArray(o?.messages)&&o.messages.length>0?a(o.messages[0]):a(!0)})):(t.value=0,a(!0))}));return{passwordStrength:t,validatePassword:o}}function yl(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-chip");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:(0,a.normalizeClass)(r.chipClasses),label:r.passwordStrengthLabel},null,8,["class","label"])}var Cl={name:"PasswordStrengthIndicator",components:{"oxd-chip":n.OxdChip},props:{passwordStrength:{type:Number,required:!0}},computed:{passwordStrengthLabel(){switch(this.passwordStrength){case 1:return this.$t("general.weak");case 2:return this.$t("general.better");case 3:return this.$t("general.strong");case 4:return this.$t("general.strongest");default:return this.$t("general.very_weak")}},chipClasses(){return{"orangehrm-password-chip":!0,"--strength-better":2===this.passwordStrength,"--strength-strong":3===this.passwordStrength,"--strength-strongest":4===this.passwordStrength}}}};const bl=(0,i.Z)(Cl,[["render",yl],["__scopeId","data-v-2eef2625"]]);var Vl=bl,xl={name:"PasswordInput",components:{"password-strength-indicator":Vl},props:{password:{type:String,required:!0},passwordConfirm:{type:String,required:!0}},emits:["update:password","update:passwordConfirm"],setup(){const e=new q(window.appGlobal.baseUrl,""),{passwordStrength:t,validatePassword:o}=fl(e);return{passwordStrength:t,validatePassword:o}},data(){return{rules:{password:[So,Do(64),(0,n.promiseDebounce)(this.validatePassword,500)],passwordConfirm:[So,Do(64),e=>!!e&&e===this.password||this.$t("general.passwords_do_not_match")]}}},watch:{password(e){(this.passwordConfirm&&e!==this.passwordConfirm||this.passwordConfirm&&e===this.passwordConfirm)&&this.$nextTick(this.$refs.passwordConfirm.triggerUpdate)}}};const wl=(0,i.Z)(xl,[["render",vl],["__scopeId","data-v-9345d4ba"]]);var Nl=wl;const kl={username:"",role:null,employee:null,status:null,password:"",passwordConfirm:""};var _l={components:{"employee-autocomplete":rl,"password-input":Nl},props:{userRoles:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/users");return e.setIgnorePath("/api/v2/admin/validation/user-name"),{http:e}},data(){return{isLoading:!1,user:{...kl},rules:{username:[So,Xo(5),Do(40),(0,n.promiseDebounce)(this.validateUserName,500)],role:[So],employee:[So,ia],status:[So]},userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},methods:{onCancel(){U("/admin/viewSystemUsers")},onSave(){this.isLoading=!0,this.http.create({username:this.user.username.trim(),password:this.user.password,status:this.user.status&&1===this.user.status.id,userRoleId:this.user.role?.id,empNumber:this.user.employee?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()})).catch((()=>{this.isLoading=!1}))},validateUserName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/admin/validation/user-name",params:{userName:this.user.username.trim()}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const Sl=(0,i.Z)(_l,[["render",gl]]);var Dl=Sl;const $l={class:"orangehrm-background-container"},Tl={class:"orangehrm-card-container"};function El(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("employee-autocomplete"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("password-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",$l,[(0,a.createElementVNode)("div",Tl,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_user")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.role,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.role=e),type:"select",label:e.$t("general.user_role"),rules:n.rules.role,options:o.userRoles,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.user.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.status=e),type:"select",label:e.$t("general.status"),rules:n.rules.status,options:n.userStatuses,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.username,"onUpdate:modelValue":t[3]||(t[3]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.user.changePassword,"onUpdate:modelValue":t[4]||(t[4]=e=>n.user.changePassword=e),type:"checkbox",value:"true","true-value":!0,"false-value":!1,"option-label":"Yes",label:e.$t("general.change_password_question")},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1}),n.user.changePassword?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,password:n.user.password,"onUpdate:password":t[5]||(t[5]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[6]||(t[6]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Il={id:"",username:"",role:null,employee:null,status:null,changePassword:!1,password:"",passwordConfirm:""};var Bl={components:{"employee-autocomplete":rl,"password-input":Nl},props:{systemUserId:{type:Number,required:!0},userRoles:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/users");return e.setIgnorePath("/api/v2/admin/validation/user-name"),{http:e}},data(){return{isLoading:!1,user:{...Il},rules:{username:[So,Xo(5),Do(40),(0,n.promiseDebounce)(this.validateUserName,500)],role:[So],employee:[So,ia],status:[So]},userStatuses:[{id:1,label:this.$t("general.enabled")},{id:2,label:this.$t("general.disabled")}]}},beforeMount(){this.isLoading=!0,this.http.get(this.systemUserId).then((e=>{const{data:t}=e.data;this.user.id=t.id,this.user.username=t.userName,this.user.role=this.userRoles.find((e=>e.id===t.userRole.id)),this.user.employee={id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName} ${t.employee.lastName}`,isPastEmployee:t.employee.terminationId},t.status?this.user.status={id:1,label:this.$t("general.enabled")}:this.user.status={id:2,label:this.$t("general.disabled")}})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/admin/viewSystemUsers")},onSave(){this.isLoading=!0,this.http.update(this.systemUserId,{username:this.user.username.trim(),password:this.user.password,status:this.user.status&&"Enabled"===this.user.status.label,userRoleId:this.user.role?.id,empNumber:this.user.employee?.id,changePassword:this.user.changePassword}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},validateUserName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/admin/validation/user-name",params:{userName:this.user.username.trim(),userId:this.systemUserId}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const Ll=(0,i.Z)(Bl,[["render",El]]);var Al=Ll;const Ul={class:"orangehrm-background-container"},Pl={class:"orangehrm-paper-container"},ql={class:"orangehrm-header-container"},Ml={key:1,class:"org-root-container"},Fl={class:"org-container"},Ol={key:0,class:"loader"},jl={class:"org-name"},zl={key:0,class:"org-action"},Rl=["onClick"],Gl=["onClick"],Zl=["onClick"];function Ql(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-switch-input"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("oxd-loading-spinner"),u=(0,a.resolveComponent)("oxd-icon-button"),p=(0,a.resolveComponent)("oxd-dropdown"),h=(0,a.resolveComponent)("oxd-sheet"),g=(0,a.resolveComponent)("oxd-tree-view"),v=(0,a.resolveComponent)("delete-confirmation"),f=(0,a.resolveComponent)("save-org-unit"),y=(0,a.resolveComponent)("edit-org-unit");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ul,[(0,a.createElementVNode)("div",Pl,[(0,a.createElementVNode)("div",ql,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.organization_structure")),1)])),_:1}),n.isLoading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"]))]),n.isLoading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-horizontal-margin orangehrm-clear-margins"})),n.isLoading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",Ml,[(0,a.createVNode)(i,{tag:"p",class:(0,a.normalizeClass)({"--parent":n.data&&0!=n.data.children})},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.data.name),1)])),_:1},8,["class"]),(0,a.withDirectives)((0,a.createVNode)(c,{class:"org-structure-add",label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:t[1]||(t[1]=e=>r.onAddOrglevel(n.data))},null,8,["label"]),[[a.vShow,n.editable]])])),(0,a.createElementVNode)("div",Fl,[n.isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",Ol,[(0,a.createVNode)(m)])):((0,a.openBlock)(),(0,a.createBlock)(g,{key:1,data:n.data,open:!0,"show-root":!1,class:"org-structure"},{content:(0,a.withCtx)((({nodeData:t})=>[(0,a.createVNode)(h,{type:"pastel-white",class:(0,a.normalizeClass)({"org-structure-card":!0,"--edit":n.editable})},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",jl,(0,a.toDisplayString)(t.unitId?`${t.unitId}: ${t.name}`:`${t.name}`),1),n.editable?((0,a.openBlock)(),(0,a.createElementBlock)("div",zl,[l.isMobile?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{content:(0,a.withCtx)((()=>[(0,a.createElementVNode)("li",{class:"org-action-description",onClick:e=>r.onDelete(t)},[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.delete")),1)])),_:1})],8,Rl),(0,a.createElementVNode)("li",{class:"org-action-description",onClick:e=>r.onEditOrglevel(t)},[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit")),1)])),_:1})],8,Gl),(0,a.createElementVNode)("li",{class:"org-action-description",onClick:e=>r.onAddOrglevel(t)},[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add")),1)])),_:1})],8,Zl)])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{name:"three-dots","with-container":!0})])),_:2},1024)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(u,{class:"org-action-icon",name:"trash-fill",role:"none",onClick:e=>r.onDelete(t)},null,8,["onClick"]),(0,a.createVNode)(u,{class:"org-action-icon",name:"pencil-fill",role:"none",onClick:e=>r.onEditOrglevel(t)},null,8,["onClick"]),(0,a.createVNode)(u,{class:"org-action-icon",name:"plus",role:"none",onClick:e=>r.onAddOrglevel(t)},null,8,["onClick"])],64))])):(0,a.createCommentVNode)("",!0)])),_:2},1032,["class"])])),_:1},8,["data"]))])]),(0,a.createVNode)(v,{ref:"deleteDialog"},null,512),n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,data:n.saveModalState,onClose:r.onSaveModalClose},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,data:n.editModalState,onClose:r.onEditModalClose},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0)])}const Hl={class:"orangehrm-modal-header"};function Wl(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Hl,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_organization_unit")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.orgUnit.unitId=e),label:e.$t("admin.unit_id"),rules:n.rules.unitId},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.orgUnit.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.orgUnit.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"level-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.this_unit_will_be_added_under"))+" ",1),(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(o.data?.unitId?`${o.data.unitId}: ${o.data?.name}`:`${o.data?.name}`),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const Yl={unitId:"",name:"",description:""};var Jl={name:"SaveOrgUnit",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/subunits");return{http:e}},data(){return{isLoading:!1,orgUnit:{...Yl},rules:{unitId:[Do(100)],name:[So,Do(100)],description:[Do(400)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;t&&this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return!(o>-1)||this.$t("admin.organization_unit_name_should_be_unique")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({...this.orgUnit,parentId:this.data?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.orgUnit={...Yl},this.$emit("close",!0)}}};const Xl=(0,i.Z)(Jl,[["render",Wl],["__scopeId","data-v-391369a4"]]);var Kl=Xl;const en={class:"orangehrm-modal-header"};function tn(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",en,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_organization_unit")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.unitId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.orgUnit.unitId=e),label:e.$t("admin.unit_id"),rules:n.rules.unitId},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.orgUnit.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.orgUnit.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.orgUnit.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const on={unitId:"",name:"",description:""};var an={name:"EditOrgUnit",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/subunits");return{http:e}},data(){return{isLoading:!1,orgUnit:{...on},rules:{unitId:[Do(100)],name:[So,Do(100)],description:[Do(400)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;return this.orgUnit.name=t.name,this.orgUnit.description=t.description,this.orgUnit.unitId=t.unitId,this.http.getAll()})).then((e=>{const{data:t}=e.data;t&&this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.data.id||this.$t("admin.organization_unit_name_should_be_unique")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.orgUnit}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const ln=(0,i.Z)(an,[["render",tn]]);var nn=ln,rn={components:{"oxd-sheet":n.OxdSheet,"save-org-unit":Kl,"edit-org-unit":nn,"oxd-tree-view":n.OxdTreeView,"oxd-dropdown":n.OxdDropdownMenu,"oxd-loading-spinner":n.OxdSpinner,"oxd-switch-input":n.OxdSwitchInput,"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/subunits"),t=(0,n.useResponsive)(),o=(0,a.computed)((()=>!(t.screenType===n.DEVICE_TYPES.DEVICE_LG||t.screenType===n.DEVICE_TYPES.DEVICE_XL)));return{http:e,isMobile:o}},data(){return{isLoading:!1,editable:!1,showSaveModal:!1,saveModalState:null,showEditModal:!1,editModalState:null,data:{}}},created(){this.fetchOrgStructure()},methods:{onDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&(this.isLoading=!0,this.http.delete(e.id).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.fetchOrgStructure()})))}))},onAddOrglevel(e){this.editable&&(this.saveModalState=e,this.showSaveModal=!0)},onEditOrglevel(e){this.editable&&(this.editModalState=e,this.showEditModal=!0)},onSaveModalClose(){this.saveModalState=null,this.showSaveModal=!1,this.fetchOrgStructure()},onEditModalClose(){this.editModalState=null,this.showEditModal=!1,this.fetchOrgStructure()},fetchOrgStructure(){this.isLoading=!0,this.http.getAll({mode:"tree"}).then((e=>{const{data:t}=e.data;this.data=t[0]})).finally((()=>{this.isLoading=!1}))}}};const sn=(0,i.Z)(rn,[["render",Ql],["__scopeId","data-v-a525b582"]]);var dn=sn;const cn={class:"orangehrm-background-container"},mn={class:"orangehrm-card-container"};function un(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cn,[(0,a.createElementVNode)("div",mn,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_employment_status")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employmentStatus.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var pn={props:{employmentStatusId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[So,Do(50)]}}},created(){this.isLoading=!0,this.http.get(this.employmentStatusId).then((e=>{const{data:t}=e.data;return this.employmentStatus.id=t.id,this.employmentStatus.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.employmentStatus.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.employmentStatusId,{name:this.employmentStatus.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/employmentStatus")}}};const hn=(0,i.Z)(pn,[["render",un]]);var gn=hn;const vn={class:"orangehrm-background-container"},fn={class:"orangehrm-paper-container"},yn={class:"orangehrm-header-container"},Cn={class:"orangehrm-container"},bn={class:"orangehrm-bottom-container"};function Vn(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",vn,[(0,a.createElementVNode)("div",fn,[(0,a.createElementVNode)("div",yn,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.employment_status")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Cn,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",bn,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var xn={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.employment_status"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveEmploymentStatus")},onClickEdit(e){U("/admin/saveEmploymentStatus/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const wn=(0,i.Z)(xn,[["render",Vn]]);var Nn=wn;const kn={class:"orangehrm-background-container"},_n={class:"orangehrm-card-container"};function Sn(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",kn,[(0,a.createElementVNode)("div",_n,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_employment_status")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.employmentStatus.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employmentStatus.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Dn={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return{http:e}},data(){return{isLoading:!1,employmentStatus:{id:"",name:""},rules:{name:[So,Do(50)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.employmentStatus.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/employmentStatus")}}};const $n=(0,i.Z)(Dn,[["render",Sn]]);var Tn=$n;const En={class:"orangehrm-background-container"},In={class:"orangehrm-paper-container"},Bn={class:"orangehrm-header-container"},Ln={class:"orangehrm-container"},An={class:"orangehrm-bottom-container"};function Un(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",En,[(0,a.createElementVNode)("div",In,[(0,a.createElementVNode)("div",Bn,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.education")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Ln,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",An,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var Pn={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/educations"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.level"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveEducation")},onClickEdit(e){U("/admin/saveEducation/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const qn=(0,i.Z)(Pn,[["render",Un]]);var Mn=qn;const Fn={class:"orangehrm-background-container"},On={class:"orangehrm-card-container"};function jn(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Fn,[(0,a.createElementVNode)("div",On,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_education")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.qualification.name=e),label:e.$t("general.level"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var zn={props:{educationId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.educationId).then((e=>{const{data:t}=e.data;return this.qualification.id=t.id,this.qualification.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e===this.qualification.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.educationId,{name:this.qualification.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/viewEducation")}}};const Rn=(0,i.Z)(zn,[["render",jn]]);var Gn=Rn;const Zn={class:"orangehrm-background-container"},Qn={class:"orangehrm-card-container"};function Hn(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Zn,[(0,a.createElementVNode)("div",Qn,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_education")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.qualification.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.qualification.name=e),label:e.$t("general.level"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Wn={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/educations");return{http:e}},data(){return{isLoading:!1,qualification:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")})),this.isLoading=!1})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.qualification.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/viewEducation")}}};const Yn=(0,i.Z)(Wn,[["render",Hn]]);var Jn=Yn;const Xn={class:"orangehrm-background-container"},Kn={class:"orangehrm-paper-container"},er={class:"orangehrm-header-container"},tr={class:"orangehrm-container"},or={class:"orangehrm-bottom-container"};function ar(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Xn,[(0,a.createElementVNode)("div",Kn,[(0,a.createElementVNode)("div",er,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.skills")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",tr,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",or,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var lr={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/skills"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveSkills")},onClickEdit(e){U("/admin/saveSkills/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const nr=(0,i.Z)(lr,[["render",ar]]);var rr=nr;const ir={class:"orangehrm-background-container"},sr={class:"orangehrm-card-container"};function dr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ir,[(0,a.createElementVNode)("div",sr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_skill")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const cr={id:"",name:"",description:""};var mr={props:{qualificationSkillId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data(){return{isLoading:!1,skill:{...cr},rules:{name:[So,Do(120)],description:[Do(400)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationSkillId).then((e=>{const{data:t}=e.data;return this.skill.id=t.id,this.skill.name=t.name,this.skill.description=t.description,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.qualificationSkillId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationSkillId,{name:this.skill.name,description:this.skill.description}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/viewSkills")}}};const ur=(0,i.Z)(mr,[["render",dr]]);var pr=ur;const hr={class:"orangehrm-background-container"},gr={class:"orangehrm-card-container"};function vr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hr,[(0,a.createElementVNode)("div",gr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_skill")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const fr={id:"",name:"",description:""};var yr={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/skills");return{http:e}},data(){return{isLoading:!1,skill:{...fr},rules:{name:[So,Do(120)],description:[Do(400)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.skill.name,description:this.skill.description}).then((()=>this.$toast.saveSuccess())).then((()=>{this.skill.name="",this.skill.description="",this.onCancel()}))},onCancel(){U("/admin/viewSkills")}}};const Cr=(0,i.Z)(yr,[["render",vr]]);var br=Cr;const Vr={class:"orangehrm-background-container"},xr={class:"orangehrm-card-container"};function wr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Vr,[(0,a.createElementVNode)("div",xr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_license")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Nr={props:{licenseId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.licenseId).then((e=>{const{data:t}=e.data;return this.license.id=t.id,this.license.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e===this.license.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.licenseId,{name:this.license.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/viewLicenses")}}};const kr=(0,i.Z)(Nr,[["render",wr]]);var _r=kr;const Sr={class:"orangehrm-background-container"},Dr={class:"orangehrm-card-container"};function $r(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Sr,[(0,a.createElementVNode)("div",Dr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_license")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Tr={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/licenses");return{http:e}},data(){return{isLoading:!1,license:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.license.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.license.name="",this.onCancel()}))},onCancel(){U("/admin/viewLicenses")}}};const Er=(0,i.Z)(Tr,[["render",$r]]);var Ir=Er;const Br={class:"orangehrm-background-container"},Lr={class:"orangehrm-paper-container"},Ar={class:"orangehrm-header-container"},Ur={class:"orangehrm-container"},Pr={class:"orangehrm-bottom-container"};function qr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Br,[(0,a.createElementVNode)("div",Lr,[(0,a.createElementVNode)("div",Ar,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.licenses")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Ur,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",Pr,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var Mr={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/licenses"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveLicenses")},onClickEdit(e){U("/admin/saveLicenses/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Fr=(0,i.Z)(Mr,[["render",qr]]);var Or=Fr;const jr={class:"orangehrm-background-container"},zr={class:"orangehrm-card-container"};function Rr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",jr,[(0,a.createElementVNode)("div",zr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_language")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Gr={props:{qualificationLanguageId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[So,Do(120)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationLanguageId).then((e=>{const{data:t}=e.data;return this.language.id=t.id,this.language.name=t.name,this.http.getAll()})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e===this.language.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationLanguageId,{name:this.language.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/viewLanguages")}}};const Zr=(0,i.Z)(Gr,[["render",Rr]]);var Qr=Zr;const Hr={class:"orangehrm-background-container"},Wr={class:"orangehrm-card-container"};function Yr(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Hr,[(0,a.createElementVNode)("div",Wr,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_language")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Jr={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/languages");return{http:e}},data(){return{isLoading:!1,language:{id:"",name:""},rules:{name:[So,Do(120)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.language.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.language.name="",this.onCancel()}))},onCancel(){U("/admin/viewLanguages")}}};const Xr=(0,i.Z)(Jr,[["render",Yr]]);var Kr=Xr;const ei={class:"orangehrm-background-container"},ti={class:"orangehrm-paper-container"},oi={class:"orangehrm-header-container"},ai={class:"orangehrm-container"},li={class:"orangehrm-bottom-container"};function ni(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ei,[(0,a.createElementVNode)("div",ti,[(0,a.createElementVNode)("div",oi,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.languages")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",ai,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",li,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var ri={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/languages"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveLanguages")},onClickEdit(e){U("/admin/saveLanguages/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const ii=(0,i.Z)(ri,[["render",ni]]);var si=ii;const di={class:"orangehrm-background-container"},ci={class:"orangehrm-paper-container"},mi={class:"orangehrm-header-container"},ui={class:"orangehrm-container"},pi={class:"orangehrm-bottom-container"};function hi(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",di,[(0,a.createElementVNode)("div",ci,[(0,a.createElementVNode)("div",mi,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.memberships")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",ui,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",pi,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var gi={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/memberships"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.membership"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveMemberships")},onClickEdit(e){U("/admin/saveMemberships/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const vi=(0,i.Z)(gi,[["render",hi]]);var fi=vi;const yi={class:"orangehrm-background-container"},Ci={class:"orangehrm-card-container"};function bi(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",yi,[(0,a.createElementVNode)("div",Ci,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_membership")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Vi={props:{qualificationMembershipId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[So,Do(50)]}}},created(){this.isLoading=!0,this.http.get(this.qualificationMembershipId).then((e=>{const{data:t}=e.data;return this.membership.id=t.id,this.membership.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e===this.membership.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.qualificationMembershipId,{name:this.membership.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/membership")}}};const xi=(0,i.Z)(Vi,[["render",bi]]);var wi=xi;const Ni={class:"orangehrm-background-container"},ki={class:"orangehrm-card-container"};function _i(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ni,[(0,a.createElementVNode)("div",ki,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_membership")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Si={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/memberships");return{http:e}},data(){return{isLoading:!1,membership:{id:"",name:""},rules:{name:[So,Do(50)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.membership.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.membership.name="",this.onCancel()}))},onCancel(){U("/admin/membership")}}};const Di=(0,i.Z)(Si,[["render",_i]]);var $i=Di;const Ti={class:"orangehrm-background-container"},Ei={class:"orangehrm-card-container"},Ii={class:"orangehrm-header-container"};function Bi(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-switch-input"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-input-group"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ti,[(0,a.createElementVNode)("div",Ei,[(0,a.createElementVNode)("div",Ii,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.general_information")),1)])),_:1}),(0,a.createVNode)(s,{modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])]),(0,a.createVNode)(d),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.organization.name=e),label:e.$t("admin.organization_name"),rules:n.rules.name,disabled:!n.editable,required:""},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{label:e.$t("admin.number_of_employees")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"no-of-employees-value"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.organization.noOfEmployees),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.registrationNumber,"onUpdate:modelValue":t[2]||(t[2]=e=>n.organization.registrationNumber=e),label:e.$t("admin.registration_number"),rules:n.rules.registrationNumber,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.taxId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.organization.taxId=e),label:e.$t("admin.tax_id"),rules:n.rules.taxId,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.organization.phone=e),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:n.rules.phone,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.fax,"onUpdate:modelValue":t[5]||(t[5]=e=>n.organization.fax=e),label:e.$t("general.fax"),rules:n.rules.fax,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.email,"onUpdate:modelValue":t[6]||(t[6]=e=>n.organization.email=e),label:e.$t("general.email"),rules:n.rules.email,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.street1,"onUpdate:modelValue":t[7]||(t[7]=e=>n.organization.street1=e),label:e.$t("general.address_street_1"),rules:n.rules.street1,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.street2,"onUpdate:modelValue":t[8]||(t[8]=e=>n.organization.street2=e),label:e.$t("general.address_street_2"),rules:n.rules.street2,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.city,"onUpdate:modelValue":t[9]||(t[9]=e=>n.organization.city=e),label:e.$t("general.city"),rules:n.rules.city,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.province,"onUpdate:modelValue":t[10]||(t[10]=e=>n.organization.province=e),label:e.$t("general.state_province"),rules:n.rules.province,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.zipCode,"onUpdate:modelValue":t[11]||(t[11]=e=>n.organization.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.country,"onUpdate:modelValue":t[12]||(t[12]=e=>n.organization.country=e),label:e.$t("general.country"),type:"select",rules:n.rules.country,options:o.countryList,disabled:!n.editable},null,8,["modelValue","label","rules","options","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organization.note,"onUpdate:modelValue":t[13]||(t[13]=e=>n.organization.note=e),label:e.$t("general.notes"),type:"textarea",rules:n.rules.note,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),n.editable?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Li={components:{"oxd-switch-input":n.OxdSwitchInput},props:{numberOfEmployees:{type:Number,required:!0},countryList:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/organization");return{http:e}},data(){return{editable:!1,isLoading:!1,organization:{name:"",noOfEmployees:this.numberOfEmployees,registrationNumber:"",taxId:"",phone:"",fax:"",email:"",street1:"",street2:"",city:"",province:"",country:null,zipCode:"",note:""},rules:{name:[So,Do(100)],registrationNumber:[Do(30)],taxId:[Do(30)],phone:[Do(30),Ho],fax:[Do(30),Ho],email:[Do(30),Qo],street1:[Do(100)],street2:[Do(100)],city:[Do(30)],province:[Do(30)],zipCode:[Do(30)],note:[Do(255)],country:[]},errors:[]}},created(){this.isLoading=!0,this.http.http.get("/api/v2/admin/organization").then((e=>{const{data:t}=e.data;this.organization.name=t.name,this.organization.registrationNumber=t.registrationNumber,this.organization.taxId=t.taxId,this.organization.phone=t.phone,this.organization.fax=t.fax,this.organization.email=t.email,this.organization.street1=t.street1,this.organization.street2=t.street2,this.organization.city=t.city,this.organization.province=t.province,""!==t.country&&null!==t.country&&(this.organization.country=this.countryList.find((e=>e.id===t.country))),this.organization.zipCode=t.zipCode,this.organization.note=t.note})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.http.put("/api/v2/admin/organization",{name:this.organization.name,registrationNumber:this.organization.registrationNumber,taxId:this.organization.taxId,phone:this.organization.phone,fax:this.organization.fax,email:this.organization.email,street1:this.organization.street1,street2:this.organization.street2,city:this.organization.city,province:this.organization.province,country:this.organization.country?.id,zipCode:this.organization.zipCode,note:this.organization.note}).then((()=>this.$toast.updateSuccess())).then((()=>{this.isLoading=!1,this.editable=!1}))}}};const Ai=(0,i.Z)(Li,[["render",Bi],["__scopeId","data-v-440f5057"]]);var Ui=Ai;const Pi={class:"orangehrm-background-container"},qi={class:"orangehrm-paper-container"},Mi={class:"orangehrm-header-container"},Fi={class:"orangehrm-container"},Oi={class:"orangehrm-bottom-container"};function ji(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Pi,[(0,a.createElementVNode)("div",qi,[(0,a.createElementVNode)("div",Mi,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.nationalities")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Fi,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",Oi,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var zi={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/nationalities"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.nationality"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveNationality")},onClickEdit(e){U("/admin/saveNationality/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Ri=(0,i.Z)(zi,[["render",ji]]);var Gi=Ri;const Zi={class:"orangehrm-background-container"},Qi={class:"orangehrm-card-container"};function Hi(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Zi,[(0,a.createElementVNode)("div",Qi,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_nationality")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.nationality.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Wi={props:{nationalityId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.nationalityId).then((e=>{const{data:t}=e.data;return this.nationality.id=t.id,this.nationality.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e===this.nationality.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.nationalityId,{name:this.nationality.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/nationality")}}};const Yi=(0,i.Z)(Wi,[["render",Hi]]);var Ji=Yi;const Xi={class:"orangehrm-background-container"},Ki={class:"orangehrm-card-container"};function es(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Xi,[(0,a.createElementVNode)("div",Ki,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_nationality")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.nationality.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.nationality.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var ts={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/nationalities");return{http:e}},data(){return{isLoading:!1,nationality:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.nationality.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/nationality")}}};const os=(0,i.Z)(ts,[["render",es]]);var as=os;const ls={class:"orangehrm-background-container"},ns={class:"orangehrm-card-container"},rs={class:"send-method-div"},is={class:"orangehrm-optional-field-row"},ss={class:"orangehrm-optional-field-row"};function ds(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-group"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ls,[(0,a.createElementVNode)("div",ns,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.email_configuration")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.sentAs,"onUpdate:modelValue":t[0]||(t[0]=e=>n.emailConfiguration.sentAs=e),label:e.$t("admin.mail_sent_as"),rules:n.rules.sentAs,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{label:e.$t("admin.sending_method")},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rs,[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.secure_smtp"),value:"smtps"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.smtp"),value:"smtp"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.emailConfiguration.mailType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.emailConfiguration.mailType=e),type:"radio","option-label":e.$t("admin.sendmail"),value:"sendmail"},null,8,["modelValue","option-label"])])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),"sendmail"===n.emailConfiguration.mailType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{label:e.$t("admin.path_to_sendmail")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"sendmail-path-value"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.emailConfiguration.pathToSendmail),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),"sendmail"!==n.emailConfiguration.mailType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpHost,"onUpdate:modelValue":t[4]||(t[4]=e=>n.emailConfiguration.smtpHost=e),label:e.$t("admin.smtp_host"),rules:n.rules.smtpHost,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpPort,"onUpdate:modelValue":t[5]||(t[5]=e=>n.emailConfiguration.smtpPort=e),label:e.$t("admin.smtp_port"),rules:n.rules.smtpPort},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),"sendmail"!==n.emailConfiguration.mailType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:2},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{label:e.$t("admin.use_smtp_authentication"),classes:{wrapper:"--status-grouped-field"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[6]||(t[6]=e=>n.emailConfiguration.smtpAuthType=e),type:"radio","option-label":e.$t("general.yes"),value:"login"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpAuthType,"onUpdate:modelValue":t[7]||(t[7]=e=>n.emailConfiguration.smtpAuthType=e),type:"radio","option-label":e.$t("general.no"),value:"none"},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),"sendmail"!==n.emailConfiguration.mailType&&"login"===n.emailConfiguration.smtpAuthType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpUsername,"onUpdate:modelValue":t[8]||(t[8]=e=>n.emailConfiguration.smtpUsername=e),label:e.$t("admin.smtp_user"),rules:n.rules.smtpUsername,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.smtpPassword,"onUpdate:modelValue":t[9]||(t[9]=e=>n.emailConfiguration.smtpPassword=e),label:e.$t("admin.smtp_password"),rules:n.rules.smtpPassword,type:"password",placeholder:n.passwordPlaceHolder,required:""},null,8,["modelValue","label","rules","placeholder"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),"sendmail"!==n.emailConfiguration.mailType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:4,class:"orangehrm-input-field-bottom-space"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",is,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.tls")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.useTLSSecureConnection,"onUpdate:modelValue":t[10]||(t[10]=e=>n.useTLSSecureConnection=e)},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),"sendmail"!==n.emailConfiguration.mailType?((0,a.openBlock)(),(0,a.createBlock)(p,{key:5},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"tls-hint"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.optional_the_mail_server_requires_the_use_of_tls_security")),1)])),_:1})])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",ss,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.send_test_email")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.sendTestMailEditable,"onUpdate:modelValue":t[11]||(t[11]=e=>n.sendTestMailEditable=e)},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),n.sendTestMailEditable?((0,a.openBlock)(),(0,a.createBlock)(p,{key:6},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.emailConfiguration.testEmailAddress,"onUpdate:modelValue":t[12]||(t[12]=e=>n.emailConfiguration.testEmailAddress=e),label:e.$t("admin.test_email_address"),rules:n.rules.testEmailAddress,disabled:!n.sendTestMailEditable,required:""},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onReset},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var cs={components:{"oxd-switch-input":n.OxdSwitchInput},props:{pathToSendmail:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/email-configuration");return{http:e}},data(){return{passwordPlaceHolder:"",defaultValues:{smtpSecurityType:"tls"},useTLSSecureConnection:!0,sendTestMailEditable:!1,isLoading:!1,emailConfiguration:{mailType:"",sentAs:"",pathToSendmail:this.pathToSendmail,smtpHost:"",smtpPort:null,smtpUsername:"",smtpPassword:null,smtpAuthType:"",smtpSecurityType:"",testEmailAddress:""},initialEmailConfiguration:{...this.emailConfiguration,useTLSSecureConnection:!1},rules:{mailType:[So,Do(50)],sentAs:[So,Do(100),Qo],smtpHost:[So,Do(100)],smtpPort:[Do(10)],smtpUsername:[So,Do(100)],smtpPassword:[Do(100)],smtpAuthType:[Do(50)],smtpSecurityType:[Do(50)],testEmailAddress:[So,Do(250),Qo]}}},created(){this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/admin/email-configuration"}).then((e=>{const{data:t}=e.data;this.emailConfiguration.mailType=t.mailType,this.emailConfiguration.sentAs=t.sentAs,this.emailConfiguration.smtpHost=t.smtpHost,this.emailConfiguration.smtpPort=t.smtpPort,this.emailConfiguration.smtpUsername=t.smtpUsername,this.passwordPlaceHolder=t.smtpUsername?"******":"",this.emailConfiguration.smtpAuthType=t.smtpAuthType,this.emailConfiguration.testEmailAddress=t.testEmailAddress,this.useTLSSecureConnection="tls"===t.smtpSecurityType,this.initialEmailConfiguration={...this.emailConfiguration,useTLSSecureConnection:this.useTLSSecureConnection},t.smtpUsername||this.rules.smtpPassword.push(So)})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{mailType:this.emailConfiguration.mailType,sentAs:this.emailConfiguration.sentAs,smtpHost:this.emailConfiguration.smtpHost,smtpPort:parseInt(this.emailConfiguration.smtpPort),smtpUsername:"login"===this.emailConfiguration.smtpAuthType?this.emailConfiguration.smtpUsername:"",smtpPassword:""===this.emailConfiguration.smtpPassword?null:this.emailConfiguration.smtpPassword,smtpAuthType:this.emailConfiguration.smtpAuthType,smtpSecurityType:this.useTLSSecureConnection?"tls":"none",testEmailAddress:this.emailConfiguration.testEmailAddress}}).then((e=>{const t=e.data.meta?.testEmailStatus;return 1===t&&this.sendTestMailEditable?this.$toast.success({title:this.$t("general.success"),message:this.$t("admin.test_email_sent")}):0===t&&this.sendTestMailEditable&&this.$toast.warn({title:this.$t("general.failed"),message:this.$t("admin.test_email_not_sent")}),this.$toast.saveSuccess()})).then((()=>{this.isLoading=!1}))},onReset(){this.emailConfiguration={...this.initialEmailConfiguration},this.useTLSSecureConnection=this.initialEmailConfiguration.useTLSSecureConnection}}};const ms=(0,i.Z)(cs,[["render",ds],["__scopeId","data-v-5b5ad744"]]);var us=ms;const ps={class:"orangehrm-background-container"},hs=(0,a.createElementVNode)("br",null,null,-1),gs={class:"orangehrm-paper-container"},vs={class:"orangehrm-header-container"},fs={class:"orangehrm-container"},ys={class:"orangehrm-bottom-container"};function Cs(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-table-filter"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("oxd-pagination"),C=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ps,[(0,a.createVNode)(g,{"filter-title":e.$t("admin.locations")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.name=e),label:e.$t("general.name")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.city,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.city=e),label:e.$t("general.city")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.countryCode,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.countryCode=e),type:"select",label:e.$t("general.country"),clear:!1,options:o.countries},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(u,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),hs,(0,a.createElementVNode)("div",gs,[(0,a.createElementVNode)("div",vs,[(0,a.createElementVNode)("div",null,[e.$can.create("locations")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(v,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",fs,[(0,a.createVNode)(f,{selected:n.checkedItems,"onUpdate:selected":t[3]||(t[3]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[4]||(t[4]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:e.$can.delete("locations"),disabled:!(e.$can.delete("locations")&&e.$can.update("locations")),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","selectable","disabled","loading"])]),(0,a.createElementVNode)("div",ys,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(C,{ref:"deleteDialog"},null,512)])}const bs={name:"",city:"",countryCode:{}},Vs={"location.name":"ASC","location.city":"DEFAULT","country.countryName":"DEFAULT","location.phone":"DEFAULT",noOfEmployees:"DEFAULT"},xs=e=>e.map((e=>({id:e.id,name:e.name,city:e.city,country:e.country.countryName,phone:e.phone,noOfEmployees:e.noOfEmployees?e.noOfEmployees:0})));var ws={components:{"delete-confirmation":vo},props:{countries:{type:Array,default:()=>[]}},setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=fo({sortDefinition:Vs}),n=(0,a.ref)({...bs}),r=(0,a.computed)((()=>({name:n.value.name,city:n.value.city,countryCode:n.value.countryCode?.id,sortField:t.value,sortOrder:o.value}))),i=new q(window.appGlobal.baseUrl,"/api/v2/admin/locations"),{showPaginator:s,currentPage:d,total:c,pages:m,pageSize:u,response:p,isLoading:h,execQuery:g}=so(i,{query:r,normalizer:xs});return l(g),{http:i,showPaginator:s,currentPage:d,isLoading:h,total:c,pages:m,pageSize:u,execQuery:g,items:p,filters:n,sortDefinition:e}},data(){const e={delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}};return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1},sortField:"location.name"},{name:"city",title:this.$t("general.city"),style:{flex:1},sortField:"location.city"},{name:"country",title:this.$t("general.country"),style:{flex:1},sortField:"country.countryName"},{name:"phone",title:this.$t("general.phone"),style:{flex:1},sortField:"location.phone"},{name:"noOfEmployees",title:this.$t("admin.number_of_employees"),style:{flex:1},sortField:"noOfEmployees"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:e}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveLocation")},onClickEdit(e){U("/admin/saveLocation/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...bs},this.filterItems()}}};const Ns=(0,i.Z)(ws,[["render",Cs]]);var ks=Ns;const _s={class:"orangehrm-background-container"},Ss={class:"orangehrm-card-container"};function Ds(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_s,[(0,a.createElementVNode)("div",Ss,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_location")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.location.name=e),label:e.$t("general.name"),rules:n.rules.name,required:"",disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.location.city=e),label:e.$t("general.city"),rules:n.rules.city,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.province,"onUpdate:modelValue":t[2]||(t[2]=e=>n.location.province=e),label:e.$t("general.state_province"),rules:n.rules.province,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=e=>n.location.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.location.countryCode=e),type:"select",label:e.$t("general.country"),rules:n.rules.countryCode,clear:!1,options:o.countries,required:"",disabled:!r.hasCreatePermissions},null,8,["modelValue","label","rules","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>n.location.phone=e),modelModifiers:{trim:!0},label:e.$t("general.phone"),rules:n.rules.phone,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.fax,"onUpdate:modelValue":t[6]||(t[6]=e=>n.location.fax=e),label:e.$t("general.fax"),rules:n.rules.fax,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.location.address=e),type:"textarea",label:e.$t("admin.address"),rules:n.rules.address,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.note,"onUpdate:modelValue":t[8]||(t[8]=e=>n.location.note=e),type:"textarea",label:e.$t("general.notes"),rules:n.rules.note,disabled:!r.hasCreatePermissions,placeholder:e.$t("general.type_here_message")},null,8,["modelValue","label","rules","disabled","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),r.hasCreatePermissions?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const $s={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""};var Ts={props:{countries:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/locations");return{http:e}},data(){return{isLoading:!1,location:{...$s},rules:{name:[So,Do(100)],countryCode:[So],province:[Do(50)],city:[Do(50)],address:[Do(250)],zipCode:[Do(30)],phone:[Do(30),Ho],fax:[Do(30),Ho],note:[Do(250)]}}},computed:{hasCreatePermissions(){return this.$can.create("locations")}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/admin/viewLocations")},onSave(){this.isLoading=!0,this.http.create({...this.location,countryCode:this.location.countryCode.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const Es=(0,i.Z)(Ts,[["render",Ds]]);var Is=Es;const Bs={class:"orangehrm-background-container"},Ls={class:"orangehrm-card-container"};function As(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Bs,[(0,a.createElementVNode)("div",Ls,[(0,a.createVNode)(i,{class:"orangehrm-main-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_location")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.location.name=e),disabled:!r.hasUpdatePermissions,rules:n.rules.name,label:e.$t("general.name"),required:""},null,8,["modelValue","disabled","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.city,"onUpdate:modelValue":t[1]||(t[1]=e=>n.location.city=e),disabled:!r.hasUpdatePermissions,rules:n.rules.city,label:e.$t("general.city")},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.province,"onUpdate:modelValue":t[2]||(t[2]=e=>n.location.province=e),disabled:!r.hasUpdatePermissions,rules:n.rules.province,label:e.$t("general.state_province")},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.zipCode,"onUpdate:modelValue":t[3]||(t[3]=e=>n.location.zipCode=e),disabled:!r.hasUpdatePermissions,rules:n.rules.zipCode,label:e.$t("general.zip_postal_code")},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.countryCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.location.countryCode=e),clear:!1,disabled:!r.hasUpdatePermissions,options:o.countries,rules:n.rules.countryCode,label:e.$t("general.country"),required:"",type:"select"},null,8,["modelValue","disabled","options","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.phone,"onUpdate:modelValue":t[5]||(t[5]=e=>n.location.phone=e),modelModifiers:{trim:!0},disabled:!r.hasUpdatePermissions,rules:n.rules.phone,label:e.$t("general.phone")},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.fax,"onUpdate:modelValue":t[6]||(t[6]=e=>n.location.fax=e),disabled:!r.hasUpdatePermissions,rules:n.rules.fax,label:e.$t("general.fax")},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.address,"onUpdate:modelValue":t[7]||(t[7]=e=>n.location.address=e),disabled:!r.hasUpdatePermissions,rules:n.rules.address,label:e.$t("admin.address"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.location.note,"onUpdate:modelValue":t[8]||(t[8]=e=>n.location.note=e),disabled:!r.hasUpdatePermissions,rules:n.rules.note,label:e.$t("general.note"),type:"textarea"},null,8,["modelValue","disabled","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),r.hasUpdatePermissions?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Us={name:"",countryCode:null,province:"",city:"",address:"",zipCode:"",phone:"",fax:"",note:""};var Ps={props:{locationId:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/locations");return{http:e}},data(){return{isLoading:!1,location:{...Us},rules:{name:[So,Do(100)],countryCode:[So],province:[Do(50)],city:[Do(50)],address:[Do(250)],zipCode:[Do(30)],phone:[Do(30),Ho],fax:[Do(30),Ho],note:[Do(250)]}}},computed:{hasUpdatePermissions(){return this.$can.update("locations")}},created(){this.isLoading=!0,this.http.get(parseInt(this.locationId,10)).then((e=>{const{data:t}=e.data;return this.location.name=t.name,this.location.countryCode=this.countries.find((e=>e.id===t.country.countryCode)),this.location.province=t.province,this.location.city=t.city,this.location.address=t.address,this.location.zipCode=t.zipCode,this.location.phone=t.phone,this.location.fax=t.fax,this.location.note=t.note,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return parseInt(e,10)===parseInt(this.locationId,10)||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/admin/viewLocations")},onSave(){this.isLoading=!0,this.http.update(this.locationId,{name:this.location.name,countryCode:this.location.countryCode.id,province:this.location.province,city:this.location.city,address:this.location.address,zipCode:this.location.zipCode,phone:this.location.phone,fax:this.location.fax,note:this.location.note}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const qs=(0,i.Z)(Ps,[["render",As]]);var Ms=qs;const Fs={class:"orangehrm-background-container"},Os={class:"orangehrm-paper-container"},js={class:"orangehrm-header-container"},zs={class:"orangehrm-container"},Rs={class:"orangehrm-bottom-container"};function Gs(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Fs,[(0,a.createElementVNode)("div",Os,[(0,a.createElementVNode)("div",js,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.pay_grades")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",zs,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",Rs,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}const Zs=e=>e.map((e=>{const t=e.currencies.map((e=>e.name));return{id:e.id,name:e.name,currency:t.join(",")}}));var Qs={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e,{normalizer:Zs});return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"40%"}},{name:"currency",title:this.$t("general.currency"),style:{"flex-basis":"40%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/payGrade")},onClickEdit(e){U("/admin/payGrade/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Hs=(0,i.Z)(Qs,[["render",Gs]]);var Ws=Hs;const Ys={class:"orangehrm-background-container"},Js={class:"orangehrm-card-container"};function Xs(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ys,[(0,a.createElementVNode)("div",Js,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_pay_grade")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.grade.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.grade.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Ks={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades");return{http:e}},data(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[So,Do(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")})),this.isLoading=!1})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.grade.name}).then((e=>{const{data:t}=e.data;this.$toast.saveSuccess(),U("/admin/payGrade/{id}",{id:t.id})}))},onCancel(){U("/admin/viewPayGrades")}}};const ed=(0,i.Z)(Ks,[["render",Xs]]);var td=ed;const od={class:"orangehrm-background-container"},ad={class:"orangehrm-card-container"};function ld(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("pay-grade-currency");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",od,[(0,a.createElementVNode)("div",ad,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_pay_grade")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.grade.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.grade.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])]),(0,a.createVNode)(y,{"pay-grade-id":o.payGradeId},null,8,["pay-grade-id"])],64)}const nd={class:"orangehrm-background-container"},rd={class:"orangehrm-paper-container"},id={class:"orangehrm-header-container"},sd={class:"orangehrm-container"},dd={class:"orangehrm-bottom-container"};function cd(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-pay-currency"),s=(0,a.resolveComponent)("edit-pay-currency"),d=(0,a.resolveComponent)("inline-action-button"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"pay-grade-id":o.payGradeId,onClose:r.onSaveModalClose},null,8,["pay-grade-id","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,data:n.editModalState,"pay-grade-id":o.payGradeId,onClose:r.onEditModalClose},null,8,["data","pay-grade-id","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",nd,[(0,a.createElementVNode)("div",rd,[(0,a.createElementVNode)("div",id,[(0,a.createVNode)(d,{"display-type":"secondary",onClick:r.onclickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.currencies")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",sd,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:r.selectable,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),(0,a.createElementVNode)("div",dd,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])])],64)}const md={class:"orangehrm-action-header"};function ud(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",md,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])),_:3}),(0,a.createVNode)(s,(0,a.mergeProps)({label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])])}var pd={name:"InlineActionButton",inheritAttrs:!1};const hd=(0,i.Z)(pd,[["render",ud],["__scopeId","data-v-6526a07f"]]);var gd=hd;const vd={class:"orangehrm-card-container"};function fd(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",vd,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_currency")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.currencyId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.payCurrency.currencyId=e),type:"select",label:e.$t("general.currency"),options:n.currencies,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=e=>n.payCurrency.minSalary=e),label:e.$t("admin.minimum_salary"),rules:n.rules.minSalary},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=e=>n.payCurrency.maxSalary=e),label:e.$t("admin.maximum_salary"),rules:n.rules.maxSalary},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const yd={currencyId:null,minSalary:"",maxSalary:""};var Cd={name:"SavePayCurrency",props:{payGradeId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/pay-grades/${e.payGradeId}/currencies`);return{http:t}},data(){return{isLoading:!1,payCurrency:{...yd},currencies:[],rules:{currencyId:[So],minSalary:[Yo(1e9),Bo],maxSalary:[Yo(1e9),Bo,Ko((()=>this.payCurrency.minSalary),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:`/api/v2/admin/pay-grades/${this.payGradeId}/currencies/allowed`,params:{limit:0}}).then((e=>{const{data:t}=e.data;this.currencies=t.map((e=>({id:e.id,label:e.id+" - "+e.name})))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({...this.payCurrency,currencyId:this.payCurrency.currencyId.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const bd=(0,i.Z)(Cd,[["render",fd]]);var Vd=bd;const xd={class:"orangehrm-card-container"};function wd(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",xd,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_currency")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.payCurrency.name=e),label:e.$t("general.currency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.minSalary,"onUpdate:modelValue":t[1]||(t[1]=e=>n.payCurrency.minSalary=e),label:e.$t("admin.minimum_salary"),rules:n.rules.minSalary},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.payCurrency.maxSalary,"onUpdate:modelValue":t[2]||(t[2]=e=>n.payCurrency.maxSalary=e),label:e.$t("admin.maximum_salary"),rules:n.rules.maxSalary},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const Nd={currencyId:null,minSalary:"",maxSalary:""};var kd={name:"EditPayCurrency",props:{payGradeId:{type:Number,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/pay-grades/${e.payGradeId}/currencies`);return{http:t}},data(){return{isLoading:!1,payCurrency:{...Nd},rules:{currencyId:[So],minSalary:[Yo(1e9),Bo],maxSalary:[Yo(1e9),Bo,Ko((()=>this.payCurrency.minSalary),this.$t("admin.should_be_higher_than_minimum_salary"))]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.payCurrency.name=t.currencyType.name,this.payCurrency.minSalary=t.minSalary?t.minSalary:"0",this.payCurrency.maxSalary=t.maxSalary?t.maxSalary:"0"})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{minSalary:this.payCurrency.minSalary,maxSalary:this.payCurrency.maxSalary}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const _d=(0,i.Z)(kd,[["render",wd]]);var Sd=_d;const Dd=e=>e.map((e=>({id:e.currencyType.id,name:e.currencyType.name,maxSalary:e.maxSalary?parseFloat(e.maxSalary).toFixed(2):"0.00",minSalary:e.minSalary?parseFloat(e.minSalary).toFixed(2):"0.00"})));var $d={name:"PayGradeCurrency",components:{"inline-action-button":gd,"save-pay-currency":Vd,"edit-pay-currency":Sd,"delete-confirmation":vo},props:{payGradeId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/pay-grades/${e.payGradeId}/currencies`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:s,execQuery:d}=so(t,{normalizer:Dd});return{http:t,showPaginator:o,currentPage:a,isLoading:s,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.currency"),style:{flex:2}},{name:"minSalary",title:this.$t("admin.minimum_salary"),style:{flex:1}},{name:"maxSalary",title:this.$t("admin.maximum_salary"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{selectable(){return!(this.showSaveModal||this.showEditModal)}},methods:{onclickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickDelete(e){this.selectable&&this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},onClickDeleteSelected(){if(!this.selectable)return;const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Td=(0,i.Z)($d,[["render",cd]]);var Ed=Td,Id={components:{"pay-grade-currency":Ed},props:{payGradeId:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/pay-grades");return{http:e}},data(){return{isLoading:!1,grade:{id:"",name:""},rules:{name:[So,Do(50)]},errors:[]}},created(){this.isLoading=!0,this.http.get(this.payGradeId).then((e=>{const{data:t}=e.data;return this.grade.id=t.id,this.grade.name=t.name,this.http.getAll()})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.grade.id||this.$t("general.already_exists")}return!0})),this.isLoading=!1})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.payGradeId,{name:this.grade.name}).then((()=>this.$toast.updateSuccess())).then((()=>{P()}))},onCancel(){U("/admin/viewPayGrades")}}};const Bd=(0,i.Z)(Id,[["render",ld]]);var Ld=Bd;const Ad={class:"orangehrm-background-container"},Ud={class:"orangehrm-card-container"},Pd={class:"orangehrm-module-field-row"},qd={class:"orangehrm-module-field-row"},Md={class:"orangehrm-module-field-row"},Fd={class:"orangehrm-module-field-row"},Od={class:"orangehrm-module-field-row"},jd={class:"orangehrm-module-field-row"},zd={class:"orangehrm-module-field-row"},Rd={class:"orangehrm-module-field-row"},Gd={class:"orangehrm-module-field-row"},Zd={class:"orangehrm-module-field-row"},Qd={class:"orangehrm-module-field-row"};function Hd(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-switch-input"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("submit-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ad,[(0,a.createElementVNode)("div",Ud,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.module_configuration")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Pd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.admin_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.admin,"onUpdate:modelValue":t[0]||(t[0]=e=>n.modules.admin=e),disabled:!0},null,8,["modelValue"])]),(0,a.createElementVNode)("div",qd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.pim_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.pim,"onUpdate:modelValue":t[1]||(t[1]=e=>n.modules.pim=e),disabled:!0},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Md,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.leave_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.leave,"onUpdate:modelValue":t[2]||(t[2]=e=>n.modules.leave=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Fd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.time_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.time,"onUpdate:modelValue":t[3]||(t[3]=e=>n.modules.time=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Od,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.recruitment_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.recruitment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.modules.recruitment=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",jd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.performance_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.performance,"onUpdate:modelValue":t[5]||(t[5]=e=>n.modules.performance=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",zd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.directory_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.directory,"onUpdate:modelValue":t[6]||(t[6]=e=>n.modules.directory=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Rd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.maintenance_module")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.maintenance,"onUpdate:modelValue":t[7]||(t[7]=e=>n.modules.maintenance=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Gd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Onboarding Module ")])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.onboarding,"onUpdate:modelValue":t[8]||(t[8]=e=>n.modules.onboarding=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Zd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Offboarding Module ")])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.offboarding,"onUpdate:modelValue":t[9]||(t[9]=e=>n.modules.offboarding=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",Qd,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Payroll Module ")])),_:1}),(0,a.createVNode)(d,{modelValue:n.modules.payroll,"onUpdate:modelValue":t[10]||(t[10]=e=>n.modules.payroll=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Wd={admin:!1,pim:!1,leave:!1,time:!1,recruitment:!1,performance:!1,maintenance:!1,mobile:!1,directory:!1,payroll:!1,onboarding:!1,offboarding:!1};var Yd={components:{"oxd-switch-input":n.OxdSwitchInput},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/modules");return{http:e}},data(){return{modules:{...Wd},isLoading:!1}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.modules.admin=t.admin,this.modules.pim=t.pim,this.modules.leave=t.leave,this.modules.time=t.time,this.modules.recruitment=t.recruitment,this.modules.performance=t.performance,this.modules.maintenance=t.maintenance,this.modules.mobile=t.mobile,this.modules.directory=t.directory,this.modules.payroll=t.payroll,this.modules.onboarding=t.onboarding,this.modules.offboarding=t.offboarding})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e={admin:!0,pim:!0,leave:this.modules.leave,time:this.modules.time,recruitment:this.modules.recruitment,performance:this.modules.performance,maintenance:this.modules.maintenance,mobile:this.modules.mobile,directory:this.modules.directory};this.http.request({method:"PUT",data:e}).then((e=>{const{data:t}=e.data;return this.modules=t,this.$toast.saveSuccess()})).finally((()=>{this.isLoading=!1,P()}))}}};const Jd=(0,i.Z)(Yd,[["render",Hd],["__scopeId","data-v-aba26fe8"]]);var Xd=Jd;const Kd={class:"orangehrm-background-container"},ec={class:"orangehrm-paper-container"},tc={class:"orangehrm-header-container"},oc={class:"orangehrm-container"},ac={class:"orangehrm-bottom-container"};function lc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Kd,[(0,a.createElementVNode)("div",ec,[(0,a.createElementVNode)("div",tc,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.work_shifts")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",oc,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",ac,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var nc={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts"),{timeFormat:t,jsTimeFormat:o}=Ae(),a=e=>e.map((e=>({id:e.id,name:e.name,startTime:lt(at(e.startTime,t),o),endTime:lt(at(e.endTime,t),o),hoursPerDay:parseFloat(e.hoursPerDay).toFixed(2)}))),{showPaginator:l,currentPage:n,total:r,pages:i,pageSize:s,response:d,isLoading:c,execQuery:m}=so(e,{normalizer:a});return{http:e,showPaginator:l,currentPage:n,isLoading:c,total:r,pages:i,pageSize:s,execQuery:m,items:d}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"startTime",title:this.$t("general.from"),style:{flex:1}},{name:"endTime",title:this.$t("general.to"),style:{flex:1}},{name:"hoursPerDay",title:this.$t("admin.hours_per_day"),style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveWorkShifts")},onClickEdit(e){U("/admin/saveWorkShifts/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const rc=(0,i.Z)(nc,[["render",lc]]);var ic=rc;const sc={class:"orangehrm-background-container"},dc={class:"orangehrm-card-container"};function cc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("time-input"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("work-shift-employee-autocomplete"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",sc,[(0,a.createElementVNode)("div",dc,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_work_shift")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workShift.name=e),label:e.$t("admin.shift_name"),rules:n.rules.name},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.working_hours"))+" *",1)])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workShift.startTime=e),rules:n.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workShift.endTime=e),rules:n.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{label:e.$t("admin.duration_per_day")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.selectedTimeDuration),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workShift.empNumbers=e),rules:n.rules.empNumbers},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function mc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete");return(0,a.openBlock)(),(0,a.createBlock)(i,{label:e.$t("admin.assigned_employees"),multiple:!0,clear:!1,"create-options":r.loadEmployees},null,8,["label","create-options"])}var uc={name:"WorkShiftEmployeeAutocomplete",components:{"employee-autocomplete":rl},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts/employees");return{http:e}},methods:{async loadEmployees(e){return new Promise((t=>{e.trim()?this.http.getAll({nameOrId:e.trim()}).then((({data:e})=>{t(e.data.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))))})):t([])}))}}};const pc=(0,i.Z)(uc,[["render",mc]]);var hc=pc;const gc={id:"",name:"",hoursPerDay:"",startTime:"",endTime:"",empNumbers:[]};var vc={components:{"work-shift-employee-autocomplete":hc},props:{workShiftConfig:{type:Object,required:!0,default:()=>({})}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data(){return{isLoading:!1,workShift:{...gc},rules:{name:[So,Do(50)],fromTime:[So,Eo],endTime:[So,Eo,Ro((()=>this.workShift.startTime),this.$t("general.to_time_should_be_after_from_time"))],empNumbers:[ia]}}},computed:{selectedTimeDuration(){return parseFloat(it(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.workShift.startTime=this.workShiftConfig.startTime,this.workShift.endTime=this.workShiftConfig.endTime,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((e=>e.id))};this.http.create(e).then((()=>this.$toast.saveSuccess())).then((()=>{this.workShift={...gc},this.onCancel()}))},onCancel(){U("/admin/workShift")}}};const fc=(0,i.Z)(vc,[["render",cc],["__scopeId","data-v-003161fa"]]);var yc=fc;const Cc={class:"orangehrm-background-container"},bc={class:"orangehrm-card-container"};function Vc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("time-input"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("work-shift-employee-autocomplete"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Cc,[(0,a.createElementVNode)("div",bc,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_work_shift")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workShift.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workShift.name=e),label:e.$t("admin.shift_name"),rules:n.rules.name},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Working Hours*")])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workShift.startTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workShift.startTime=e),rules:n.rules.fromTime,label:e.$t("general.from")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workShift.endTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workShift.endTime=e),rules:n.rules.endTime,label:e.$t("general.to")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{label:e.$t("admin.duration_per_day")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-workshift-duration",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.selectedTimeDuration),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.workShift.empNumbers,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workShift.empNumbers=e),rules:n.rules.empNumbers},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const xc={id:"",name:"",hoursPerDay:"",startTime:null,endTime:null,empNumbers:[]};var wc={components:{"work-shift-employee-autocomplete":hc},props:{workShiftId:{type:Number,required:!0,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/work-shifts");return{http:e}},data(){return{isLoading:!1,workShift:{...xc},rules:{name:[So,Do(50)],fromTime:[Eo],endTime:[Eo,Ro((()=>this.workShift.startTime),"To time should be after from time")],empNumbers:[ia]}}},computed:{selectedTimeDuration(){return parseFloat(it(this.workShift.startTime,this.workShift.endTime)/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.http.get(this.workShiftId).then((e=>{const{data:t}=e.data;return this.workShift.id=t.id,this.workShift.name=t.name,this.workShift.hoursPerDay=t.hoursPerDay,this.workShift.startTime=t.startTime,this.workShift.endTime=t.endTime,this.workShift.empNumbers=t.employees.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))),this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.workShift.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e={name:this.workShift.name,hoursPerDay:this.selectedTimeDuration,startTime:this.workShift.startTime,endTime:this.workShift.endTime,empNumbers:this.workShift.empNumbers.map((e=>e.id))};this.http.update(this.workShiftId,e).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/admin/workShift")}}};const Nc=(0,i.Z)(wc,[["render",Vc],["__scopeId","data-v-4e80e7d6"]]);var kc=Nc;const _c={class:"orangehrm-background-container"},Sc={class:"orangehrm-paper-container"},Dc={class:"orangehrm-header-container"},$c={class:"orangehrm-container"},Tc=(0,a.createElementVNode)("div",{class:"orangehrm-bottom-container"},null,-1);function Ec(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_c,[(0,a.createElementVNode)("div",Sc,[(0,a.createElementVNode)("div",Dc,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.email_subscriptions")),1)])),_:1})]),(0,a.createVNode)(s,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",$c,[(0,a.createVNode)(d,{loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["loading","headers","items"])]),Tc])])}var Ic={setup(){const{$t:e}=Ne(),t=t=>t.map((t=>{const o=Array.isArray(t.subscribers)?t.subscribers.slice(0,10):[];let a=t.name;switch(a){case"Leave Applications":a=e("admin.leave_applications");break;case"Leave Approvals":a=e("admin.leave_approvals");break;case"Leave Assignments":a=e("admin.leave_assignments");break;case"Leave Cancellations":a=e("admin.leave_cancellation");break;case"Leave Rejections":a=e("admin.leave_rejections");break}return{id:t.id,type:a,subscribers:o.map((e=>`${e.name} <${e.email}>`)).join(", "),enabled:t.isEnabled,_loading:!1}})),o=new q(window.appGlobal.baseUrl,"/api/v2/admin/email-subscriptions"),{total:a,response:l,isLoading:n}=so(o,{normalizer:t});return{http:o,isLoading:n,total:a,items:l}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("admin.notification_type"),style:{flex:"20%"}},{name:"subscribers",title:this.$t("admin.subscribers"),style:{flex:"65%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},methods:{cellRenderer(...e){const[t,,,o]=e,a={component:"oxd-icon-button",props:{name:"person-plus-fill",onClick:()=>{U("/admin/saveSubscriber/{id}",{id:o.id})}}},l={component:n.OxdSwitchInput,props:{modelValue:o.enabled,"onUpdate:modelValue":e=>{this.items.data[t]._loading=!0,this.http.update(o.id,{enabled:e}).then((e=>{const{data:o}=e.data;this.items.data[t].enabled=o.isEnabled,this.$toast.updateSuccess()})).finally((()=>{this.items.data[t]._loading=!1}))},style:{"margin-left":"1rem","text-align":"left"}}},r={component:n.OxdSpinner,props:{withContainer:!1}};return{props:{header:{cellConfig:{...o._loading?{loader:r}:{addSubscriber:a,switchSubscription:l}}}}}}}};const Bc=(0,i.Z)(Ic,[["render",Ec]]);var Lc=Bc;const Ac={class:"orangehrm-background-container"},Uc={class:"orangehrm-paper-container"},Pc={class:"orangehrm-header-container"},qc={class:"orangehrm-container"},Mc={class:"orangehrm-bottom-container"};function Fc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation"),p=(0,a.resolveComponent)("save-subscriber"),h=(0,a.resolveComponent)("edit-subscriber");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ac,[(0,a.createElementVNode)("div",Uc,[(0,a.createElementVNode)("div",Pc,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.subscribers"))+": "+(0,a.toDisplayString)(r.title),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",qc,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",Mc,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512),n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,data:{subscriptionId:o.subscriptionId},onClose:r.onSaveModalClose},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,data:n.editModalState,onClose:r.onEditModalClose},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0)])}const Oc={class:"orangehrm-modal-header"};function jc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Oc,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_subscriber")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.subscriber.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.subscriber.email=e),label:e.$t("general.email"),rules:n.rules.email,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const zc={name:"",email:""};var Rc={name:"SaveSubscriber",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/email-subscriptions/${e.data.subscriptionId}/subscribers`);return{http:t}},data(){return{isLoading:!1,subscriber:{...zc},rules:{name:[So,Do(100)],email:[So,Qo,Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;t&&this.rules.email.push((e=>{const o=t.findIndex((t=>t.email==e));return!(o>-1)||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({...this.subscriber}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.subscriber={...zc},this.$emit("close",!0)}}};const Gc=(0,i.Z)(Rc,[["render",jc],["__scopeId","data-v-cc6ef064"]]);var Zc=Gc;const Qc={class:"orangehrm-modal-header"};function Hc(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qc,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.edit_subscriber")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.subscriber.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.subscriber.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.subscriber.email,"onUpdate:modelValue":t[1]||(t[1]=e=>n.subscriber.email=e),label:e.$t("general.email"),rules:n.rules.email,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const Wc={name:"",email:""};var Yc={name:"EditSubscriber",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>({})}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/email-subscriptions/${e.data.subscriptionId}/subscribers`);return{http:t}},data(){return{isLoading:!1,subscriber:{...Wc},rules:{name:[So,Do(100)],email:[So,Qo,Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;return this.subscriber.name=t.name,this.subscriber.email=t.email,this.http.getAll()})).then((e=>{const{data:t}=e.data;t&&this.rules.email.push((e=>{const o=t.findIndex((t=>t.email==e));if(o>-1){const{id:e}=t[o];return e==this.data.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.subscriber}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.subscriber={...Wc},this.$emit("close",!0)}}};const Jc=(0,i.Z)(Yc,[["render",Hc],["__scopeId","data-v-36993096"]]);var Xc=Jc,Kc={components:{"save-subscriber":Zc,"edit-subscriber":Xc,"delete-confirmation":vo},props:{subscriptionId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/email-subscriptions/${e.subscriptionId}/subscribers`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:s,execQuery:d}=so(t);return{http:t,showPaginator:o,currentPage:a,isLoading:s,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"30%"}},{name:"email",title:this.$t("general.email"),style:{flex:"55%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{title(){return this.items.meta?this.items.meta?.name:""}},methods:{onClickAdd(){this.showSaveModal=!0},onClickEdit(e){this.editModalState={...e,subscriptionId:this.subscriptionId},this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.editModalState=null,this.showEditModal=!1,this.resetDataTable()},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const em=(0,i.Z)(Kc,[["render",Fc]]);var tm=em;const om={class:"orangehrm-background-container"},am={class:"orangehrm-card-container"};function lm(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",om,[(0,a.createElementVNode)("div",am,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.localization")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.configuration.language,"onUpdate:modelValue":t[0]||(t[0]=e=>n.configuration.language=e),label:e.$t("general.language"),type:"select","show-empty-selector":!1,options:o.languageList},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.configuration.dateFormat,"onUpdate:modelValue":t[1]||(t[1]=e=>n.configuration.dateFormat=e),label:e.$t("admin.date_format"),type:"select","show-empty-selector":!1,options:o.dateFormatList},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var nm={props:{dateFormatList:{type:Array,required:!0},languageList:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/localization");return{http:e}},data(){return{isLoading:!1,configuration:{language:null,dateFormat:null}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.configuration.language=this.languageList.find((e=>e.id===t.language)),this.configuration.dateFormat=this.dateFormatList.find((e=>e.id===t.dateFormat))})).finally((()=>this.isLoading=!1))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/admin/localization",data:{language:this.configuration.language?.id,dateFormat:this.configuration.dateFormat?.id}}).then((()=>this.$toast.updateSuccess())).then((()=>P()))}}};const rm=(0,i.Z)(nm,[["render",lm]]);var im=rm;const sm=e=>((0,a.pushScopeId)("data-v-f2980770"),e=e(),(0,a.popScopeId)(),e),dm={class:"orangehrm-background-container"},cm={class:"orangehrm-card-container"},mm=sm((()=>(0,a.createElementVNode)("br",null,null,-1))),um=sm((()=>(0,a.createElementVNode)("br",null,null,-1))),pm={class:"orangehrm-sm-field"},hm={class:"orangehrm-actions-group"};function gm(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("inline-color-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("file-upload-input"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dm,[(0,a.createElementVNode)("div",cm,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.corporate_branding")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{ref:"formRef",loading:e.isLoading,onSubmitValid:l.onFormSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.primaryColor,"onUpdate:modelValue":t[0]||(t[0]=t=>e.colors.primaryColor=t),rules:l.rules.color,label:e.$t("admin.primary_color"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-column-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.secondaryColor,"onUpdate:modelValue":t[1]||(t[1]=t=>e.colors.secondaryColor=t),rules:l.rules.color,label:e.$t("admin.secondary_color"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.primaryFontColor,"onUpdate:modelValue":t[2]||(t[2]=t=>e.colors.primaryFontColor=t),rules:l.rules.color,label:e.$t("admin.primary_font_color"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2 --offset-column-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.secondaryFontColor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.colors.secondaryFontColor=t),rules:l.rules.color,label:e.$t("admin.secondary_font_color"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.primaryGradientStartColor,"onUpdate:modelValue":t[4]||(t[4]=t=>e.colors.primaryGradientStartColor=t),rules:l.rules.color,label:e.$t("admin.primary_gradient_color_one"),type:"color",required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-3 --offset-column-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.colors.primaryGradientEndColor,"onUpdate:modelValue":t[5]||(t[5]=t=>e.colors.primaryGradientEndColor=t),rules:l.rules.color,label:e.$t("admin.primary_gradient_color_two"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),mm,(0,a.createVNode)(s),um,(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{newFile:e.clientLogo.newAttachment,"onUpdate:newFile":t[6]||(t[6]=t=>e.clientLogo.newAttachment=t),method:e.clientLogo.method,"onUpdate:method":t[7]||(t[7]=t=>e.clientLogo.method=t),label:e.$t("admin.client_logo"),"button-label":e.$t("general.browse"),file:e.clientLogo.oldAttachment,rules:l.rules.clientLogo,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:50,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{newFile:e.clientBanner.newAttachment,"onUpdate:newFile":t[8]||(t[8]=t=>e.clientBanner.newAttachment=t),method:e.clientBanner.method,"onUpdate:method":t[9]||(t[9]=t=>e.clientBanner.method=t),label:e.$t("admin.client_banner"),"button-label":e.$t("general.browse"),file:e.clientBanner.oldAttachment,rules:l.rules.clientBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:182,height:50}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{newFile:e.loginBanner.newAttachment,"onUpdate:newFile":t[10]||(t[10]=t=>e.loginBanner.newAttachment=t),method:e.loginBanner.method,"onUpdate:method":t[11]||(t[11]=t=>e.loginBanner.method=t),label:e.$t("admin.login_banner"),"button-label":e.$t("general.browse"),file:e.loginBanner.oldAttachment,rules:l.rules.loginBanner,hint:e.$t("general.accept_jpg_png_gif_upto_recommended_dimensions",{fileSize:"1MB",width:340,height:65}),"button-icon":"",url:"admin/theme/attachments/image"},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",pm,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.social_media_images")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:e.showSocialMediaImages,"onUpdate:modelValue":t[12]||(t[12]=t=>e.showSocialMediaImages=t)},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createElementVNode)("div",hm,[(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.reset_to_default"),onClick:l.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.preview"),onClick:l.onClickPreview},null,8,["label","onClick"]),(0,a.createVNode)(v,{type:"submit","display-type":"secondary",label:e.$t("general.publish")},null,8,["label"])])])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function vm({refName:e="formRef"}={}){const t=(0,a.ref)(),o=()=>t.value?.onSubmit(new Event("submit")),l=()=>t.value?.onReset(),n=()=>t.value?.validate(),r=(0,a.computed)((()=>t.value?.isFromInvalid)),i=(0,a.computed)((()=>t.value?.errorbag));return{reset:l,submit:o,validate:n,[e]:t,errorbag:i,invalid:r}}function fm(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-label"),s=(0,a.resolveComponent)("oxd-color-input"),d=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"oxd-input-field-bottom-space",message:l.message,classes:l.classes},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:o.label,class:(0,a.normalizeClass)(l.classes.label)},null,8,["label","class"]),(0,a.createVNode)(s,(0,a.mergeProps)(e.$attrs,{disabled:o.disabled,"has-error":l.hasError,"model-value":o.modelValue,"dropdown-position":"left","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))}),null,16,["disabled","has-error","model-value"])])),_:1},8,["message","classes"])}var ym={name:"InlineColorInput",components:{"oxd-label":n.OxdLabel,"oxd-color-input":n.OxdColorInput},inheritAttrs:!1,props:{label:{type:String,default:null,required:!1},rules:{type:Array,default:()=>[],required:!1},required:{type:Boolean,default:!1,required:!1},modelValue:{type:String,default:null,required:!1},disabled:{type:Boolean,default:!1,required:!1}},emits:["update:modelValue"],setup(e,t){const o=(0,a.toRef)(e,"disabled"),l=(0,a.toRef)(e,"modelValue"),r=l.value,i=async()=>{t.emit("update:modelValue",r),await(0,a.nextTick)()},{hasError:s,message:d}=(0,n.useField)({fieldLabel:e.label??"",rules:e.rules,modelValue:l,onReset:i,disabled:o}),c=(0,a.computed)((()=>({label:{"oxd-input-field-required":e.required},message:{"oxd-input-field-error-message":s},wrapper:{"orangehrm-color-input-wrapper":!0}})));return{classes:c,message:d,hasError:s}}};const Cm=(0,i.Z)(ym,[["render",fm],["__scopeId","data-v-9d33cb16"]]);var bm=Cm;const Vm={primaryColor:null,primaryFontColor:null,secondaryColor:null,secondaryFontColor:null,primaryGradientStartColor:null,primaryGradientEndColor:null},xm={oldAttachment:null,newAttachment:null,method:"keepCurrent"};var wm={components:{"oxd-switch-input":n.OxdSwitchInput,"file-upload-input":va,"inline-color-input":bm},props:{allowedImageTypes:{type:Array,required:!0},aspectRatios:{type:Object,required:!0},aspectRatioTolerance:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/admin/theme"),{saveSuccess:o}=ao(),{formRef:l,invalid:n,validate:r}=vm(),i=(0,a.reactive)({isLoading:!1,colors:{...Vm},clientLogo:{...xm},clientBanner:{...xm},loginBanner:{...xm},showSocialMediaImages:!0}),s={color:[So,oa],clientLogo:[e=>"replaceCurrent"!==i.clientLogo.method||So(e),Go(1048576),aa(e.aspectRatios.clientLogo,e.aspectRatioTolerance),Zo(e.allowedImageTypes)],clientBanner:[e=>"replaceCurrent"!==i.clientBanner.method||So(e),Go(1048576),aa(e.aspectRatios.clientBanner,e.aspectRatioTolerance),Zo(e.allowedImageTypes)],loginBanner:[e=>"replaceCurrent"!==i.loginBanner.method||So(e),Go(1048576),aa(e.aspectRatios.loginBanner,e.aspectRatioTolerance),Zo(e.allowedImageTypes)]},d=()=>{const e=e=>{if(null===e.method||"replaceCurrent"===e.method)return e.newAttachment};i.isLoading=!0,t.request({method:"PUT",url:"/api/v2/admin/theme",data:{variables:i.colors,showSocialMediaImages:i.showSocialMediaImages,currentClientLogo:i.clientLogo.method,clientLogo:e(i.clientLogo),currentClientBanner:i.clientBanner.method,clientBanner:e(i.clientBanner),currentLoginBanner:i.loginBanner.method,loginBanner:e(i.loginBanner)}}).then((()=>o())).then((()=>P()))},c=()=>{i.isLoading=!0,t.request({method:"DELETE",url:"/api/v2/admin/theme"}).then((()=>P()))},m=()=>{r().then((()=>{!0!==n.value&&(i.isLoading=!0,t.request({method:"POST",url:"/api/v2/admin/theme/preview",data:{...i.colors}}).then((e=>{const{data:t}=e.data;for(const o in t){const e=t[o];document.documentElement.style.setProperty(o,e)}})).finally((()=>i.isLoading=!1)))}))};return(0,a.onBeforeMount)((()=>{i.isLoading=!0,t.getAll().then((e=>{const{data:t}=e.data,{clientLogo:o,clientBanner:a,loginBanner:l,showSocialMediaImages:n,variables:r}=t;i.colors=r,null===o?i.clientLogo.method=null:(i.clientLogo.oldAttachment=o,i.clientLogo.oldAttachment.id="clientLogo"),null===a?i.clientBanner.method=null:(i.clientBanner.oldAttachment=a,i.clientBanner.oldAttachment.id="clientBanner"),null===l?i.loginBanner.method=null:(i.loginBanner.oldAttachment=l,i.loginBanner.oldAttachment.id="loginBanner"),i.showSocialMediaImages=n})).finally((()=>i.isLoading=!1))})),{rules:s,formRef:l,onFormSubmit:d,onClickReset:c,onClickPreview:m,...(0,a.toRefs)(i)}}};const Nm=(0,i.Z)(wm,[["render",gm],["__scopeId","data-v-f2980770"]]);var km=Nm;const _m={class:"orangehrm-background-container"},Sm={class:"orangehrm-paper-container"},Dm={class:"orangehrm-header-container"},$m={class:"orangehrm-container"},Tm={class:"orangehrm-bottom-container"};function Em(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("add-language-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_m,[(0,a.createElementVNode)("div",Sm,[(0,a.createElementVNode)("div",Dm,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.language_packages")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAddLanguage},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{loading:l.isLoading,total:l.total,selected:0},null,8,["loading","total"]),(0,a.createElementVNode)("div",$m,[(0,a.createVNode)(c,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),(0,a.createElementVNode)("div",Tm,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),n.showAddLanguageModal?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,onClose:r.onAddLanguageModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)])}const Im={class:"orangehrm-modal-header"},Bm={class:"addlanguage-note"},Lm={class:"addlanguage-note-text"};function Am(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("languages-dropdown"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(g,{"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Im,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.add_language_package")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language=e),rules:n.rules.language},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Bm,[(0,a.createElementVNode)("div",Lm,[(0,a.createVNode)(i,{class:"orangehrm-sub-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.note")),1)])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.translate_text_manually")),1)])),_:1})])])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,{class:"orangehrm-form-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(u,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}function Um(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("general.name"),options:l.options,required:""},null,8,["label","options"])}var Pm={name:"LanguagesDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages");return(0,a.onBeforeMount)((()=>{t.getAll({activeOnly:!1,limit:0}).then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.name})))}))})),{options:e}}};const qm=(0,i.Z)(Pm,[["render",Um]]);var Mm=qm,Fm={name:"AddLanguageModal",components:{"oxd-dialog":n.OxdDialog,"languages-dropdown":Mm},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages");return{http:e}},data(){return{isLoading:!1,language:null,rules:{language:[So]}}},methods:{onSave(){this.http.update(this.language.id,null).then((e=>{if(e)return this.$toast.saveSuccess()})).then((()=>{this.isLoading=!1,this.$emit("close")}))},onCancel(){this.$emit("close")}}};const Om=(0,i.Z)(Fm,[["render",Am],["__scopeId","data-v-08ca613a"]]);var jm=Om;const zm={languageName:""},Rm={languageName:"ASC"};var Gm={name:"LanguagePackageList",components:{"add-language-modal":jm},setup(){const e=(0,a.ref)({...zm}),{sortDefinition:t,sortOrder:o,onSort:l}=fo({sortDefinition:Rm}),n=(0,a.computed)((()=>({sortOrder:o.value,activeOnly:!0}))),r=new q(window.appGlobal.baseUrl,"/api/v2/admin/i18n/languages"),{showPaginator:i,currentPage:s,total:d,pages:c,pageSize:m,response:u,isLoading:p,execQuery:h}=so(r,{query:n});return l(h),{http:r,showPaginator:i,currentPage:s,isLoading:p,total:d,pages:c,pageSize:m,execQuery:h,items:u,filters:e,sortDefinition:t}},data(){return{showAddLanguageModal:!1,headers:[{name:"name",slot:"title",title:this.$t("general.language_packages"),sortField:"languageName",style:{flex:"70%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",style:{flex:"30%"},cellConfig:{translate:{component:"oxd-button",onClick:this.onClickTranslate,props:{label:this.$t("admin.translate"),style:"Text",displayType:"text"}},export:{component:"oxd-button",props:{label:this.$t("admin.export"),displayType:"text",size:"medium"},onClick:this.onClickExport}}}]}},methods:{onClickAddLanguage(){this.showAddLanguageModal=!0},onAddLanguageModalClose(){this.showAddLanguageModal=!1,this.reloadLanguages()},onCancel(){U("/admin/languagePackage")},async reloadLanguages(){await this.execQuery()},onClickTranslate(e){U("/admin/languageCustomization/{id}",{id:e.id})},onClickExport(e){const t=A("/admin/viewLanguagePackage/languageId/{languageId}",{languageId:e.id});window.open(t,"_blank")}}};const Zm=(0,i.Z)(Gm,[["render",Em],["__scopeId","data-v-745f4367"]]);var Qm=Zm;const Hm=e=>((0,a.pushScopeId)("data-v-1ad53bff"),e=e(),(0,a.popScopeId)(),e),Wm={class:"orangehrm-background-container"},Ym=Hm((()=>(0,a.createElementVNode)("br",null,null,-1))),Jm={class:"orangehrm-paper-container"},Xm={class:"orangehrm-header-container"},Km={class:"orangehrm-bottom-container"};function eu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("language-group-list-dropdown"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("oxd-pagination"),y=(0,a.resolveComponent)("table-header"),C=(0,a.resolveComponent)("edit-translations");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Wm,[(0,a.createVNode)(v,{"filter-title":e.$t("admin.translate_language_package")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:l.onSubmit,onReset:l.onReset},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{value:o.languagePackage,label:e.$t("admin.language_package"),disabled:""},null,8,["value","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{value:o.sourceLanguage,label:e.$t("admin.source_language"),disabled:""},null,8,["value","label"])])),_:1})])),_:1}),(0,a.createVNode)(d,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.groupId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.groupId=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.sourceText,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.sourceText=e),label:e.$t("admin.source_text")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.translatedText,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.translatedText=e),label:e.$t("admin.translated_text")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.onlyTranslated,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.onlyTranslated=e),type:"select",label:e.$t("admin.show"),options:l.translationOptions},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.sortOrder,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.sortOrder=e),type:"select",label:e.$t("admin.order"),options:l.sortOptions},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),Ym,(0,a.createElementVNode)("div",Jm,[l.total>0?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,loading:l.isLoading,onSubmitValid:l.onSubmitLangString,onReset:l.onReset},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xm,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(f,{key:l.currentPage,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(y,{loading:l.isLoading,total:l.total,selected:0},null,8,["loading","total"]),l.items?.data?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,langstrings:l.items.data,"onUpdate:langstrings":t[6]||(t[6]=e=>l.items.data=e)},null,8,["langstrings"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Km,[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),type:"reset"},null,8,["label"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])])])),_:1})])),_:1},8,["loading","onSubmitValid","onReset"])):(0,a.createCommentVNode)("",!0)])])}const tu={class:"orangehrm-translation-container"};function ou(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-divider"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-grid");return(0,a.openBlock)(),(0,a.createElementBlock)("div",tu,[(0,a.createVNode)(i),(0,a.createVNode)(m,{cols:3,class:"orangehrm-translation-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"orangehrm-translation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.source_text")),1)])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-translation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.source_note")),1)])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-translation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.translated_text")),1)])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.langstrings,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o},[(0,a.createVNode)(d,{class:"orangehrm-translation-grid-text"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.source_text")),1)])),_:1}),(0,a.createVNode)(s,{title:t.source},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.source),1)])),_:2},1032,["title"])])),_:2},1024),(0,a.createVNode)(d,{class:"orangehrm-translation-grid-text"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-translation-grid-langstring-header-note",type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.source_note")),1)])),_:1}),(0,a.createVNode)(s,{title:t.note,class:"orangehrm-translation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.note),1)])),_:2},1032,["title"])])),_:2},1024),(0,a.createVNode)(d,{class:"orangehrm-translation-grid-text"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-translation-grid-langstring-header",type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.translated_text")),1)])),_:1}),(0,a.createVNode)(c,{type:"input",placeholder:t.target,"model-value":t.target,rules:l.rules.langString,"onUpdate:modelValue":e=>l.onUpdateTranslation(e,o)},null,8,["placeholder","model-value","rules","onUpdate:modelValue"]),(0,a.createVNode)(i,{class:"orangehrm-translation-grid-langstring-header"})])),_:2},1024)],64)))),128))])),_:1}),(0,a.createVNode)(i)])}var au={props:{langstrings:{type:Array,required:!0}},emits:["update:langstrings"],setup(e,t){const o=(o,a)=>{t.emit("update:langstrings",e.langstrings.map(((e,t)=>t===a?{...e,target:o,modified:!0}:e)))};return{onUpdateTranslation:o,rules:{langString:[ra]}}}};const lu=(0,i.Z)(au,[["render",ou],["__scopeId","data-v-5f0f9ef8"]]);var nu=lu;function ru(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("admin.module"),options:l.options},null,8,["label","options"])}var iu={name:"GroupListDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/i18n/groups");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.title})))}))})),{options:e}}};const su=(0,i.Z)(iu,[["render",ru]]);var du=su;const cu={sourceText:null,translatedText:null,groupId:null,sortOrder:null,onlyTranslated:null};var mu={name:"LanguageTranslationList",components:{"language-group-list-dropdown":du,"edit-translations":nu},props:{languageId:{type:Number,required:!0},languagePackage:{type:String,required:!0},sourceLanguage:{type:String,required:!0}},setup(e){const{$t:t}=Ne(),{saveSuccess:o}=ao(),l=(0,a.ref)([{id:1,label:t("admin.all"),value:null},{id:2,label:t("admin.translated"),value:!0},{id:3,label:t("admin.not_translated"),value:!1}]),n=(0,a.ref)([{id:"ASC",label:t("general.ascending")},{id:"DESC",label:t("general.descending")}]),r=(0,a.ref)({...cu,sortOrder:n.value[0],onlyTranslated:l.value[0]}),i=(0,a.computed)((()=>({sourceText:r.value.sourceText,translatedText:r.value.translatedText,groupId:r.value.groupId?.id,sortOrder:r.value.sortOrder?.id,onlyTranslated:r.value.onlyTranslated?.value}))),s=new q(window.appGlobal.baseUrl,`/api/v2/admin/i18n/languages/${e.languageId}/translations`),{showPaginator:d,currentPage:c,total:m,pages:u,response:p,isLoading:h,execQuery:g}=so(s,{query:i}),v=()=>{c.value=1,r.value={...cu,sortOrder:n.value[0]},g()},f=()=>{c.value=1,g()},y=()=>{h.value=!0,s.request({method:"PUT",url:`/api/v2/admin/i18n/languages/${e.languageId}/translations/bulk`,data:{data:p.value.data.filter((e=>null!==e.target&&1==e.modified)).map((e=>({langStringId:e.langStringId,translatedValue:e.target})))}}).then((()=>o())).then((()=>P()))};return{showPaginator:d,currentPage:c,isLoading:h,total:m,pages:u,items:p,filters:r,translationOptions:l,sortOptions:n,onReset:v,onSubmit:f,onSubmitLangString:y}}};const uu=(0,i.Z)(mu,[["render",eu],["__scopeId","data-v-1ad53bff"]]);var pu=uu;const hu=e=>((0,a.pushScopeId)("data-v-89df999a"),e=e(),(0,a.popScopeId)(),e),gu={class:"orangehrm-background-container"},vu={class:"orangehrm-card-container"},fu={class:"orangehrm-header-container"},yu=hu((()=>(0,a.createElementVNode)("br",null,null,-1)));function Cu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-switch-input"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-icon"),g=(0,a.resolveComponent)("oxd-alert"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("ldap-test-connection-modal"),b=(0,a.resolveComponent)("ldap-sync-connection");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gu,[(0,a.createElementVNode)("div",vu,[(0,a.createElementVNode)("div",fu,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.ldap_configuration")),1)])),_:1}),(0,a.createVNode)(s,{modelValue:n.configuration.enable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.configuration.enable=e),"label-position":"left","option-label":e.$t("general.enable")},null,8,["modelValue","option-label"])]),(0,a.createVNode)(d),(0,a.createVNode)(y,{ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.server_settings")),1)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.hostname,"onUpdate:modelValue":t[1]||(t[1]=e=>n.configuration.hostname=e),label:e.$t("admin.host"),rules:n.rules.hostname,required:""},null,8,["modelValue","label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.ldap_host_input_hint")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-column-half"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.port,"onUpdate:modelValue":t[2]||(t[2]=e=>n.configuration.port=e),label:e.$t("admin.port"),rules:n.rules.port,required:""},null,8,["modelValue","label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.port_input_hint")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.encryption,"onUpdate:modelValue":t[3]||(t[3]=e=>n.configuration.encryption=e),type:"select",options:n.encryptionOptions,label:e.$t("admin.encryption")},null,8,["modelValue","options","label"])])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.ldapImplementation,"onUpdate:modelValue":t[4]||(t[4]=e=>n.configuration.ldapImplementation=e),type:"select","show-empty-selector":!1,options:n.ldapImplementationOptions,label:e.$t("admin.ldap_implementation")},null,8,["modelValue","options","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-form-divider"}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.bind_settings")),1)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-ldap-switch"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.bind_anonymously")),1)])),_:1}),(0,a.createVNode)(s,{modelValue:n.configuration.bindAnonymously,"onUpdate:modelValue":t[5]||(t[5]=e=>n.configuration.bindAnonymously=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),n.configuration.bindAnonymously?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.bindUserDN,"onUpdate:modelValue":t[6]||(t[6]=e=>n.configuration.bindUserDN=e),label:e.$t("admin.distinguished_name"),rules:n.rules.bindUserDN,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.bindUserPassword,"onUpdate:modelValue":t[7]||(t[7]=e=>n.configuration.bindUserPassword=e),type:"password",label:e.$t("general.password"),placeholder:r.passwordPlaceHolder,rules:n.rules.bindUserPassword,required:!n.configuration.hasBindUserPassword},null,8,["modelValue","label","placeholder","rules","required"])])),_:1})])),_:1})])),_:1})),(0,a.createVNode)(d,{class:"orangehrm-form-divider"}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.user_lookup_settings")),1)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.baseDistinguishedName,"onUpdate:modelValue":t[8]||(t[8]=e=>n.configuration.baseDistinguishedName=e),label:e.$t("admin.base_distinguished_name"),rules:n.rules.baseDistinguishedName,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.searchScope,"onUpdate:modelValue":t[9]||(t[9]=e=>n.configuration.searchScope=e),type:"select","show-empty-selector":!1,options:n.searchScopeOptions,label:e.$t("admin.search_scope")},null,8,["modelValue","options","label"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.search_scope_input_hint")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.userNameAttribute,"onUpdate:modelValue":t[10]||(t[10]=e=>n.configuration.userNameAttribute=e),label:e.$t("admin.user_name_attribute"),rules:n.rules.userNameAttribute,required:""},null,8,["modelValue","label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.user_name_input_hint")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-4"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.userSearchFilter,"onUpdate:modelValue":t[11]||(t[11]=e=>n.configuration.userSearchFilter=e),label:e.$t("admin.user_search_filter"),rules:n.rules.userSearchFilter,required:""},null,8,["modelValue","label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.user_search_filter_input_hint")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-5"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.userUniqueIdAttribute,"onUpdate:modelValue":t[12]||(t[12]=e=>n.configuration.userUniqueIdAttribute=e),label:e.$t("admin.user_unique_id_attribute"),rules:n.rules.userUniqueIdAttribute},null,8,["modelValue","label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.user_unique_attribute_input_hint")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-form-divider"}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.data_mapping")),1)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-ldap-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.field_in_orangehrm")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.field_in_ldap_directory")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.use_this_field_as_the_employee_user_mapping_field")),1)])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"oxd-input-field-required"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.first_name")),1)])),_:1}),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.dataMapping.firstName,"onUpdate:modelValue":t[13]||(t[13]=e=>n.configuration.dataMapping.firstName=e),rules:n.rules.firstNameAttribute,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.middle_name")),1)])),_:1}),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.dataMapping.middleName,"onUpdate:modelValue":t[14]||(t[14]=e=>n.configuration.dataMapping.middleName=e),rules:n.rules.middleNameAttribute},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"oxd-input-field-required"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.last_name")),1)])),_:1}),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.dataMapping.lastName,"onUpdate:modelValue":t[15]||(t[15]=e=>n.configuration.dataMapping.lastName=e),rules:n.rules.lastNameAttribute},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.user_status")),1)])),_:1}),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.dataMapping.userStatus,"onUpdate:modelValue":t[16]||(t[16]=e=>n.configuration.dataMapping.userStatus=e),rules:n.rules.userStatusAttribute},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:(0,a.normalizeClass)(r.workEmailLabelClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.work_email")),1)])),_:1},8,["class"]),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(c,{key:n.configuration.employeeSelectorMapping,modelValue:n.configuration.dataMapping.workEmail,"onUpdate:modelValue":t[17]||(t[17]=e=>n.configuration.dataMapping.workEmail=e),rules:n.rules.workEmailAttribute},null,8,["modelValue","rules"]))])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:n.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[18]||(t[18]=e=>n.configuration.employeeSelectorMapping=e),"true-value":"workEmail"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-ldap-grid-content"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:(0,a.normalizeClass)(r.employeeIdLabelClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.employee_id")),1)])),_:1},8,["class"]),(0,a.createVNode)(h,{class:"orangehrm-ldap-grid-icon",name:"arrow-left"})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(c,{key:n.configuration.employeeSelectorMapping,modelValue:n.configuration.dataMapping.employeeId,"onUpdate:modelValue":t[19]||(t[19]=e=>n.configuration.dataMapping.employeeId=e),rules:n.rules.employeeIdAttribute},null,8,["modelValue","rules"]))])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:n.configuration.employeeSelectorMapping,"onUpdate:modelValue":t[20]||(t[20]=e=>n.configuration.employeeSelectorMapping=e),"true-value":"employeeId"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-form-divider"}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.additional_settings")),1)])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-ldap-switch --offset-row-1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.merge_ldap_users_with_existing_system_users")),1)])),_:1}),(0,a.createVNode)(s,{modelValue:n.configuration.mergeLDAPUsersWithExistingSystemUsers,"onUpdate:modelValue":t[21]||(t[21]=e=>n.configuration.mergeLDAPUsersWithExistingSystemUsers=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.configuration.syncInterval,"onUpdate:modelValue":t[22]||(t[22]=e=>n.configuration.syncInterval=e),label:e.$t("admin.sync_interval"),rules:n.rules.syncInterval,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g,{type:"warn",show:!0,message:e.$t("admin.ldap_configuration_warning_message")},null,8,["message"]),(0,a.createVNode)(d),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("admin.test_connection"),onClick:r.onClickTest},null,8,["label","onClick"]),(0,a.createVNode)(v,{type:"button",class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),onClick:r.onClickSave},null,8,["label","onClick"])])),_:1})])),_:1},8,["loading"])]),n.testModalState?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,data:n.testModalState,onClose:r.onCloseTestModal},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0),yu,o.showSync?((0,a.openBlock)(),(0,a.createBlock)(b,{key:1})):(0,a.createCommentVNode)("",!0)])}const bu={class:"orangehrm-paper-container"},Vu={class:"orangehrm-header-container"},xu={class:"orangehrm-ldap-sync"};function wu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-loading-spinner"),d=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",bu,[(0,a.createElementVNode)("div",Vu,[(0,a.createElementVNode)("div",xu,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.sync_connection")),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(i,{type:"card-body",class:"orangehrm-ldap-sync-time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" ("+(0,a.toDisplayString)(r.lastSync)+") ",1)])),_:1},512),[[a.vShow,r.lastSync]])]),n.isLoading?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-ldap-sync-loader"})):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,"display-type":"secondary",class:"orangehrm-ldap-sync-button",label:e.$t("admin.sync_now"),onClick:r.onClickSync},null,8,["label","onClick"]))])])}var Nu={name:"LdapSyncConnection",components:{"oxd-loading-spinner":n.OxdSpinner},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/ldap/user-sync"),{jsDateFormat:t}=Ae();return{http:e,jsDateFormat:t}},data(){return{isLoading:!1,lastSyncDate:null,lastSyncTime:null,lastSyncStatus:null}},computed:{lastSync(){if(2===this.lastSyncStatus)return null;if(this.lastSyncDate&&this.lastSyncTime){const e=Xe(`${this.lastSyncDate} ${this.lastSyncTime} +00:00`,"yyyy-MM-dd HH:mm xxx");return this.$t(1===this.lastSyncStatus?"admin.last_synced_on_datetime":"admin.last_sync_failed_on_datetime",{datetime:Ke(e,`hh:mm a ${this.jsDateFormat}`)})}return null}},beforeMount(){this.getLastSyncStatus()},methods:{getLastSyncStatus(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.lastSyncStatus=t.syncStatus,this.lastSyncDate=t.syncFinishedAt?.date||t.syncStartedAt?.date,this.lastSyncTime=t.syncFinishedAt?.time||t.syncStartedAt?.time})).finally((()=>{this.isLoading=!1}))},onClickSync(){this.isLoading=!0,this.http.create().then((e=>{const{data:t}=e.data;this.lastSyncStatus=t.syncStatus,this.lastSyncDate=t.syncFinishedAt?.date||t.syncStartedAt?.date,this.lastSyncTime=t.syncFinishedAt?.time||t.syncStartedAt?.time,this.$toast.success({title:this.$t("general.success"),message:this.$t("admin.synchronization_successful")})})).catch((()=>{this.getLastSyncStatus(),this.$toast.error({title:this.$t("general.error"),message:this.$t("admin.synchronization_failed")})})).finally((()=>{this.isLoading=!1}))}}};const ku=(0,i.Z)(Nu,[["render",wu],["__scopeId","data-v-0aa30e8a"]]);var _u=ku;const Su={class:"orangehrm-modal-header"};function Du(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Su,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.connection_status")),1)])),_:1})]),(0,a.createVNode)(s),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.data,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"orangehrm-ldap-test"},[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-ldap-test-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.category),1)])),_:2},1024),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.checks,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"orangehrm-ldap-test-row"},[(0,a.createVNode)(i,{class:"orangehrm-ldap-test-content"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024),(0,a.createVNode)(i,{class:(0,a.normalizeClass)(r.getClass(e.value.status))},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.value.message),1)])),_:2},1032,["class"])])))),128))])))),128))])),_:1},8,["onUpdate:show"])}var $u={name:"LdapTestConnectionModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Array,default:()=>[]}},emits:["close"],methods:{getClass(e){return 1===e?"orangehrm-ldap-test-value --success":"orangehrm-ldap-test-value --error"},onCancel(){this.$emit("close")}}};const Tu=(0,i.Z)($u,[["render",Du],["__scopeId","data-v-7b76f5a0"]]);var Eu=Tu;const Iu={enable:!1,hostname:"localhost",port:389,encryption:null,ldapImplementation:null,bindAnonymously:!0,bindUserDN:null,bindUserPassword:null,baseDistinguishedName:null,searchScope:null,userNameAttribute:"cn",userSearchFilter:"objectClass=person",userUniqueIdAttribute:null,mergeLDAPUsersWithExistingSystemUsers:!1,syncInterval:1,employeeSelectorMapping:"",hasBindUserPassword:!1},Bu={firstName:"givenName",lastName:"sn",middleName:null,userStatus:null,workEmail:null,employeeId:null};var Lu={components:{"oxd-icon":n.OxdIcon,"oxd-alert":n.OxdAlert,"oxd-switch-input":n.OxdSwitchInput,"ldap-sync-connection":_u,"ldap-test-connection-modal":Eu},props:{showSync:{type:Boolean,default:!1}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/ldap-config"),{formRef:t,invalid:o,validate:a}=vm();return{http:e,formRef:t,invalid:o,validate:a}},data(){return{isLoading:!1,configuration:{...Iu,dataMapping:{...Bu}},encryptionOptions:[{id:"tls",label:this.$t("admin.tls")},{id:"ssl",label:this.$t("admin.ssl")}],searchScopeOptions:[{id:"sub",label:this.$t("admin.subtree")},{id:"one",label:this.$t("admin.one_level")}],ldapImplementationOptions:[{id:"OpenLDAP",label:this.$t("admin.open_ldap_v3")},{id:"ActiveDirectory",label:this.$t("admin.ms_active_directory")}],rules:{hostname:[So,sa,Do(255)],port:[So,da(5,0,65535)],bindUserDN:[So,Do(255)],bindUserPassword:[e=>this.configuration.hasBindUserPassword||So(e),Do(255)],baseDistinguishedName:[So,Do(255)],userNameAttribute:[So,Do(100)],userSearchFilter:[So,Do(100)],userUniqueIdAttribute:[Do(100)],firstNameAttribute:[So,Do(100)],lastNameAttribute:[So,Do(100)],syncInterval:[So,Bo,ta(1,23)],middleNameAttribute:[Do(100)],userStatusAttribute:[Do(100)],workEmailAttribute:[e=>"workEmail"!==this.configuration.employeeSelectorMapping||So(e),Do(100)],employeeIdAttribute:[e=>"employeeId"!==this.configuration.employeeSelectorMapping||So(e),Do(100)]},testModalState:null}},computed:{passwordPlaceHolder(){return this.configuration.hasBindUserPassword?"********":null},workEmailLabelClasses(){return{"oxd-input-field-required":"workEmail"===this.configuration.employeeSelectorMapping}},employeeIdLabelClasses(){return{"oxd-input-field-required":"employeeId"===this.configuration.employeeSelectorMapping}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data,{userLookupSettings:o}=t,a=o[0];this.configuration.enable=t.enable,this.configuration.hostname=t.hostname,this.configuration.port=t.port,this.configuration.encryption=this.encryptionOptions.find((e=>e.id===t.encryption)),this.configuration.ldapImplementation=this.ldapImplementationOptions.find((e=>e.id===t.ldapImplementation))||this.ldapImplementationOptions[0],this.configuration.bindAnonymously=t.bindAnonymously,this.configuration.bindUserDN=t.bindUserDN,this.configuration.hasBindUserPassword=t.hasBindUserPassword,a&&(this.configuration.baseDistinguishedName=a?.baseDN,this.configuration.userNameAttribute=a?.userNameAttribute,this.configuration.userSearchFilter=a?.userSearchFilter,this.configuration.userUniqueIdAttribute=a?.userUniqueIdAttribute,Array.isArray(a?.employeeSelectorMapping)&&(0===a.employeeSelectorMapping.length?this.configuration.employeeSelectorMapping="":this.configuration.employeeSelectorMapping=a.employeeSelectorMapping[0]["field"])),this.configuration.searchScope=this.searchScopeOptions.find((e=>e.id===a?.searchScope))||this.searchScopeOptions[0],this.configuration.dataMapping=t.dataMapping,this.configuration.mergeLDAPUsersWithExistingSystemUsers=t.mergeLDAPUsersWithExistingSystemUsers,this.configuration.syncInterval=t.syncInterval})).finally((()=>{this.isLoading=!1}))},methods:{onClickTest(){this.validate().then((()=>{if(!0===this.invalid)return;this.isLoading=!0;const e=this.getRequestBody();delete e.enable,delete e.syncInterval,this.http.request({method:"POST",url:"/api/v2/admin/ldap-test-connection",data:e}).then((e=>{const{data:t}=e.data;this.testModalState=t})).finally((()=>this.isLoading=!1))}))},getRequestBody(){let e;return this.configuration.employeeSelectorMapping&&(e=[{field:this.configuration.employeeSelectorMapping,attributeName:this.configuration.dataMapping[this.configuration.employeeSelectorMapping]}]),{enable:this.configuration.enable,hostname:this.configuration.hostname,port:parseInt(this.configuration.port),encryption:this.configuration.encryption?.id||"none",ldapImplementation:this.configuration.ldapImplementation?.id,bindAnonymously:this.configuration.bindAnonymously,bindUserDN:this.configuration.bindUserDN,bindUserPassword:this.configuration.bindUserPassword,userLookupSettings:[{baseDN:this.configuration.baseDistinguishedName,searchScope:this.configuration.searchScope?.id,userNameAttribute:this.configuration.userNameAttribute,userSearchFilter:this.configuration.userSearchFilter,userUniqueIdAttribute:this.configuration.userUniqueIdAttribute,employeeSelectorMapping:e||[]}],dataMapping:this.configuration.dataMapping,mergeLDAPUsersWithExistingSystemUsers:this.configuration.mergeLDAPUsersWithExistingSystemUsers,syncInterval:parseInt(this.configuration.syncInterval)}},onClickSave(){this.validate().then((()=>{!0!==this.invalid&&(this.isLoading=!0,this.http.request({method:"PUT",data:this.getRequestBody()}).then((()=>this.$toast.updateSuccess())).finally((()=>P())))}))},onCloseTestModal(){this.testModalState=null}}};const Au=(0,i.Z)(Lu,[["render",Cu],["__scopeId","data-v-89df999a"]]);var Uu=Au,Pu={"job-title-list":xo,"job-title-edit":ba,"job-title-save":Sa,"job-category-list":Ua,"job-category-edit":ja,"job-category-save":Ha,"qualification-education-list":Mn,"qualification-education-edit":Gn,"qualification-education-save":Jn,"system-user-list":ul,"system-user-edit":Al,"system-user-save":Dl,"organization-structure":dn,"employment-status-list":Nn,"employment-status-save":Tn,"employment-status-edit":gn,"qualification-skill-list":rr,"qualification-skill-edit":pr,"qualification-skill-save":br,"license-list":Or,"license-save":Ir,"license-edit":_r,"module-configuration-edit":Xd,"qualification-language-list":si,"qualification-language-edit":Qr,"qualification-language-save":Kr,"qualification-membership-list":fi,"qualification-membership-edit":wi,"qualification-membership-save":$i,"organization-general-information-view":Ui,"nationality-list":Gi,"nationality-edit":Ji,"nationality-save":as,"location-list":ks,"location-save":Is,"location-edit":Ms,"email-configuration-view":us,"pay-grade-list":Ws,"pay-grade-add":td,"pay-grade-edit":Ld,"work-shift-list":ic,"work-shift-save":yc,"work-shift-edit":kc,"email-subscription-list":Lc,"email-subscription-edit":tm,"localization-configuration":im,"corporate-branding":km,"language-package-list":Qm,"language-translation-edit":pu,"ldap-configuration":Uu};const qu={class:"orangehrm-background-container"},Mu={class:"orangehrm-card-container"},Fu={class:"orangehrm-employee-container"},Ou={class:"orangehrm-employee-image"},ju={class:"orangehrm-employee-form"};function zu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("profile-image-input"),c=(0,a.resolveComponent)("full-name-input"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("oxd-input-field"),v=(0,a.resolveComponent)("password-input"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",qu,[(0,a.createElementVNode)("div",Mu,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_employee")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Fu,[(0,a.createElementVNode)("div",Ou,[(0,a.createVNode)(d,{modelValue:l.employee.empPicture,"onUpdate:modelValue":t[0]||(t[0]=e=>l.employee.empPicture=e),rules:n.rules.empPicture,"img-src":r.profilePicUrl},null,8,["modelValue","rules","img-src"])]),(0,a.createElementVNode)("div",ju,[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{firstName:l.employee.firstName,"onUpdate:firstName":t[1]||(t[1]=e=>l.employee.firstName=e),middleName:l.employee.middleName,"onUpdate:middleName":t[2]||(t[2]=e=>l.employee.middleName=e),lastName:l.employee.lastName,"onUpdate:lastName":t[3]||(t[3]=e=>l.employee.lastName=e),rules:n.rules},null,8,["firstName","middleName","lastName","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,{class:"user-form-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"user-form-header-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.create_login_details")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.createLogin,"onUpdate:modelValue":t[4]||(t[4]=e=>n.createLogin=e)},null,8,["modelValue"])])),_:1}),n.createLogin?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.user.username,"onUpdate:modelValue":t[5]||(t[5]=e=>n.user.username=e),label:e.$t("general.username"),rules:n.rules.username,required:"",autocomplete:"off"},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.user.role,"onUpdate:modelValue":t[6]||(t[6]=e=>n.user.role=e),type:"select",label:e.$t("general.user_role"),rules:n.rules.role,options:o.userRoles,required:""},null,8,["modelValue","label","rules","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,{password:n.user.password,"onUpdate:password":t[7]||(t[7]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[8]||(t[8]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"])],64)):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(s),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(C)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Ru={class:"employee-image-wrapper"},Gu=["src"];function Zu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,(0,a.mergeProps)({ref:"fileInput"},e.$attrs,{type:"file"}),{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Ru,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:o.imgSrc},null,8,Gu)]),(0,a.createVNode)(i,{name:"plus",role:"none","display-type":"solid-main",class:"employee-image-action"})])),_:1},16),(0,a.createVNode)(d,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accept_jpg_png_upto_1mb_recomended_dimentions_200px_x_200px")),1)])),_:1})],64)}var Qu={name:"ProfileImageInput",inheritAttrs:!1,props:{imgSrc:{type:String,required:!0}}};const Hu=(0,i.Z)(Qu,[["render",Zu],["__scopeId","data-v-b553055e"]]);var Wu=Hu;function Yu(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createBlock)(s,{label:r.localizedLabel,classes:r.classes},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-firstname",name:"firstName",placeholder:e.$t("general.first_name"),"model-value":o.firstName,rules:o.rules.firstName,disabled:o.disabled,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:firstName",t))},null,8,["placeholder","model-value","rules","disabled"]),(0,a.createVNode)(i,{class:"orangehrm-middlename",name:"middleName","model-value":o.middleName,rules:o.rules.middleName,disabled:o.disabled,placeholder:o.showMiddleNamePlaceholder?e.$t("general.middle_name"):"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:middleName",t))},null,8,["model-value","rules","disabled","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-lastname",name:"lastName",placeholder:e.$t("general.last_name"),"model-value":o.lastName,rules:o.rules.lastName,disabled:o.disabled,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:lastName",t))},null,8,["placeholder","model-value","rules","disabled"])])),_:1},8,["label","classes"])}var Ju={name:"FullNameInput",inheritAttrs:!1,props:{firstName:{type:String,required:!0},middleName:{type:String,required:!0},lastName:{type:String,required:!0},rules:{type:Object,required:!0},disabled:{type:Boolean,default:!1},showMiddleNamePlaceholder:{type:Boolean,default:!0},label:{type:String,default:null}},emits:["update:firstName","update:middleName","update:lastName"],computed:{classes(){return{label:{"oxd-input-field-required":!0},wrapper:{"--name-grouped-field":!0}}},localizedLabel(){return this.label?this.label:this.$t("general.employee_full_name")}}};const Xu=(0,i.Z)(Ju,[["render",Yu],["__scopeId","data-v-16292a35"]]);var Ku=Xu;const ep=`${window.appGlobal.publicPath}/images/default-photo.png`,tp={firstName:"",middleName:"",lastName:"",empPicture:null,employeeId:""},op={username:"",role:null,empNumber:0,status:"1",password:"",passwordConfirm:""};var ap={components:{"oxd-switch-input":n.OxdSwitchInput,"profile-image-input":Wu,"full-name-input":Ku,"password-input":Nl},props:{empId:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0},userRoles:{type:Array,required:!0}},setup(e){const t=(0,a.ref)({...tp,employeeId:e.empId?e.empId:""}),o=new q(window.appGlobal.baseUrl,"/api/v2/pim/employees");return{http:o,employee:t}},data(){return{isLoading:!1,createLogin:!1,user:{...op},empNumber:null,rules:{firstName:[So,Do(30)],middleName:[Do(30)],lastName:[So,Do(30)],employeeId:[Do(10)],role:[So],empPicture:[Go(1048576),Zo(this.allowedImageTypes)],username:[So,Xo(5),Do(40)],status:[So]}}},computed:{profilePicUrl(){if(this.employee.empPicture){const e=this.employee.empPicture.base64,t=this.employee.empPicture.type,o=this.allowedImageTypes.findIndex((e=>e===t));return o>-1?`data:${t};base64,${e}`:ep}return ep}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;return this.rules.employeeId.push((e=>{const o=t.findIndex((t=>t.employeeId?.trim()&&String(t.employeeId).toLowerCase()==String(e).toLowerCase()));return!(o>-1)||this.$t("pim.employee_id_exists")})),this.http.request({method:"GET",url:"/api/v2/admin/users"})})).then((e=>{const{data:t}=e.data;this.rules.username.push((e=>{const o=t.findIndex((t=>String(t.userName).toLowerCase()==String(e).toLowerCase()));return!(o>-1)||this.$t("pim.username_already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/pim/viewEmployeeList")},onSave(){this.isLoading=!0,this.http.create({...this.employee}).then((e=>{const{data:t}=e;return t?.data&&(this.empNumber=t.data.empNumber),this.createLogin&&t?.data?this.http.http.post("api/v2/admin/users",{username:this.user.username,password:this.user.password,status:"1"===this.user.status,userRoleId:this.user.role?.id,empNumber:t.data.empNumber}):void 0})).then((()=>this.$toast.saveSuccess())).then((()=>{this.employee={...tp},this.user={...op},this.empNumber?U(`/pim/viewPersonalDetails/empNumber/${this.empNumber}`):this.onCancel()})).catch((()=>{this.isLoading=!1}))}}};const lp=(0,i.Z)(ap,[["render",zu],["__scopeId","data-v-5e95a6fe"]]);var np=lp;const rp=e=>((0,a.pushScopeId)("data-v-17664486"),e=e(),(0,a.popScopeId)(),e),ip={class:"orangehrm-background-container"},sp=rp((()=>(0,a.createElementVNode)("br",null,null,-1))),dp={class:"orangehrm-paper-container"},cp={key:0,class:"orangehrm-header-container"},mp={class:"orangehrm-container"},up={class:"orangehrm-bottom-container"};function pp(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("employment-status-dropdown"),m=(0,a.resolveComponent)("include-employee-dropdown"),u=(0,a.resolveComponent)("jobtitle-dropdown"),p=(0,a.resolveComponent)("subunit-dropdown"),h=(0,a.resolveComponent)("oxd-grid"),g=(0,a.resolveComponent)("oxd-form-row"),v=(0,a.resolveComponent)("oxd-divider"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form"),b=(0,a.resolveComponent)("oxd-table-filter"),V=(0,a.resolveComponent)("table-header"),x=(0,a.resolveComponent)("oxd-card-table"),w=(0,a.resolveComponent)("oxd-pagination"),N=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ip,[(0,a.createVNode)(b,{"filter-title":e.$t("pim.employee_information")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:l.filters.includeEmployees?.param}},null,8,["modelValue","rules","params"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.employeeId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.employeeId=e),label:e.$t("general.employee_id")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.empStatusId,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.empStatusId=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.supervisor,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.supervisor=e),rules:n.rules.supervisor,label:e.$t("pim.supervisor_name")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.subunitId,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.subunitId=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(f,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),sp,(0,a.createElementVNode)("div",dp,[e.$can.create("employee_list")?((0,a.openBlock)(),(0,a.createElementBlock)("div",cp,[(0,a.createVNode)(f,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(V,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",mp,[(0,a.createVNode)(x,{ref:"cardTable",selected:n.checkedItems,"onUpdate:selected":t[7]||(t[7]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[8]||(t[8]=e=>l.sortDefinition=e),headers:r.headers,items:l.items?.data,selectable:e.$can.delete("employee_list"),clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:r.onClickEdit},null,8,["selected","order","headers","items","selectable","loading","onClick"])]),(0,a.createElementVNode)("div",up,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,current:l.currentPage,"onUpdate:current":t[9]||(t[9]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(N,{ref:"deleteDialog"},null,512)])}function hp(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:o.multiple?"multiselect":"select",label:e.$t("general.job_title"),options:l.options,rules:o.rules,required:o.required},null,8,["type","label","options","rules","required"])}var gp={name:"JobtitleDropdown",components:{OxdInputField:n.OxdInputField},props:{rules:{type:Array,required:!1,default:Array.from([])},required:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1}},setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/job-titles");return(0,a.onBeforeMount)((()=>{t.getAll({limit:0}).then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.title})))}))})),{options:e}}};const vp=(0,i.Z)(gp,[["render",hp]]);var fp=vp;function yp(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:o.multiple?"multiselect":"select",label:e.$t("general.sub_unit"),options:l.options},null,8,["type","label","options"])}var Cp={name:"SubunitDropdown",components:{OxdInputField:n.OxdInputField},props:{multiple:{type:Boolean,required:!1,default:!1}},setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/subunits");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.filter((e=>e.level>0)).map((e=>({id:e.id,label:e.name,_indent:e.level?e.level+1:1})))}))})),{options:e}}};const bp=(0,i.Z)(Cp,[["render",yp]]);var Vp=bp;function xp(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("general.employment_status"),options:l.options},null,8,["label","options"])}var wp={name:"EmploymentStatusDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/employment-statuses");return(0,a.onBeforeMount)((()=>{t.getAll({limit:0}).then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.name})))}))})),{options:e}}};const Np=(0,i.Z)(wp,[["render",xp]]);var kp=Np;function _p(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["label","options"])}var Sp={name:"IncludeEmployeeDropdown",data(){return{includeOpts:[{id:1,param:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,param:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,param:"onlyPast",label:this.$t("general.past_employees_only")}]}}};const Dp=(0,i.Z)(Sp,[["render",_p]]);var $p=Dp;const Tp={"employee.employeeId":"DEFAULT","employee.firstName":"ASC","employee.lastName":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","empStatus.name":"DEFAULT","subunit.name":"DEFAULT","supervisor.firstName":"DEFAULT"};var Ep={components:{"delete-confirmation":vo,"employee-autocomplete":rl,"jobtitle-dropdown":fp,"subunit-dropdown":Vp,"employment-status-dropdown":kp,"include-employee-dropdown":$p},props:{unselectableEmpNumbers:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ne(),o=o=>o.map((o=>{const a=e.unselectableEmpNumbers.findIndex((e=>e==o.empNumber));return{id:o.empNumber,employeeId:o.employeeId,firstAndMiddleName:`${o.firstName} ${o.middleName}`,lastName:o.lastName+(o.terminationId?` ${t("general.past_employee")}`:""),jobTitle:o.jobTitle?.isDeleted?o.jobTitle.title+t("general.deleted"):o.jobTitle?.title,empStatus:o.empStatus?.name,subunit:o.subunit?.name,supervisor:o.supervisors?o.supervisors.map((e=>`${e.firstName} ${e.lastName}`)).join(","):"",isSelectable:-1===a}})),l=(0,a.ref)({employee:null,employeeId:"",empStatusId:null,supervisor:null,jobTitleId:null,subunitId:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}}),{sortDefinition:n,sortField:r,sortOrder:i,onSort:s}=fo({sortDefinition:Tp}),d=(0,a.computed)((()=>({model:"detailed",nameOrId:"string"===typeof l.value.employee?l.value.employee:void 0,empNumber:l.value.employee?.id,employeeId:l.value.employeeId,empStatusId:l.value.empStatusId?.id,includeEmployees:l.value.includeEmployees?.param,supervisorEmpNumbers:l.value.supervisor?[l.value.supervisor.id]:void 0,jobTitleId:l.value.jobTitleId?.id,subunitId:l.value.subunitId?.id,sortField:r.value,sortOrder:i.value}))),c=new q(window.appGlobal.baseUrl,"/api/v2/pim/employees"),{showPaginator:m,currentPage:u,total:p,pages:h,pageSize:g,response:v,isLoading:f,execQuery:y}=so(c,{query:d,normalizer:o});return s(y),{http:c,showPaginator:m,currentPage:u,isLoading:f,total:p,pages:h,pageSize:g,execQuery:y,items:v,filters:l,sortDefinition:n}},data(){return{checkedItems:[],rules:{employee:[],supervisor:[ia]}}},computed:{headers(){return[{name:"employeeId",slot:"title",title:this.$t("general.id"),sortField:"employee.employeeId",style:{flex:1}},{name:"firstAndMiddleName",title:this.$t("pim.first_middle_name"),sortField:"employee.firstName",style:{flex:1}},{name:"lastName",title:this.$t("general.last_name"),sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:1}},{name:"empStatus",title:this.$t("general.employment_status"),sortField:"empStatus.name",style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),sortField:"subunit.name",style:{flex:1}},{name:"supervisor",title:this.$t("pim.supervisor"),sortField:"supervisor.firstName",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{...this.$can.delete("employee_list")&&{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}]}},methods:{onClickAdd(){U("/pim/addEmployee")},onClickEdit(e){const t=e.id?e.id:e.item?.id;U("/pim/viewPersonalDetails/empNumber/{id}",{id:t})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e,t){t.stopImmediatePropagation();const o=this.unselectableEmpNumbers.findIndex((t=>t===e.id));if(o>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const Ip=(0,i.Z)(Ep,[["render",pp],["__scopeId","data-v-17664486"]]);var Bp=Ip;const Lp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Ap(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("full-name-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-input-field"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("oxd-input-group"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form"),b=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(b,{"employee-id":o.empNumber,screen:"personal"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Lp,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.personal_details")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{firstName:n.employee.firstName,"onUpdate:firstName":t[0]||(t[0]=e=>n.employee.firstName=e),middleName:n.employee.middleName,"onUpdate:middleName":t[1]||(t[1]=e=>n.employee.middleName=e),lastName:n.employee.lastName,"onUpdate:lastName":t[2]||(t[2]=e=>n.employee.lastName=e),rules:n.rules},null,8,["firstName","middleName","lastName","rules"])])),_:1})])),_:1}),o.showDeprecatedFields?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.nickname,"onUpdate:modelValue":t[3]||(t[3]=e=>n.employee.nickname=e),label:e.$t("pim.nickname"),rules:n.rules.nickname},null,8,["modelValue","label","rules"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.employeeId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.employee.employeeId=e),label:e.$t("general.employee_id"),rules:n.rules.employeeId,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.otherId,"onUpdate:modelValue":t[5]||(t[5]=e=>n.employee.otherId=e),label:e.$t("pim.other_id"),rules:n.rules.otherId},null,8,["modelValue","label","rules"])])),_:1})])),_:1}),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.drivingLicenseNo,"onUpdate:modelValue":t[6]||(t[6]=e=>n.employee.drivingLicenseNo=e),label:e.$t("pim.driver_license_number"),rules:n.rules.drivingLicenseNo,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.employee.drivingLicenseExpiredDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.employee.drivingLicenseExpiredDate=e),rules:n.rules.drivingLicenseExpiredDate,label:e.$t("pim.license_expiry_date")},null,8,["modelValue","rules","label"])])),_:1})])),_:1}),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[o.showSsnField?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.ssnNumber,"onUpdate:modelValue":t[8]||(t[8]=e=>n.employee.ssnNumber=e),label:e.$t("pim.ssn_number"),rules:n.rules.ssnNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])])),_:1})):(0,a.createCommentVNode)("",!0),o.showSinField?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.sinNumber,"onUpdate:modelValue":t[9]||(t[9]=e=>n.employee.sinNumber=e),label:e.$t("pim.sin_number"),rules:n.rules.sinNumber,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.nationality,"onUpdate:modelValue":t[10]||(t[10]=e=>n.employee.nationality=e),type:"select",label:e.$t("general.nationality"),clear:!1,options:o.nationalities},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.maritalStatus,"onUpdate:modelValue":t[11]||(t[11]=e=>n.employee.maritalStatus=e),type:"select",label:e.$t("pim.marital_status"),clear:!1,options:n.maritalStatuses},null,8,["modelValue","label","options"])])),_:1})])),_:1}),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.employee.birthday,"onUpdate:modelValue":t[12]||(t[12]=e=>n.employee.birthday=e),label:e.$t("pim.date_of_birth"),rules:n.rules.birthday,disabled:!e.$can.update("personal_sensitive_information")},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{label:e.$t("pim.gender"),classes:{wrapper:"--gender-grouped-field"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.gender,"onUpdate:modelValue":t[13]||(t[13]=e=>n.employee.gender=e),type:"radio","option-label":e.$t("general.male"),value:"1"},null,8,["modelValue","option-label"]),(0,a.createVNode)(u,{modelValue:n.employee.gender,"onUpdate:modelValue":t[14]||(t[14]=e=>n.employee.gender=e),type:"radio","option-label":e.$t("general.female"),value:"2"},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),o.showDeprecatedFields?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0})):(0,a.createCommentVNode)("",!0),o.showDeprecatedFields?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.militaryService,"onUpdate:modelValue":t[15]||(t[15]=e=>n.employee.militaryService=e),label:e.$t("pim.military_service"),rules:n.rules.militaryService},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.employee.smoker,"onUpdate:modelValue":t[16]||(t[16]=e=>n.employee.smoker=e),type:"checkbox",label:e.$t("pim.smoker"),"option-label":e.$t("general.yes")},null,8,["modelValue","label","option-label"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])),_:1},8,["employee-id"])}const Up={class:"orangehrm-background-container"},Pp={class:"orangehrm-card-container"},qp={class:"orangehrm-edit-employee"},Mp={class:"orangehrm-edit-employee-navigation"},Fp={class:"orangehrm-edit-employee-imagesection"},Op={class:"orangehrm-edit-employee-name"},jp={class:"orangehrm-edit-employee-image-wrapper"},zp=["src"],Rp={class:"orangehrm-edit-employee-content"};function Gp(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("tabs-navigation"),d=(0,a.resolveComponent)("profile-custom-fields"),c=(0,a.resolveComponent)("profile-attachments");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Up,[(0,a.createElementVNode)("div",Pp,[(0,a.createElementVNode)("div",qp,[(0,a.createElementVNode)("div",Mp,[(0,a.createElementVNode)("div",Fp,[(0,a.createElementVNode)("div",Op,[(0,a.createVNode)(i,{tag:"h6",class:"--strong"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeName),1)])),_:1}),l.isCurrentEmp?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.past_employee")),1)])),_:1}))]),(0,a.createElementVNode)("div",jp,[(0,a.createElementVNode)("div",{class:"orangehrm-edit-employee-image",onClick:t[0]||(t[0]=(...e)=>l.onClickProfilePic&&l.onClickProfilePic(...e))},[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,zp)])])]),(0,a.createVNode)(s,{tabs:o.tabs},null,8,["tabs"])]),(0,a.createElementVNode)("div",Rp,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0),"default"!==o.screen?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"employee-id":o.employeeId,screen:o.screen},null,8,["employee-id","screen"])):(0,a.createCommentVNode)("",!0),"default"!==o.screen?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,"employee-id":o.employeeId,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,screen:o.screen},null,8,["employee-id","allowed-file-types","max-file-size","screen"])):(0,a.createCommentVNode)("",!0)])])])])}const Zp={role:"tablist",class:"orangehrm-tabs"},Qp=["href"];function Hp(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",Zp,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.tabs,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,role:"tab",class:"orangehrm-tabs-wrapper"},[(0,a.createElementVNode)("a",{class:(0,a.normalizeClass)({"orangehrm-tabs-item":!0,"--active":e.active}),href:e.url},(0,a.toDisplayString)(e.name),11,Qp)])))),128))])}var Wp={name:"TabsNavigation",props:{tabs:{type:Array,required:!0}}};const Yp=(0,i.Z)(Wp,[["render",Hp],["__scopeId","data-v-8cad1ea8"]]);var Jp=Yp;const Xp={class:"orangehrm-attachment"},Kp={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},eh={class:"orangehrm-container"},th={key:0,class:"orangehrm-bottom-container"};function oh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-divider"),s=(0,a.resolveComponent)("save-attachment"),d=(0,a.resolveComponent)("edit-attachment"),c=(0,a.resolveComponent)("profile-action-header"),m=(0,a.resolveComponent)("table-header"),u=(0,a.resolveComponent)("oxd-card-table"),p=(0,a.resolveComponent)("oxd-pagination"),h=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Xp,[(0,a.createVNode)(i),n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,http:l.http,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,onClose:r.onSaveModalClose},null,8,["http","allowed-file-types","max-file-size","onClose"])):n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,data:n.editModalState,http:l.http,"allowed-file-types":o.allowedFileTypes,"max-file-size":o.maxFileSize,onClose:r.onEditModalClose},null,8,["data","http","allowed-file-types","max-file-size","onClose"])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createElementVNode)("div",Kp,[(0,a.createVNode)(c,{"action-button-shown":e.$can.create(`${o.screen}_attachment`),onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.attachments")),1)])),_:1},8,["action-button-shown","onClick"])]),(0,a.createVNode)(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",eh,[(0,a.createVNode)(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:l.items?.data,selectable:e.$can.delete(`${o.screen}_attachment`),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",th,[(0,a.createVNode)(p,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0)],64)),(0,a.createVNode)(h,{ref:"deleteDialog"},null,512)])}const ah=1,lh=1024,nh=1048576,rh=1073741824,ih=function(e,t,o=!0){let a,l=ah,n="B";return a="number"===typeof e?e:parseInt(e,10),a>=rh?(l=rh,n="GB"):a>=nh?(l=nh,n="MB"):a>=lh&&(l=lh,n="kB"),(a/l).toFixed(t)+(o?" "+n:"")},sh={class:"orangehrm-card-container"};function dh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",sh,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.description=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const ch={attachment:null,description:""};var mh={name:"SaveAttachment",props:{http:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data(){return{isLoading:!1,attachment:{...ch},rules:{description:[Do(200)],attachment:[So,Go(this.maxFileSize),Zo(this.allowedFileTypes)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then((()=>this.$toast.saveSuccess())).then((()=>{this.attachment={...ch},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const uh=(0,i.Z)(mh,[["render",dh]]);var ph=uh;const hh={class:"orangehrm-card-container"};function gh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-input-field"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hh,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.current_file")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.currentFile),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.attachment.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.description=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const vh={attachment:null,description:""};var fh={name:"EditAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},emits:["close"],data(){return{isLoading:!1,currentFile:"",attachment:{...vh},rules:{description:[Do(200)],attachment:[Go(this.maxFileSize),Zo(this.allowedFileTypes)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.currentFile=t.filename,this.attachment.description=t.description})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.attachment}).then((()=>this.$toast.updateSuccess())).then((()=>{this.attachment={...vh},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const yh=(0,i.Z)(fh,[["render",gh]]);var Ch=yh;const bh={class:"orangehrm-action-header"};function Vh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",bh,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])),_:3}),o.actionButtonShown?((0,a.openBlock)(),(0,a.createBlock)(s,(0,a.mergeProps)({key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text"},e.$attrs),null,16,["label"])):(0,a.createCommentVNode)("",!0)])}var xh={name:"ProfileActionHeader",inheritAttrs:!1,props:{actionButtonShown:{type:Boolean,required:!1,default:!0}}};const wh=(0,i.Z)(xh,[["render",Vh],["__scopeId","data-v-3dab643a"]]);var Nh=wh,kh={name:"ProfileAttachments",components:{"save-attachment":ph,"edit-attachment":Ch,"profile-action-header":Nh,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/screen/${e.screen}/attachments`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>({...e,attachedDate:Ke(Xe(e.attachedDate),o,{locale:a}),size:ih(e.size,2)}))),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"description",title:this.$t("general.description"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"attachedDate",title:this.$t("pim.date_added"),style:{flex:1}},{name:"attachedByName",title:this.$t("pim.added_by"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.update(`${this.screen}_attachment`)&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),this.$can.delete(`${this.screen}_attachment`)&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.read(`${this.screen}_attachment`)&&(e.cellConfig.download={onClick:this.onClickDownload,props:{name:"download"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onClickDownload(e){const t=`${window.appGlobal.baseUrl}/pim/viewAttachment/empNumber/${this.employeeId}/attachId/${e.id}`;window.open(t,"_blank")},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const _h=(0,i.Z)(kh,[["render",oh],["__scopeId","data-v-50e42520"]]);var Sh=_h;const Dh={key:0,class:"orangehrm-custom-fields"},$h={class:"orangehrm-card-container"};function Th(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-divider"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return 0!==n.fields.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Dh,[(0,a.createVNode)(i),(0,a.createElementVNode)("div",$h,[(0,a.createVNode)(s,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.custom_fields")),1)])),_:1}),(0,a.createVNode)(i),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.fields,(t=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:t.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customFieldsModel[t.model],"onUpdate:modelValue":e=>n.customFieldsModel[t.model]=e,type:t.type,label:t.label,options:t.extraData,rules:n.rules.default,disabled:!e.$can.update(`${o.screen}_custom_fields`)},null,8,["modelValue","onUpdate:modelValue","type","label","options","rules","disabled"])])),_:2},1024)))),128))])),_:1})])),_:1}),e.$can.update(`${o.screen}_custom_fields`)?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(i),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p)])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","onSubmitValid"])])])):(0,a.createCommentVNode)("",!0)}const Eh=e=>"string"===typeof e?e.split(",").map(((e,t)=>({id:t,label:e}))).filter((e=>""!=e.label.trim())):[];var Ih={name:"ProfileCustomFields",props:{employeeId:{type:String,required:!0},screen:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/custom-fields?screen=${e.screen}`);return{http:t}},data(){return{isLoading:!1,fields:[],customFieldsModel:{},rules:{default:[Do(250)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t,meta:o}=e.data;this.customFieldsModel={...t},o.fields&&o.fields.length>0&&(this.fields=o.fields.map((e=>{const o=Eh(e.extraData),a=`custom${e.id}`;if(1==e.fieldType&&t[a]){const e=o.find((e=>e.label==t[a]));this.customFieldsModel[a]=e||null}return{id:e.id,label:e.fieldName,type:1==e.fieldType?"select":"input",model:a,extraData:o}})))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`/api/v2/pim/employees/${this.employeeId}/custom-fields`,data:{...this.customFieldsModel},transformRequest:[e=>{for(const t in e)e[t]?.label&&(e[t]=e[t].label);return JSON.stringify(e)}]}).then((()=>{this.isLoading=!1,this.$toast.saveSuccess()}))}}};const Bh=(0,i.Z)(Ih,[["render",Th]]);var Lh=Bh;const Ah=`${window.appGlobal.publicPath}/images/default-photo.png`;var Uh={name:"EditEmployeeLayout",components:{"tabs-navigation":Jp,"profile-attachments":Sh,"profile-custom-fields":Lh},props:{employeeId:{type:String,required:!0},tabs:{type:Array,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},screen:{type:String,default:"default",validator(e){return["default","personal","contact","emergency","dependents","immigration","qualifications","tax","salary","job","report-to","membership"].includes(e)}}},setup(e){const t=(0,a.ref)(""),o=(0,a.ref)(!0),l=new q(window.appGlobal.baseUrl,"/api/v2/pim/employees");l.get(e.employeeId).then((({data:e})=>{t.value=`${e.data.firstName} ${e.data.lastName}`,o.value=!e.data.terminationId}));const n=(0,a.computed)((()=>e.employeeId?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employeeId}`:Ah)),r=()=>{U("/pim/viewPhotograph/empNumber/{empNumber}",{empNumber:e.employeeId})};return{imgSrc:n,employeeName:t,isCurrentEmp:o,onClickProfilePic:r}}};const Ph=(0,i.Z)(Uh,[["render",Gp],["__scopeId","data-v-0349f171"]]);var qh=Ph;const Mh={firstName:"",middleName:"",lastName:"",employeeId:"",otherId:"",drivingLicenseNo:"",drivingLicenseExpiredDate:"",ssnNumber:"",sinNumber:"",nationality:[],maritalStatus:[],birthday:"",gender:"",nickname:"",smoker:"",militaryService:""};var Fh={components:{"edit-employee-layout":qh,"full-name-input":Ku},props:{empNumber:{type:String,required:!0},nationalities:{type:Array,default:()=>[]},showDeprecatedFields:{type:Boolean,default:!1},showSsnField:{type:Boolean,default:!1},showSinField:{type:Boolean,default:!1}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/personal-details`),{userDateFormat:o}=Ae();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,employee:{...Mh},rules:{firstName:[So,Do(30)],middleName:[Do(30)],lastName:[So,Do(30)],employeeId:[Do(10)],otherId:[Do(30)],drivingLicenseNo:[Do(30)],ssnNumber:[Do(30)],sinNumber:[Do(30)],nickname:[Do(30)],militaryService:[Do(30)],birthday:[$o(this.userDateFormat)],drivingLicenseExpiredDate:[$o(this.userDateFormat)]},maritalStatuses:[{id:"Single",label:"Single"},{id:"Married",label:"Married"},{id:"Other",label:"Other"}]}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>(this.updateModel(e),this.http.request({method:"GET",url:"/api/v2/pim/employees"})))).then((e=>{const{data:t}=e.data;this.rules.employeeId.push((e=>{const o=t.findIndex((t=>t.employeeId?.trim()&&String(t.employeeId).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{empNumber:e}=t[o];return e==this.empNumber||this.$t("pim.employee_id_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{lastName:this.employee.lastName,firstName:this.employee.firstName,middleName:this.employee.middleName,employeeId:this.employee.employeeId,otherId:this.employee.otherId,drivingLicenseNo:this.employee.drivingLicenseNo,drivingLicenseExpiredDate:this.employee.drivingLicenseExpiredDate,gender:this.employee.gender,maritalStatus:this.employee.maritalStatus?.id,birthday:this.employee.birthday,nationalityId:this.employee.nationality?.id,ssnNumber:this.showSsnField?this.employee.ssnNumber:void 0,sinNumber:this.showSinField?this.employee.sinNumber:void 0,nickname:this.showDeprecatedFields?this.employee.nickname:void 0,smoker:this.showDeprecatedFields?this.employee.smoker:void 0,militaryService:this.showDeprecatedFields?this.employee.militaryService:void 0}}).then((e=>(this.updateModel(e),this.$toast.updateSuccess()))).then((()=>{this.isLoading=!1}))},updateModel(e){const{data:t}=e.data;this.employee={...Mh,...t},this.employee.maritalStatus=this.maritalStatuses.find((e=>e.id===t.maritalStatus)),this.employee.nationality=this.nationalities.find((e=>e.id===t.nationality?.id))}}};const Oh=(0,i.Z)(Fh,[["render",Ap],["__scopeId","data-v-b6d78ace"]]);var jh=Oh;const zh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Rh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(f,{"employee-id":o.empNumber,screen:"contact"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zh,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.contact_details")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.address")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.street1,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.street1=e),label:e.$t("pim.street1"),rules:n.rules.street1},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.street2,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.street2=e),label:e.$t("pim.street2"),rules:n.rules.street2},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.city,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.city=e),label:e.$t("general.city"),rules:n.rules.city},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.province,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.province=e),label:e.$t("general.state_province"),rules:n.rules.province},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.zipCode,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.zipCode=e),label:e.$t("general.zip_postal_code"),rules:n.rules.zipCode},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.countryCode,"onUpdate:modelValue":t[5]||(t[5]=e=>n.contact.countryCode=e),type:"select",label:e.$t("general.country"),options:o.countries},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.telephone")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.homeTelephone,"onUpdate:modelValue":t[6]||(t[6]=e=>n.contact.homeTelephone=e),modelModifiers:{trim:!0},label:e.$t("pim.home"),rules:n.rules.homeTelephone},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.mobile,"onUpdate:modelValue":t[7]||(t[7]=e=>n.contact.mobile=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobile},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.workTelephone,"onUpdate:modelValue":t[8]||(t[8]=e=>n.contact.workTelephone=e),modelModifiers:{trim:!0},label:e.$t("pim.work"),rules:n.rules.workTelephone},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.email")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.workEmail,"onUpdate:modelValue":t[9]||(t[9]=e=>n.contact.workEmail=e),label:e.$t("general.work_email"),rules:n.rules.workEmail},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.otherEmail,"onUpdate:modelValue":t[10]||(t[10]=e=>n.contact.otherEmail=e),label:e.$t("general.other_email"),rules:n.rules.otherEmail},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])),_:1},8,["employee-id"])}const Gh={street1:"",street2:"",city:"",province:"",countryCode:[],zipCode:"",homeTelephone:"",workTelephone:"",mobile:"",workEmail:"",otherEmail:""};var Zh={components:{"edit-employee-layout":qh},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employee/${e.empNumber}/contact-details`);return t.setIgnorePath("/api/v2/pim/employees/[0-9]+/contact-details/validation/(work-emails|other-emails)"),{http:t}},data(){return{isLoading:!1,contact:{...Gh},rules:{street1:[Do(70)],street2:[Do(70)],city:[Do(70)],province:[Do(70)],zipCode:[Do(10)],homeTelephone:[Do(25),Ho],mobile:[Do(25),Ho],workTelephone:[Do(25),Ho],workEmail:[Do(50),Qo,(0,n.promiseDebounce)(this.validateWorkEmail,500)],otherEmail:[Do(50),Qo,(0,n.promiseDebounce)(this.validateOtherEmail,500)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{this.updateModel(e)})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.contact,countryCode:this.contact.countryCode?.id}}).then((e=>(this.updateModel(e),this.$toast.updateSuccess()))).then((()=>{this.isLoading=!1}))},validateWorkEmail(e){return new Promise((t=>{if(e){const e=this.contact.workEmail===this.contact.otherEmail;this.http.request({method:"GET",url:`/api/v2/pim/employees/${this.empNumber}/contact-details/validation/work-emails`,params:{workEmail:this.contact.workEmail}}).then((o=>{const{data:a}=o.data;return!0===a.valid?t(!e||this.$t("pim.work_email_and_other_email_cannot_be_the_same")):t(this.$t("general.already_exists"))}))}else t(!0)}))},validateOtherEmail(e){return new Promise((t=>{if(e){const e=this.contact.otherEmail===this.contact.workEmail;this.http.request({method:"GET",url:`/api/v2/pim/employees/${this.empNumber}/contact-details/validation/other-emails`,params:{otherEmail:this.contact.otherEmail}}).then((o=>{const{data:a}=o.data;return!0===a.valid?t(!e||this.$t("pim.work_email_and_other_email_cannot_be_the_same")):t(this.$t("general.already_exists"))}))}else t(!0)}))},validateEmailDifferent(e){return t=>{const o=e();return null===o||""===o||(t!==o||this.$t("pim.work_email_and_other_email_cannot_be_the_same"))}},updateModel(e){const{data:t}=e.data;this.contact={...Gh,...t},this.contact.countryCode=this.countries.find((e=>e.id===t.countryCode))}}};const Qh=(0,i.Z)(Zh,[["render",Rh]]);var Hh=Qh;const Wh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Yh={class:"orangehrm-container"},Jh={class:"orangehrm-bottom-container"};function Xh(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-emergency-contact"),s=(0,a.resolveComponent)("edit-emergency-contact"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"emergency"},{default:(0,a.withCtx)((()=>[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Wh,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_emergency_contacts")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Yh,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),(0,a.createElementVNode)("div",Jh,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])),_:1},8,["employee-id"])}const Kh={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function eg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Kh,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.save_emergency_contact")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.relationship=e),label:e.$t("pim.relationship"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.homePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:n.rules.homePhone},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.mobilePhone=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobilePhone},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.officePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:n.rules.officePhone},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const tg={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""};var og={name:"SaveEmergencyContact",props:{http:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,contact:{...tg},rules:{name:[So,Do(100)],relationship:[So,Do(100)],homePhone:[Ho,Do(30),e=>""!==e||""!==this.contact.mobilePhone||""!==this.contact.officePhone||this.$t("pim.at_least_one_phone_number_is_required")],mobilePhone:[Ho,Do(30)],officePhone:[Ho,Do(30)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.contact}).then((()=>this.$toast.saveSuccess())).then((()=>{this.contact={...tg},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const ag=(0,i.Z)(og,[["render",eg]]);var lg=ag;const ng={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function rg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",ng,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_emergency_contact")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.contact.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.relationship,"onUpdate:modelValue":t[1]||(t[1]=e=>n.contact.relationship=e),label:e.$t("pim.relationship"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.homePhone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.contact.homePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.home_telephone"),rules:n.rules.homePhone},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.mobilePhone,"onUpdate:modelValue":t[3]||(t[3]=e=>n.contact.mobilePhone=e),modelModifiers:{trim:!0},label:e.$t("general.mobile"),rules:n.rules.mobilePhone},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contact.officePhone,"onUpdate:modelValue":t[4]||(t[4]=e=>n.contact.officePhone=e),modelModifiers:{trim:!0},label:e.$t("pim.work_telephone"),rules:n.rules.officePhone},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const ig={name:"",relationship:"",homePhone:"",officePhone:"",mobilePhone:""};var sg={name:"EditEmergencyContact",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,contact:{...ig},rules:{name:[So,Do(100)],relationship:[So,Do(100)],homePhone:[Ho,Do(30),e=>""!==e||""!==this.contact.mobilePhone||""!==this.contact.officePhone||this.$t("pim.at_least_one_phone_number_is_required")],mobilePhone:[Ho,Do(30)],officePhone:[Ho,Do(30)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.contact={...ig,...t}})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.contact}).then((()=>this.$toast.updateSuccess())).then((()=>{this.contact={...ig},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const dg=(0,i.Z)(sg,[["render",rg]]);var cg=dg,mg={components:{"profile-action-header":Nh,"edit-employee-layout":qh,"save-emergency-contact":lg,"edit-emergency-contact":cg,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/emergency-contacts`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:s,execQuery:d}=so(t,{toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:s,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"homePhone",title:this.$t("pim.home_telephone"),style:{flex:1}},{name:"mobilePhone",title:this.$t("general.mobile"),style:{flex:1}},{name:"officePhone",title:this.$t("pim.work_telephone"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ug=(0,i.Z)(mg,[["render",Xh],["__scopeId","data-v-f2414b96"]]);var pg=ug;const hg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},gg={class:"orangehrm-container"},vg={class:"orangehrm-bottom-container"};function fg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-dependent"),s=(0,a.resolveComponent)("edit-dependent"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"dependents"},{default:(0,a.withCtx)((()=>[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",hg,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_dependents")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",gg,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),(0,a.createElementVNode)("div",vg,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])),_:1},8,["employee-id"])}const yg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Cg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",yg,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_dependent")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.dependent.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.dependent.relationshipType=e),type:"select",label:e.$t("pim.relationship"),rules:n.rules.relationshipType,options:n.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),r.showRelationship?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=e=>n.dependent.relationship=e),label:e.$t("pim.please_specify"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=e=>n.dependent.dateOfBirth=e),label:e.$t("pim.date_of_birth"),rules:n.rules.dateOfBirth},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const bg={name:"",relationshipType:null,relationship:"",dateOfBirth:""};var Vg={name:"SaveDependent",props:{http:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,dependent:{...bg},rules:{name:[So,Do(100)],relationshipType:[So],relationship:[So,Do(100)],dateOfBirth:[$o(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship(){return"other"==this.dependent.relationshipType?.id}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.dependent,relationshipType:this.dependent.relationshipType?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.dependent={...bg},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const xg=(0,i.Z)(Vg,[["render",Cg]]);var wg=xg;const Ng={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function kg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Ng,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_dependent")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.dependent.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.relationshipType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.dependent.relationshipType=e),type:"select",label:e.$t("pim.relationship"),rules:n.rules.relationshipType,options:n.relationshipOptions,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),r.showRelationship?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.dependent.relationship,"onUpdate:modelValue":t[2]||(t[2]=e=>n.dependent.relationship=e),label:e.$t("pim.please_specify"),rules:n.rules.relationship,required:""},null,8,["modelValue","label","rules"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.dependent.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=e=>n.dependent.dateOfBirth=e),label:e.$t("pim.date_of_birth"),rules:n.rules.dateOfBirth},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const _g={name:"",relationshipType:null,relationship:"",dateOfBirth:""};var Sg={name:"EditDependent",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,dependent:{..._g},rules:{name:[So,Do(100)],relationshipType:[So],relationship:[So,Do(100)],dateOfBirth:[$o(this.userDateFormat)]},relationshipOptions:[{id:"child",label:this.$t("pim.child")},{id:"other",label:this.$t("pim.other")}]}},computed:{showRelationship(){return"other"==this.dependent.relationshipType?.id}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.dependent={..._g,...t},this.dependent.relationshipType=this.relationshipOptions.find((e=>e.id===t.relationshipType))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.dependent,relationshipType:this.dependent.relationshipType?.id}).then((()=>this.$toast.updateSuccess())).then((()=>{this.dependent={..._g},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Dg=(0,i.Z)(Sg,[["render",kg]]);var $g=Dg,Tg={components:{"profile-action-header":Nh,"edit-employee-layout":qh,"save-dependent":wg,"edit-dependent":$g,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/dependents`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>({id:e.id,name:e.name,dateOfBirth:Ke(Xe(e.dateOfBirth),o,{locale:a}),relationship:"other"==e.relationshipType?e.relationship:"Child"}))),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"relationship",title:this.$t("pim.relationship"),style:{flex:1}},{name:"dateOfBirth",title:this.$t("pim.date_of_birth"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"0.5"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Eg=(0,i.Z)(Tg,[["render",fg]]);var Ig=Eg;const Bg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Lg={class:"orangehrm-employee-picture"};function Ag(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("profile-image-input"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("submit-button"),u=(0,a.resolveComponent)("oxd-form-actions"),p=(0,a.resolveComponent)("oxd-form"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Bg,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.change_profile_picture")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Lg,[(0,a.createVNode)(d,{modelValue:n.empPicture,"onUpdate:modelValue":t[0]||(t[0]=e=>n.empPicture=e),rules:n.rules.empPicture,"img-src":r.profilePicUrl},null,8,["modelValue","rules","img-src"])])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])),_:1},8,["employee-id"])}const Ug=`${window.appGlobal.publicPath}/images/default-photo.png`;var Pg={components:{"profile-image-input":Wu,"edit-employee-layout":qh},props:{empNumber:{type:String,required:!0},allowedImageTypes:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/picture`);return{http:t}},data(){return{isLoading:!1,empPicture:null,rules:{empPicture:[So,Go(1048576),Zo(this.allowedImageTypes)]}}},computed:{profilePicUrl(){if(this.empPicture){const e=this.empPicture.base64,t=this.empPicture.type,o=this.allowedImageTypes.findIndex((e=>e===t));return o>-1?`data:${t};base64,${e}`:Ug}return Ug}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{empPicture:this.empPicture}}).then((()=>this.$toast.updateSuccess())).then((()=>{location.reload()}))}}};const qg=(0,i.Z)(Pg,[["render",Ag],["__scopeId","data-v-c6fb612a"]]);var Mg=qg;const Fg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Og={class:"orangehrm-container"},jg={class:"orangehrm-bottom-container"};function zg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-salary-component"),s=(0,a.resolveComponent)("edit-salary-component"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"salary"},{default:(0,a.withCtx)((()=>[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,"account-types":o.accountTypes,onClose:r.onSaveModalClose},null,8,["http","paygrades","pay-frequencies","currencies","account-types","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,"account-types":o.accountTypes,onClose:r.onEditModalClose},null,8,["http","data","paygrades","pay-frequencies","currencies","account-types","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Fg,[(0,a.createVNode)(d,{"action-button-shown":e.$can.update("salary_details"),onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_salary_components")),1)])),_:1},8,["action-button-shown","onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Og,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:l.items?.data,selectable:e.$can.delete("salary_details"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),(0,a.createElementVNode)("div",jg,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])),_:1},8,["employee-id"])}const Rg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Gg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-switch-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Rg,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Add Salary Component ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Min: "+(0,a.toDisplayString)(r.minAmount??0)+" - Max: "+(0,a.toDisplayString)(r.maxAmount??0),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>n.salaryComponent.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"directdeposit-form-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"directdeposit-form-header-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.include_direct_deposit_details")),1)])),_:1}),(0,a.createVNode)(p,{modelValue:n.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=e=>n.includeDirectDeposit=e)},null,8,["modelValue"])])),_:1}),n.includeDirectDeposit?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=e=>n.directDeposit.directDepositAccount=e),label:e.$t("pim.account_number"),rules:n.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=e=>n.directDeposit.directDepositAccountType=e),type:"select",label:e.$t("pim.account_type"),rules:n.rules.directDepositAccountType,options:o.accountTypes,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),r.showOptionalAccountType?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.accountType,"onUpdate:modelValue":t[9]||(t[9]=e=>n.accountType=e),label:e.$t("pim.please_specify"),rules:n.rules.accountType,required:""},null,8,["modelValue","label","rules"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>n.directDeposit.directDepositRoutingNumber=e),label:e.$t("pim.routing_number"),rules:n.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=e=>n.directDeposit.directDepositAmount=e),label:e.$t("pim.amount"),rules:n.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const Zg={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},Qg={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""};var Hg={name:"SaveSalaryComponent",components:{"oxd-switch-input":n.OxdSwitchInput},props:{http:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...Zg},directDeposit:{...Qg},accountType:"",usableCurrencies:[],rules:{name:[So,Do(100)],salaryAmount:[So,Ao,Yo(1e9)],comment:[Do(250)],currencyId:[So],directDepositAccount:[So,Do(100)],directDepositAccountType:[So],accountType:[So,Do(20)],directDepositRoutingNumber:[So,Do(9),Ao],directDepositAmount:[So,Ao,Yo(1e9)]}}},computed:{showOptionalAccountType(){return"OTHER"==this.directDeposit.directDepositAccountType?.id},minAmount(){return this.currencyInfo?.minAmount},maxAmount(){return this.currencyInfo?.maxAmount},currenciesOpts(){const e=this.salaryComponent.payGradeId?.id;return e?e&&this.usableCurrencies.length>0?this.currencies.filter((e=>this.usableCurrencies.findIndex((t=>t.id===e.id))>-1)):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find((e=>e.id===this.salaryComponent.currencyId?.id))}},watch:{"salaryComponent.payGradeId":function(e){e?.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then((e=>{const{data:t}=e.data;this.usableCurrencies=t.map((e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary})));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex((e=>e.id===o?.id));this.salaryComponent.currencyId=-1===a?null:this.salaryComponent.currencyId})).then((()=>{this.isLoading=!1}))):this.usableCurrencies=[]}},mounted(){this.$nextTick((()=>{this.rules.salaryAmount.push((e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")})),this.rules.salaryAmount.push((e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")}))}))},methods:{onSave(){this.isLoading=!0;const e=this.showOptionalAccountType?this.accountType:this.directDeposit.directDepositAccountType?.id;this.http.create({salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:this.salaryComponent.payGradeId?.id,currencyId:this.salaryComponent.currencyId?.id,payFrequencyId:this.salaryComponent.payFrequencyId?.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?e:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Wg=(0,i.Z)(Hg,[["render",Gg],["__scopeId","data-v-6c600350"]]);var Yg=Wg;const Jg={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Xg(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-switch-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Jg,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_salary_component")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Min: "+(0,a.toDisplayString)(r.minAmount??0)+" - Max: "+(0,a.toDisplayString)(r.maxAmount??0),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.comment,"onUpdate:modelValue":t[5]||(t[5]=e=>n.salaryComponent.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"directdeposit-form-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"directdeposit-form-header-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.include_direct_deposit_details")),1)])),_:1}),(0,a.createVNode)(p,{modelValue:n.includeDirectDeposit,"onUpdate:modelValue":t[6]||(t[6]=e=>n.includeDirectDeposit=e)},null,8,["modelValue"])])),_:1}),n.includeDirectDeposit?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAccount,"onUpdate:modelValue":t[7]||(t[7]=e=>n.directDeposit.directDepositAccount=e),label:e.$t("pim.account_number"),rules:n.rules.directDepositAccount,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAccountType,"onUpdate:modelValue":t[8]||(t[8]=e=>n.directDeposit.directDepositAccountType=e),type:"select",label:e.$t("pim.account_type"),rules:n.rules.directDepositAccountType,options:o.accountTypes,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),r.showOptionalAccountType?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.accountType,"onUpdate:modelValue":t[9]||(t[9]=e=>n.accountType=e),label:e.$t("pim.please_specify"),rules:n.rules.accountType,required:""},null,8,["modelValue","label","rules"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositRoutingNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>n.directDeposit.directDepositRoutingNumber=e),label:e.$t("pim.routing_number"),rules:n.rules.directDepositRoutingNumber,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.directDeposit.directDepositAmount,"onUpdate:modelValue":t[11]||(t[11]=e=>n.directDeposit.directDepositAmount=e),label:e.$t("pim.amount"),rules:n.rules.directDepositAmount,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const Kg={name:"",salaryAmount:"",comment:"",payGradeId:null,payFrequencyId:null,currencyId:null},ev={directDepositAccount:"",directDepositAccountType:null,directDepositRoutingNumber:"",directDepositAmount:""};var tv={name:"EditSalaryComponent",components:{"oxd-switch-input":n.OxdSwitchInput},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...Kg},directDeposit:{...ev},accountType:"",usableCurrencies:[],rules:{name:[So,Do(100)],salaryAmount:[So,Ao,Yo(1e9)],comment:[Do(250)],currencyId:[So],directDepositAccount:[So,Do(100)],directDepositAccountType:[So],accountType:[So,Do(20)],directDepositRoutingNumber:[So,Do(9),Ao],directDepositAmount:[So,Ao,Yo(1e9)]}}},computed:{showOptionalAccountType(){return"OTHER"==this.directDeposit.directDepositAccountType?.id},minAmount(){return this.currencyInfo?.minAmount},maxAmount(){return this.currencyInfo?.maxAmount},currenciesOpts(){const e=this.salaryComponent.payGradeId?.id;return e?e&&this.usableCurrencies.length>0?this.currencies.filter((e=>this.usableCurrencies.findIndex((t=>t.id===e.id))>-1)):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find((e=>e.id===this.salaryComponent.currencyId?.id))}},watch:{"salaryComponent.payGradeId":function(e){e?.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then((e=>{const{data:t}=e.data;this.usableCurrencies=t.map((e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary})));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex((e=>e.id===o?.id));this.salaryComponent.currencyId=-1===a?[]:this.salaryComponent.currencyId})).then((()=>{this.isLoading=!1}))):this.usableCurrencies=[]}},mounted(){this.$nextTick((()=>{this.rules.salaryAmount.push((e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")})),this.rules.salaryAmount.push((e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")}))}))},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;if(this.salaryComponent.name=t.salaryName,this.salaryComponent.salaryAmount=t.amount,this.salaryComponent.comment=t.comment?t.comment:"",this.salaryComponent.payGradeId=this.paygrades.find((e=>e.id===t.payGrade?.id)),this.salaryComponent.payFrequencyId=this.payFrequencies.find((e=>e.id===t.payPeriod?.id)),this.salaryComponent.currencyId=this.currencies.find((e=>e.id===t.currencyType?.id)),null!==t.directDebit.id){this.includeDirectDeposit=!0,this.directDeposit.directDepositAccount=t.directDebit.account;const e=this.accountTypes.find((e=>e.id===t.directDebit.accountType));this.directDeposit.directDepositAccountType=e||{id:"OTHER",label:this.$t("pim.other")},this.accountType=0===e.length?t.directDebit.accountType:"",this.directDeposit.directDepositRoutingNumber=t.directDebit.routingNumber,this.directDeposit.directDepositAmount=t.directDebit.amount}})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e=this.showOptionalAccountType?this.accountType:this.directDeposit.directDepositAccountType?.id;this.http.update(this.data.id,{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:this.salaryComponent.payGradeId?.id,currencyId:this.salaryComponent.currencyId?.id,payFrequencyId:this.salaryComponent.payFrequencyId?.id,comment:this.salaryComponent.comment?this.salaryComponent.comment:null,addDirectDeposit:this.includeDirectDeposit,directDepositAccount:this.includeDirectDeposit?this.directDeposit.directDepositAccount:void 0,directDepositAccountType:this.includeDirectDeposit?e:void 0,directDepositAmount:this.includeDirectDeposit?this.directDeposit.directDepositAmount:void 0,directDepositRoutingNumber:this.includeDirectDeposit?this.directDeposit.directDepositRoutingNumber:void 0}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const ov=(0,i.Z)(tv,[["render",Xg],["__scopeId","data-v-e3ac8428"]]);var av=ov;const lv=e=>e.map((e=>({id:e.id,name:e.salaryName,amount:e.amount,currency:e.currencyType?.name,frequency:e.payPeriod?.name,depositAmount:e.directDebit?.amount})));var nv={components:{"profile-action-header":Nh,"edit-employee-layout":qh,"save-salary-component":Yg,"edit-salary-component":av,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/salary-components`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:s,execQuery:d}=so(t,{normalizer:lv,toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:s,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.salary_component"),style:{flex:1}},{name:"amount",title:this.$t("pim.amount"),style:{flex:1}},{name:"currency",title:this.$t("general.currency"),style:{flex:1}},{name:"frequency",title:this.$t("pim.pay_frequency"),style:{flex:1}},{name:"depositAmount",title:this.$t("pim.direct_deposit_amount"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("salary_details")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("salary_details")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const rv=(0,i.Z)(nv,[["render",zg]]);var iv=rv;const sv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},dv={key:1,class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function cv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("date-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("job-spec-download"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("oxd-switch-input"),v=(0,a.resolveComponent)("file-upload-input"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form"),b=(0,a.resolveComponent)("profile-action-header"),V=(0,a.resolveComponent)("terminate-modal"),x=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(x,{screen:"job","employee-id":o.empNumber,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",sv,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.job_details")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.job.joinedDate,"onUpdate:modelValue":t[0]||(t[0]=e=>n.job.joinedDate=e),label:e.$t("general.joined_date"),rules:n.rules.joinedDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.job.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.job.jobTitleId=e),type:"select",label:e.$t("general.job_title"),options:r.normalizedJobTitles,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(u,{key:`jobspec-${r.selectedJobTitleId}`,"resource-id":r.selectedJobTitleId},null,8,["resource-id"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.job.jobCategoryId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.job.jobCategoryId=e),type:"select",label:e.$t("general.job_category"),options:o.jobCategories,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.job.subunitId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.job.subunitId=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.job.locationId,"onUpdate:modelValue":t[4]||(t[4]=e=>n.job.locationId=e),type:"select",label:e.$t("general.location"),options:o.locations,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.job.empStatusId,"onUpdate:modelValue":t[5]||(t[5]=e=>n.job.empStatusId=e),type:"select",label:e.$t("general.employment_status"),options:o.employmentStatuses,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","options","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{class:"user-form-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"user-form-header-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.include_employment_contract_details")),1)])),_:1}),(0,a.createVNode)(g,{modelValue:n.showContractDetails,"onUpdate:modelValue":t[6]||(t[6]=e=>n.showContractDetails=e)},null,8,["modelValue"])])),_:1}),n.showContractDetails?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contract.startDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.contract.startDate=e),label:e.$t("pim.contract_start_date"),rules:n.rules.startDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.contract.endDate,"onUpdate:modelValue":t[8]||(t[8]=e=>n.contract.endDate=e),label:e.$t("pim.contract_end_date"),rules:n.rules.endDate,disabled:!r.hasUpdatePermissions},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{newFile:n.contract.newAttachment,"onUpdate:newFile":t[9]||(t[9]=e=>n.contract.newAttachment=e),method:n.contract.method,"onUpdate:method":t[10]||(t[10]=e=>n.contract.method=e),label:e.$t("pim.contract_details"),"button-label":e.$t("general.browse"),file:n.contract.oldAttachment,rules:n.rules.contractAttachment,url:`pim/viewAttachment/empNumber/${o.empNumber}/attachId`,hint:"Accepts up to 1MB",disabled:!r.hasUpdatePermissions},null,8,["newFile","method","label","button-label","file","rules","url","disabled"])])),_:1})])),_:1})])),_:1})],64)):(0,a.createCommentVNode)("",!0),r.hasUpdatePermissions?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f)])),_:1})],64)):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","onSubmitValid"])]),r.hasUpdatePermissions&&!n.isLoading?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0})):(0,a.createCommentVNode)("",!0),r.hasUpdatePermissions&&!n.isLoading?((0,a.openBlock)(),(0,a.createElementBlock)("div",dv,[(0,a.createVNode)(b,{"icon-name":"","display-type":r.terminationActionType,label:r.terminationActionLabel,title:r.terminationActionLabel,class:"--termination-button",onClick:r.onClickTerminate},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.employee_termination_activation"))+" ",1),n.termination&&n.termination.id?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,tag:"p",class:"orangehrm-terminate-date",onClick:r.openTerminateModal},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.terminated_on"))+": "+(0,a.toDisplayString)(r.terminationDate),1)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["display-type","label","title","onClick"])])):(0,a.createCommentVNode)("",!0),n.showTerminateModal?((0,a.openBlock)(),(0,a.createBlock)(V,{key:2,"employee-id":o.empNumber,"termination-reasons":o.terminationReasons,"termination-id":n.termination.id,onClose:r.closeTerminateModal},null,8,["employee-id","termination-reasons","termination-id","onClose"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["employee-id","max-file-size","allowed-file-types"])}function mv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("oxd-loading-spinner"),c=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createBlock)(c,{label:e.$t("general.job_specification")},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)({"input-container":!0,"--disabled":!e.file.id})},[(0,a.createVNode)(i,{class:"input-container-filename",tag:"p",title:e.file.filename,onClick:l.downloadFile},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.file.id?e.file.filename:"Not Defined"),1)])),_:1},8,["title","onClick"]),!e.isLoading&&e.file.id?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"input-container-icon",name:"download",onClick:l.downloadFile},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,class:"input-container-loader","with-container":!1})):(0,a.createCommentVNode)("",!0)],2)])),_:1},8,["label"])}var uv={name:"JobSpecDownload",components:{"oxd-loading-spinner":n.OxdSpinner},props:{resourceId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/admin/job-titles/${e.resourceId}/specification`),o=(0,a.reactive)({isLoading:!1,file:{id:"",filename:"",fileType:"",fileSize:0}}),l=async()=>{o.isLoading=!0,t.request({method:"GET",validateStatus:e=>e>=200&&e<300||404==e}).then((({data:e})=>{o.file={...e.data}})).finally((()=>{o.isLoading=!1}))},n=()=>{if(!o.file.id)return;const e=`${window.appGlobal.baseUrl}/admin/viewJobSpecification/attachId/${o.file.id}`;window.open(e,"_blank")};return e.resourceId&&(0,a.onBeforeMount)(l),{...(0,a.toRefs)(o),downloadFile:n}}};const pv=(0,i.Z)(uv,[["render",mv],["__scopeId","data-v-6dc7b054"]]);var hv=pv;const gv={class:"orangehrm-modal-header"};function vv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("date-input"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(f,{class:"orangehrm-dialog-modal","onUpdate:show":t[4]||(t[4]=e=>r.onCancel(!1))},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gv,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.terminate_employment")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.termination.date,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.date=e),label:e.$t("pim.termination_date"),rules:n.rules.date,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.termination.terminationReason,"onUpdate:modelValue":t[1]||(t[1]=e=>n.termination.terminationReason=e),type:"select",label:e.$t("pim.termination_reason"),rules:n.rules.terminationReason,options:o.terminationReasons,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.termination.note,"onUpdate:modelValue":t[2]||(t[2]=e=>n.termination.note=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.type_here"),rules:n.rules.note},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:t[3]||(t[3]=e=>r.onCancel(!1))},null,8,["label"]),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1})}const fv={terminationReason:null,date:"",note:null};var yv={name:"TerminateModal",components:{"oxd-dialog":n.OxdDialog},props:{employeeId:{type:String,required:!0},terminationReasons:{type:Array,required:!0},terminationId:{type:Number,required:!1,default:null}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/terminations`),{userDateFormat:o}=Ae();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,termination:{...fv},rules:{terminationReason:[So],date:[So,$o(this.userDateFormat)],note:[Do(250)]}}},beforeMount(){this.terminationId&&(this.isLoading=!0,this.http.get(this.terminationId).then((e=>{const{data:t}=e.data;this.termination.terminationReason=this.terminationReasons.find((e=>e.id===t.terminationReason?.id)),this.termination.date=t.date,this.termination.note=t.note})).finally((()=>{this.isLoading=!1})))},methods:{onSave(){this.isLoading=!0;const e={date:this.termination.date,note:this.termination.note,terminationReasonId:this.termination.terminationReason?.id};this.submitData(e,this.terminationId).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel(!0)}))},async submitData(e,t){return t?this.http.update(t,e):this.http.create(e)},onCancel(e){this.$emit("close",e)}}};const Cv=(0,i.Z)(yv,[["render",vv]]);var bv=Cv;const Vv={joinedDate:"",jobTitleId:[],empStatusId:[],jobCategoryId:[],subunitId:[],locationId:[]},xv={startDate:"",endDate:"",oldAttachment:null,newAttachment:null,method:"keepCurrent"};var wv={components:{"edit-employee-layout":qh,"oxd-switch-input":n.OxdSwitchInput,"job-spec-download":hv,"file-upload-input":va,"profile-action-header":Nh,"terminate-modal":bv},props:{empNumber:{type:String,required:!0},locations:{type:Array,default:()=>[]},jobTitles:{type:Array,default:()=>[]},jobCategories:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},employmentStatuses:{type:Array,default:()=>[]},terminationReasons:{type:Array,default:()=>[]},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/job-details`),{jsDateFormat:o,userDateFormat:a}=Ae(),{locale:l}=pt();return{http:t,locale:l,jsDateFormat:o,userDateFormat:a}},data(){return{isLoading:!1,showContractDetails:!1,job:{...Vv},contract:{...xv},termination:null,showTerminateModal:!1,rules:{joinedDate:[$o(this.userDateFormat)],startDate:[$o(this.userDateFormat)],endDate:[$o(this.userDateFormat),Fo((()=>this.contract.startDate))],contractAttachment:[e=>"replaceCurrent"!=this.contract.method||So(e),Zo(this.allowedFileTypes),Go(this.maxFileSize)]}}},computed:{selectedJobTitleId(){const e=this.job.jobTitleId?.id;return e||0},terminationActionLabel(){return this.termination?.id?this.$t("pim.activate_employment"):this.$t("pim.terminate_employment")},terminationActionType(){return this.termination?.id?"ghost-success":"label-danger"},hasUpdatePermissions(){return this.$can.update("job_details")},normalizedJobTitles(){return this.jobTitles.map((e=>({id:e.id,label:e?.deleted?e.label+this.$t("general.deleted"):e.label})))},terminationDate(){return this.termination?.date?Ke(Xe(this.termination.date),this.jsDateFormat,{locale:this.locale}):null}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{this.updateJobModel(e)})).then((()=>this.http.request({method:"GET",url:`/api/v2/pim/employees/${this.empNumber}/employment-contract`}))).then((e=>{this.updateContractModel(e)})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.job,jobTitleId:this.job.jobTitleId?.id,jobCategoryId:this.job.jobCategoryId?.id,subunitId:this.job.subunitId?.id,empStatusId:this.job.empStatusId?.id,locationId:this.job.locationId?.id}}).then((e=>(this.updateJobModel(e),this.http.request({method:"PUT",url:`/api/v2/pim/employees/${this.empNumber}/employment-contract`,data:{startDate:this.contract.startDate,endDate:this.contract.endDate,currentContractAttachment:this.contract.oldAttachment?this.contract.method:void 0,contractAttachment:this.contract.newAttachment?this.contract.newAttachment:void 0}})))).then((e=>(e&&this.updateContractModel(e),this.$toast.updateSuccess()))).then((()=>{this.isLoading=!1}))},onClickTerminate(){this.termination?.id?(this.isLoading=!0,this.http.request({method:"DELETE",url:`/api/v2/pim/employees/${this.empNumber}/terminations`}).then((()=>this.$toast.updateSuccess())).then((()=>{location.reload()}))):this.openTerminateModal()},openTerminateModal(){this.showTerminateModal=!0},closeTerminateModal(e){this.showTerminateModal=!1,e&&location.reload()},updateContractModel(e){const{data:t}=e.data;this.contract.startDate=t.startDate,this.contract.endDate=t.endDate,this.contract.oldAttachment=t.contractAttachment?.id?t.contractAttachment:null,this.contract.newAttachment=null,this.contract.method="keepCurrent",t.startDate||t.endDate||t.contractAttachment?.id?this.showContractDetails=!0:this.showContractDetails=!1},updateJobModel(e){const{data:t}=e.data;this.job.joinedDate=t.joinedDate,this.job.jobTitleId=this.normalizedJobTitles.find((e=>e.id===t.jobTitle?.id)),this.job.jobCategoryId=this.jobCategories.find((e=>e.id===t.jobCategory?.id)),this.job.subunitId=this.subunits.find((e=>e.id===t.subunit?.id)),this.job.empStatusId=this.employmentStatuses.find((e=>e.id===t.empStatus?.id)),this.job.locationId=this.locations.find((e=>e.id===t.location?.id)),this.termination=t.employeeTerminationRecord}}};const Nv=(0,i.Z)(wv,[["render",cv],["__scopeId","data-v-1dfb2fdc"]]);var kv=Nv;const _v={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Sv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-work-experience"),c=(0,a.resolveComponent)("employee-education"),m=(0,a.resolveComponent)("employee-skills"),u=(0,a.resolveComponent)("employee-languages"),p=(0,a.resolveComponent)("employee-license"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"qualifications"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_v,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.qualifications")),1)])),_:1}),(0,a.createVNode)(s)]),(0,a.createVNode)(d,{"employee-id":o.empNumber},null,8,["employee-id"]),(0,a.createVNode)(c,{"employee-id":o.empNumber},null,8,["employee-id"]),(0,a.createVNode)(m,{"employee-id":o.empNumber},null,8,["employee-id"]),(0,a.createVNode)(u,{"employee-id":o.empNumber,fluencies:o.fluencies,competencies:o.competencies},null,8,["employee-id","fluencies","competencies"]),(0,a.createVNode)(p,{"employee-id":o.empNumber},null,8,["employee-id"])])),_:1},8,["employee-id"])}const Dv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},$v={class:"orangehrm-container"},Tv={key:2,class:"orangehrm-bottom-container"};function Ev(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-skill"),s=(0,a.resolveComponent)("edit-skill"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,api:l.skillsEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Dv,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.skills")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",$v,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",Tv,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const Iv={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Bv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("qualification-dropdown"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Iv,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_skill")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.skillId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.skillId=e),label:e.$t("pim.skill"),rules:n.rules.skillId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.yearsOfExperience=e),label:e.$t("pim.years_of_experience"),rules:n.rules.yearsOfExperience},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=e=>n.skill.comments=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comments},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}function Lv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",options:l.options},null,8,["options"])}var Av={name:"QualificationDropdown",props:{api:{type:String,required:!0}},setup(e){const t=(0,a.ref)([]),o=new q(window.appGlobal.baseUrl,e.api);return(0,a.onBeforeMount)((()=>{o.getAll({limit:0}).then((({data:e})=>{t.value=e.data.map((e=>({id:e.id,label:e.name})))}))})),{options:t}}};const Uv=(0,i.Z)(Av,[["render",Lv]]);var Pv=Uv;const qv={yearsOfExperience:"",comments:"",skillId:null};var Mv={name:"SaveSkill",components:{"qualification-dropdown":Pv},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],data(){return{isLoading:!1,skill:{...qv},rules:{skillId:[So],yearsOfExperience:[Bo,Io(100)],comments:[Do(100)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({skillId:this.skill.skillId?.id,yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Fv=(0,i.Z)(Mv,[["render",Bv]]);var Ov=Fv;const jv={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function zv(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",jv,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_skill")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.skill.name=e),label:e.$t("pim.skill"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.yearsOfExperience,"onUpdate:modelValue":t[1]||(t[1]=e=>n.skill.yearsOfExperience=e),label:e.$t("pim.years_of_experience"),rules:n.rules.yearsOfExperience},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.skill.comments,"onUpdate:modelValue":t[2]||(t[2]=e=>n.skill.comments=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comments},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const Rv={yearsOfExperience:0,comments:"",name:""};var Gv={name:"EditSkill",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],data(){return{isLoading:!1,skill:{...Rv},rules:{yearsOfExperience:[Bo,Io(100)],comments:[Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.skill.name=t.skill.name,this.skill.comments=t.comments,this.skill.yearsOfExperience=t.yearsOfExperience})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{yearsOfExperience:parseInt(this.skill.yearsOfExperience),comments:""!==this.skill.comments?this.skill.comments:" "}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Zv=(0,i.Z)(Gv,[["render",zv]]);var Qv=Zv;const Hv=e=>e.map((e=>({id:e.skill.id,name:e.skill.name,yearsOfExperience:e.yearsOfExperience,comments:e.comments})));var Wv={name:"EmployeeSkills",components:{"profile-action-header":Nh,"save-skill":Ov,"edit-skill":Qv,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/skills`),o=`/api/v2/pim/employees/${e.employeeId}/skills/allowed`,{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(t,{normalizer:Hv,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s,skillsEndpoint:o}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("pim.skill"),style:{flex:1}},{name:"yearsOfExperience",title:this.$t("pim.years_of_experience"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Yv=(0,i.Z)(Wv,[["render",Ev]]);var Jv=Yv;const Xv={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Kv={class:"orangehrm-container"},ef={key:2,class:"orangehrm-bottom-container"};function tf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-education"),s=(0,a.resolveComponent)("edit-education"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,api:l.educationEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Xv,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.education")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Kv,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",ef,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const of={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function af(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("qualification-dropdown"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",of,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_education")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.educationId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.education.educationId=e),label:e.$t("general.level"),rules:n.rules.educationId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.education.institute,"onUpdate:modelValue":t[1]||(t[1]=e=>n.education.institute=e),label:e.$t("pim.institute"),rules:n.rules.institute},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.education.major,"onUpdate:modelValue":t[2]||(t[2]=e=>n.education.major=e),label:e.$t("pim.major_specialization"),rules:n.rules.major},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.education.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.education.year=e),label:e.$t("general.year"),rules:n.rules.year},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.education.score,"onUpdate:modelValue":t[4]||(t[4]=e=>n.education.score=e),label:e.$t("pim.gpa_score"),rules:n.rules.score},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.education.startDate=e),label:e.$t("general.start_date"),rules:n.rules.startDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=e=>n.education.endDate=e),label:e.$t("general.end_date"),rules:n.rules.endDate},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const lf={educationId:null,institute:"",major:"",year:"",score:"",startDate:"",endDate:""};var nf={name:"SaveEducation",components:{"qualification-dropdown":Pv},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,education:{...lf},rules:{educationId:[So],institute:[Do(100)],major:[Do(100)],score:[Do(25)],year:[Do(4),Bo],startDate:[$o(this.userDateFormat)],endDate:[$o(this.userDateFormat),Fo((()=>this.education.startDate))]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.education,educationId:this.education.educationId?.id,year:parseInt(this.education.year)}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const rf=(0,i.Z)(nf,[["render",af]]);var sf=rf;const df={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function cf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",df,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_education")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.education.name=e),label:e.$t("general.level"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.institute,"onUpdate:modelValue":t[1]||(t[1]=e=>n.education.institute=e),label:e.$t("pim.institute"),rules:n.rules.institute},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.major,"onUpdate:modelValue":t[2]||(t[2]=e=>n.education.major=e),label:e.$t("pim.major_specialization"),rules:n.rules.major},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.year,"onUpdate:modelValue":t[3]||(t[3]=e=>n.education.year=e),label:e.$t("general.year"),rules:n.rules.year},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.education.score,"onUpdate:modelValue":t[4]||(t[4]=e=>n.education.score=e),label:e.$t("pim.gpa_score"),rules:n.rules.score},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.education.startDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.education.startDate=e),label:e.$t("general.start_date"),rules:n.rules.startDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.education.endDate,"onUpdate:modelValue":t[6]||(t[6]=e=>n.education.endDate=e),label:e.$t("general.end_date"),rules:n.rules.endDate},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const mf={name:"",institute:"",major:"",year:"",score:"",startDate:"",endDate:""};var uf={name:"EditEducation",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,education:{...mf},rules:{institute:[Do(100)],major:[Do(100)],score:[Do(25)],year:[Do(4),Bo],startDate:[$o(this.userDateFormat)],endDate:[$o(this.userDateFormat),Fo((()=>this.education.startDate))]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.education.name=t.education.name,this.education.institute=t.institute,this.education.major=t.major,this.education.year=t.year?t.year:"",this.education.score=t.score,this.education.startDate=t.startDate?t.startDate:"",this.education.endDate=t.endDate?t.endDate:""})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{institute:this.education.institute,major:this.education.major,year:parseInt(this.education.year),score:this.education.score,startDate:this.education.startDate,endDate:this.education.endDate}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const pf=(0,i.Z)(uf,[["render",cf]]);var hf=pf;const gf=e=>e.map((e=>({id:e.id,level:e.education.name,year:e.year,score:e.score})));var vf={name:"EmployeeEducation",components:{"profile-action-header":Nh,"save-education":sf,"edit-education":hf,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/educations`),o="/api/v2/admin/educations",{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(t,{normalizer:gf,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s,educationEndpoint:o}},data(){return{headers:[{name:"level",slot:"title",title:this.$t("general.level"),style:{flex:1}},{name:"year",title:this.$t("general.year"),style:{flex:1}},{name:"score",title:this.$t("pim.gpa_score"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const ff=(0,i.Z)(vf,[["render",tf]]);var yf=ff;const Cf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},bf={class:"orangehrm-container"},Vf={key:2,class:"orangehrm-bottom-container"};function xf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-language"),s=(0,a.resolveComponent)("edit-language"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,api:l.languagesEndpoint,fluencies:o.fluencies,competencies:o.competencies,onClose:r.onSaveModalClose},null,8,["http","api","fluencies","competencies","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,"employee-id":o.employeeId,competencies:o.competencies,onClose:r.onEditModalClose},null,8,["http","data","employee-id","competencies","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Cf,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.languages")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",bf,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,disabled:r.isDisabled,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",Vf,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const wf={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Nf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wf,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_language")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.allowedLanguages,modelValue:n.language.languageId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.languageId=e),type:"select",label:e.$t("general.language"),options:r.allowedLanguages,rules:n.rules.languageId,clear:!1,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.allowedFluencies,modelValue:n.language.fluencyId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.language.fluencyId=e),type:"select",label:e.$t("pim.fluency"),options:r.allowedFluencies,rules:n.rules.fluencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.language.competencyId=e),type:"select",label:e.$t("pim.competency"),options:o.competencies,rules:n.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.comment,"onUpdate:modelValue":t[3]||(t[3]=e=>n.language.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const kf={languageId:null,fluencyId:null,competencyId:null,comment:""};var _f={name:"SaveLanguage",props:{http:{type:Object,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0},api:{type:String,required:!0}},emits:["close"],data(){return{isLoading:!1,language:{...kf},languages:[],rules:{languageId:[So],fluencyId:[So],competencyId:[So],comment:[Do(100)]}}},computed:{allowedLanguages(){return this.languages},allowedFluencies(){const e=this.languages.findIndex((e=>e.id===this.language.languageId?.id));if(e>-1){const t=this.languages[e];return this.fluencies.filter((e=>t.allowedFluencyIds.includes(e.id)))}return[]}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:this.api,params:{limit:0}}).then((e=>{const{data:t}=e.data;Array.isArray(t)&&(this.languages=t.map((e=>({id:e.id,label:e.name,allowedFluencyIds:e.allowedFluencyIds?e.allowedFluencyIds:[]}))))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({languageId:this.language.languageId?.id,fluencyId:this.language.fluencyId?.id,competencyId:this.language.competencyId?.id,comment:this.language.comment}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Sf=(0,i.Z)(_f,[["render",Nf]]);var Df=Sf;const $f={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Tf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",$f,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_language")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.language.name=e),label:e.$t("general.language"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.fluency,"onUpdate:modelValue":t[1]||(t[1]=e=>n.language.fluency=e),label:e.$t("pim.fluency"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.competencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.language.competencyId=e),type:"select",label:e.$t("pim.competency"),options:o.competencies,rules:n.rules.competencyId,clear:!1,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.language.comment,"onUpdate:modelValue":t[3]||(t[3]=e=>n.language.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const Ef={name:"",fluency:"",competencyId:null,comment:""};var If={name:"EditLanguage",props:{http:{type:Object,required:!0},employeeId:{type:String,required:!0},data:{type:Object,required:!0},competencies:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,language:{...Ef},rules:{competencyId:[So],comment:[Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:`/api/v2/pim/employees/${this.employeeId}/languages/${this.data.languageId}/fluencies/${this.data.fluencyId}`}).then((e=>{const{data:t}=e.data;this.language.name=t.language.name,this.language.fluency=t.fluency.name,this.language.comment=t.comment?t.comment:"",this.language.competencyId=this.competencies.find((e=>e.id===t.competency?.id))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`/api/v2/pim/employees/${this.employeeId}/languages/${this.data.languageId}/fluencies/${this.data.fluencyId}`,data:{competencyId:this.language.competencyId.id,comment:this.language.comment}}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Bf=(0,i.Z)(If,[["render",Tf]]);var Lf=Bf;const Af=e=>e.map((e=>({language:e.language.name,languageId:e.language.id,fluency:e.fluency.name,fluencyId:e.fluency.id,competency:e.competency.name,comments:e.comment})));var Uf={name:"EmployeeLanguages",components:{"profile-action-header":Nh,"save-language":Df,"edit-language":Lf,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/languages`),o=`/api/v2/pim/employees/${e.employeeId}/languages/allowed`,{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(t,{normalizer:Af,toastNoRecords:!1});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s,languagesEndpoint:o}},data(){return{headers:[{name:"language",slot:"title",title:this.$t("general.language"),style:{flex:1}},{name:"fluency",title:this.$t("pim.fluency"),style:{flex:1}},{name:"competency",title:this.$t("pim.competency"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>({languageId:this.items?.data[e].languageId,fluencyId:this.items?.data[e].fluencyId})));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([{languageId:e.languageId,fluencyId:e.fluencyId}])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Pf=(0,i.Z)(Uf,[["render",xf]]);var qf=Pf;const Mf={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Ff={class:"orangehrm-container"},Of={key:2,class:"orangehrm-bottom-container"};function jf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-work-experience"),s=(0,a.resolveComponent)("edit-work-experience"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,onClose:r.onSaveModalClose},null,8,["http","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Mf,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.work_experience")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Ff,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",Of,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const zf={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Rf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",zf,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_work_experience")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workExperience.company=e),label:e.$t("pim.company"),rules:n.rules.company,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workExperience.jobTitle=e),label:e.$t("general.job_title"),rules:n.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workExperience.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workExperience.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workExperience.comment=e),type:"textarea",label:e.$t("general.comment"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const Gf={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""};var Zf={name:"SaveWorkExperience",props:{http:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,workExperience:{...Gf},rules:{company:[So,Do(100)],jobTitle:[So,Do(100)],fromDate:[$o(this.userDateFormat)],toDate:[$o(this.userDateFormat),Fo((()=>this.workExperience.fromDate),this.$t("general.to_date_should_be_after_from_date"))],comment:[Do(200)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.workExperience}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Qf=(0,i.Z)(Zf,[["render",Rf]]);var Hf=Qf;const Wf={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Yf(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Wf,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Edit Work Experience ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.company,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workExperience.company=e),label:e.$t("pim.company"),rules:n.rules.company,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workExperience.jobTitle=e),label:e.$t("general.job_title"),rules:n.rules.jobTitle,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workExperience.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workExperience.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.workExperience.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workExperience.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workExperience.comment,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workExperience.comment=e),type:"textarea",label:e.$t("general.comment"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const Jf={company:"",jobTitle:"",fromDate:"",toDate:"",comment:""};var Xf={name:"EditWorkExperience",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,workExperience:{...Jf},rules:{company:[So,Do(100)],jobTitle:[So,Do(100)],fromDate:[$o(this.userDateFormat)],toDate:[$o(this.userDateFormat),Fo((()=>this.workExperience.fromDate),this.$t("general.to_date_should_be_after_from_date"))],comment:[Do(200)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.workExperience={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{...this.workExperience}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Kf=(0,i.Z)(Xf,[["render",Yf]]);var ey=Kf,ty={name:"EmployeeWorkExperience",components:{"profile-action-header":Nh,"save-work-experience":Hf,"edit-work-experience":ey,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/work-experiences`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>({...e,fromDate:Ke(Xe(e.fromDate),o,{locale:a}),toDate:Ke(Xe(e.toDate),o,{locale:a})}))),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{toastNoRecords:!1,normalizer:l});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"company",slot:"title",title:this.$t("pim.company"),style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"fromDate",title:this.$t("general.from"),style:{flex:1}},{name:"toDate",title:this.$t("general.to"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const oy=(0,i.Z)(ty,[["render",jf]]);var ay=oy;const ly={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},ny={class:"orangehrm-container"},ry={key:2,class:"orangehrm-bottom-container"};function iy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-license"),s=(0,a.resolveComponent)("edit-license"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,api:l.licenceEndpoint,onClose:r.onSaveModalClose},null,8,["http","api","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",ly,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.license")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",ny,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,disabled:r.isDisabled,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading","disabled"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",ry,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const sy={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function dy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("qualification-dropdown"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",sy,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_license")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.license.licenseId,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.licenseId=e),label:e.$t("pim.license_type"),rules:n.rules.licenseId,api:o.api,required:""},null,8,["modelValue","label","rules","api"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=e=>n.license.licenseNo=e),label:e.$t("pim.license_number"),rules:n.rules.licenseNo},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.license.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.license.expiryDate=e),label:e.$t("general.expiry_date"),rules:n.rules.expiryDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const cy=function(e=100,t=(new Date).getFullYear()){const o=new Array(e);for(let a=0;a<o.length;a++)o[a]=t-Math.floor(e/2)+a;return o},my={licenseId:null,licenseNo:"",issuedDate:"",expiryDate:""};var uy={name:"SaveLicense",components:{"qualification-dropdown":Pv},props:{http:{type:Object,required:!0},api:{type:String,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,license:{...my},yearArray:[...cy()],rules:{licenseId:[So],licenseNo:[Do(50)],issuedDate:[$o(this.userDateFormat)],expiryDate:[$o(this.userDateFormat),Fo((()=>this.license.issuedDate),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.license,licenseId:this.license.licenseId?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const py=(0,i.Z)(uy,[["render",dy]]);var hy=py;const gy={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function vy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gy,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_license")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.license.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.license.name=e),label:e.$t("pim.license_type"),required:"",readonly:"",disabled:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.license.licenseNo,"onUpdate:modelValue":t[1]||(t[1]=e=>n.license.licenseNo=e),label:e.$t("pim.license_number"),rules:n.rules.licenseNo},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.license.issuedDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.license.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.license.expiryDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.license.expiryDate=e),label:e.$t("general.expiry_date"),rules:n.rules.expiryDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const fy={name:"",licenseNo:"",issuedDate:"",expiryDate:""};var yy={name:"EditLicense",props:{http:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,license:{...fy},yearArray:[...cy()],rules:{licenseNo:[Do(50)],issuedDate:[$o(this.userDateFormat)],expiryDate:[$o(this.userDateFormat),Fo((()=>this.license.issuedDate),this.$t("pim.expiry_date_should_be_after_issued_date"))]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.license.name=t.license.name,this.license.licenseNo=t.licenseNo?t.licenseNo:"",this.license.issuedDate=t.issuedDate,this.license.expiryDate=t.expiryDate})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{licenseNo:this.license.licenseNo,issuedDate:this.license.issuedDate,expiryDate:this.license.expiryDate}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Cy=(0,i.Z)(yy,[["render",vy]]);var by=Cy,Vy={name:"EmployeeLicense",components:{"profile-action-header":Nh,"save-license":hy,"edit-license":by,"delete-confirmation":vo},props:{employeeId:{type:String,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.employeeId}/licenses`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=`/api/v2/pim/employees/${e.employeeId}/licenses/allowed`,n=e=>e.map((e=>({id:e.license.id,type:e.license.name,licenseNo:e.licenseNo,issuedDate:Ke(Xe(e.issuedDate),o,{locale:a}),expiryDate:Ke(Xe(e.expiryDate),o,{locale:a})}))),{showPaginator:r,currentPage:i,total:s,pages:d,pageSize:c,response:m,isLoading:u,execQuery:p}=so(t,{normalizer:n,toastNoRecords:!1});return{http:t,showPaginator:r,currentPage:i,isLoading:u,total:s,pages:d,pageSize:c,execQuery:p,items:m,licenceEndpoint:l}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.license_type"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-basis":"10em"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const xy=(0,i.Z)(Vy,[["render",iy]]);var wy=xy,Ny={components:{"edit-employee-layout":qh,"employee-skills":Jv,"employee-education":yf,"employee-languages":qf,"employee-work-experience":ay,"employee-license":wy},props:{empNumber:{type:String,required:!0},fluencies:{type:Array,required:!0},competencies:{type:Array,required:!0}}};const ky=(0,i.Z)(Ny,[["render",Sv]]);var _y=ky;const Sy={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Dy={class:"orangehrm-container"},$y={class:"orangehrm-bottom-container"};function Ty(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-immigration"),s=(0,a.resolveComponent)("edit-immigration"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"immigration"},{default:(0,a.withCtx)((()=>[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,countries:o.countries,onClose:r.onSaveModalClose},null,8,["http","countries","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,countries:o.countries,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","countries","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Sy,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_immigration_records")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Dy,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),(0,a.createElementVNode)("div",$y,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])),_:1},8,["employee-id"])}const Ey={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function Iy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-input-group"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Ey,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_immigration")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{label:e.$t("pim.document"),classes:{wrapper:"--gender-grouped-field"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=e=>n.immigration.number=e),label:e.$t("pim.number"),rules:n.rules.number,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.immigration.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.immigration.expiryDate=e),label:e.$t("general.expiry_date"),years:n.yearArray,rules:n.rules.expiryDate},null,8,["modelValue","label","years","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.immigration.status=e),label:e.$t("pim.eligible_status"),rules:n.rules.status},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=e=>n.immigration.countryCode=e),type:"select",label:e.$t("pim.issued_by"),options:o.countries},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.immigration.reviewDate=e),label:e.$t("pim.eligible_review_date"),rules:n.rules.reviewDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=e=>n.immigration.comment=e),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const By={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""};var Ly={name:"SaveImmigration",props:{http:{type:Object,required:!0},countries:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,immigration:{...By},yearArray:[...cy()],rules:{number:[So,Do(30)],expiryDate:[$o(this.userDateFormat),Fo((()=>this.immigration.issuedDate),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[Do(30)],issuedDate:[$o(this.userDateFormat)],reviewDate:[$o(this.userDateFormat)],comment:[Do(250)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.immigration,countryCode:this.immigration.countryCode?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.immigration={...By},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Ay=(0,i.Z)(Ly,[["render",Iy]]);var Uy=Ay;const Py={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function qy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-input-group"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",Py,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_immigration")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{label:"Document",classes:n.immigrationTypeClasses},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.passport"),value:"1"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.immigration.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.immigration.type=e),type:"radio","option-label":e.$t("pim.visa"),value:"2"},null,8,["modelValue","option-label"])])),_:1},8,["classes"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.number,"onUpdate:modelValue":t[2]||(t[2]=e=>n.immigration.number=e),label:e.$t("pim.number"),rules:n.rules.number,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.issuedDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.immigration.issuedDate=e),label:e.$t("pim.issued_date"),rules:n.rules.issuedDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.expiryDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.immigration.expiryDate=e),label:e.$t("general.expiry_date"),years:n.yearArray,rules:n.rules.expiryDate},null,8,["modelValue","label","years","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.immigration.status=e),label:e.$t("pim.eligible_status"),rules:n.rules.status},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.countryCode,"onUpdate:modelValue":t[6]||(t[6]=e=>n.immigration.countryCode=e),type:"select",label:e.$t("pim.issued_by"),options:o.countries},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.immigration.reviewDate,"onUpdate:modelValue":t[7]||(t[7]=e=>n.immigration.reviewDate=e),label:e.$t("pim.eligible_review_date"),rules:n.rules.reviewDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.immigration.comment,"onUpdate:modelValue":t[8]||(t[8]=e=>n.immigration.comment=e),type:"textarea",label:e.$t("general.comments"),placeholder:e.$t("general.type_comments_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const My={number:"",issuedDate:"",expiryDate:"",type:1,status:"",reviewDate:"",countryCode:null,comment:""};var Fy={name:"EditImmigration",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},countries:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,immigration:{...My},yearArray:[...cy()],rules:{number:[So,Do(30)],expiryDate:[$o(this.userDateFormat),Fo((()=>this.immigration.issuedDate),this.$t("pim.expiry_date_should_be_after_issued_date"))],status:[Do(30)],issuedDate:[$o(this.userDateFormat)],reviewDate:[$o(this.userDateFormat)],comment:[Do(250)]},immigrationTypeClasses:{wrapper:"--gender-grouped-field",label:{"oxd-input-field-required":!0}}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.immigration={...My,...t},this.immigration.countryCode=this.countries.find((e=>e.id===t.country?.code))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{number:this.immigration.number,issuedDate:this.immigration.issuedDate,expiryDate:this.immigration.expiryDate,type:this.immigration.type,status:this.immigration.status,reviewDate:this.immigration.reviewDate,comment:this.immigration.comment,countryCode:this.immigration.countryCode?.id}).then((()=>this.$toast.updateSuccess())).then((()=>{this.immigration={...My},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const Oy=(0,i.Z)(Fy,[["render",qy]]);var jy=Oy,zy={components:{"profile-action-header":Nh,"edit-employee-layout":qh,"save-immigration":Uy,"edit-immigration":jy,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},countries:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/immigrations`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>({id:e.id,type:1==e.type?"Passport":"VISA",number:e.number,countryCode:e.country.code,countryName:e.country.name,issuedDate:Ke(Xe(e.issuedDate),o,{locale:a}),expiryDate:Ke(Xe(e.expiryDate),o,{locale:a})}))),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"type",slot:"title",title:this.$t("pim.document"),style:{flex:1}},{name:"number",title:this.$t("pim.number"),style:{flex:1}},{name:"countryName",title:this.$t("pim.issued_by"),style:{flex:1}},{name:"issuedDate",title:this.$t("pim.issued_date"),style:{flex:1}},{name:"expiryDate",title:this.$t("general.expiry_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const Ry=(0,i.Z)(zy,[["render",Ty],["__scopeId","data-v-1f0dcd51"]]);var Gy=Ry;const Zy={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Qy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-supervisors"),c=(0,a.resolveComponent)("employee-subordinates"),m=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(m,{"employee-id":o.empNumber,screen:"report-to"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zy,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.report_to")),1)])),_:1}),(0,a.createVNode)(s)]),(0,a.createVNode)(d,{"emp-number":o.empNumber,"reporting-methods":o.reportingMethods},null,8,["emp-number","reporting-methods"]),(0,a.createVNode)(c,{"emp-number":o.empNumber,"reporting-methods":o.reportingMethods},null,8,["emp-number","reporting-methods"])])),_:1},8,["employee-id"])}const Hy={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},Wy={class:"orangehrm-container"},Yy={key:2,class:"orangehrm-bottom-container"};function Jy(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-employee-report-to"),s=(0,a.resolveComponent)("edit-employee-report-to"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,"reporting-methods":o.reportingMethods,type:"Supervisor","emp-number":o.empNumber,onClose:r.onSaveModalClose},null,8,["http","reporting-methods","emp-number","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,"emp-number":o.empNumber,data:n.editModalState,type:"Supervisor",api:l.supervisorEndpoint,"reporting-methods":o.reportingMethods,onClose:r.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Hy,[(0,a.createVNode)(d,{"action-button-shown":e.$can.create("supervisor"),onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_supervisors")),1)])),_:1},8,["action-button-shown","onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Wy,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:l.items?.data,selectable:e.$can.delete("supervisor"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",Yy,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}const Xy={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function Ky(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("report-to-employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Xy,["Supervisor"===o.type?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_supervisor")),1)])),_:1})):(0,a.createCommentVNode)("",!0),"Subordinate"===o.type?((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_subordinate")),1)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportTo.employee=e),rules:n.rules.employee,api:l.api,required:""},null,8,["modelValue","rules","api"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=e=>n.reportTo.reportingMethod=e),type:"select",label:e.$t("pim.reporting_method"),rules:n.rules.reportingMethod,options:o.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:"Cancel",onClick:r.onCancel},null,8,["onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const eC={key:0,class:"past-employee-tag"};function tC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:e.$t("general.name"),clear:!1,"create-options":r.loadEmployees},{afterSelected:(0,a.withCtx)((({data:t})=>[t.isPastEmployee?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.past_employee")),1)],64)):(0,a.createCommentVNode)("",!0)])),option:(0,a.withCtx)((({data:t})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.label),1),t.isPastEmployee?((0,a.openBlock)(),(0,a.createElementBlock)("div",eC,(0,a.toDisplayString)(e.$t("general.past_employee")),1)):(0,a.createCommentVNode)("",!0)])),_:1},8,["label","create-options"])}var oC={name:"ReportToEmployeeAutocomplete",props:{api:{type:String,required:!0},params:{type:Object,default:()=>({})}},setup(e){const t=new q(window.appGlobal.baseUrl,e.api);return{http:t}},methods:{async loadEmployees(e){return new Promise((t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),...this.params}).then((({data:e})=>{t(e.data.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))))})):t([])}))}}};const aC=(0,i.Z)(oC,[["render",tC]]);var lC=aC;const nC={employee:null,reportingMethod:null};var rC={name:"SaveEmployeeReportTo",components:{"report-to-employee-autocomplete":lC},props:{http:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0}},emits:["close"],setup(e){const t=`/api/v2/pim/employees/${e.empNumber}/report-to/allowed`;return{api:t}},data(){return{isLoading:!1,reportTo:{...nC},rules:{employee:[So,ia],reportingMethod:[So]}}},methods:{onSave(){this.isLoading=!0,this.http.create({empNumber:this.reportTo.employee?.id,reportingMethodId:this.reportTo.reportingMethod?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const iC=(0,i.Z)(rC,[["render",Ky]]);var sC=iC;const dC={class:"orangehrm-horizontal-padding orangehrm-top-padding"};function cC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("report-to-employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dC,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit"))+" "+(0,a.toDisplayString)(o.type),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.reportTo.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportTo.employee=e),required:"",disabled:"",api:l.allowedEmployeesApi,rules:n.rules.employee,clear:!1},null,8,["modelValue","api","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.reportTo.reportingMethod,"onUpdate:modelValue":t[1]||(t[1]=e=>n.reportTo.reportingMethod=e),type:"select",label:e.$t("pim.reporting_method"),rules:n.rules.reportingMethod,options:o.reportingMethods,required:""},null,8,["modelValue","label","rules","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"]),(0,a.createVNode)(s)])}const mC={employee:null,reportingMethod:null};var uC={name:"EditEmployeeReportTo",components:{"report-to-employee-autocomplete":lC},props:{http:{type:Object,required:!0},data:{type:Object,required:!0},reportingMethods:{type:Array,required:!0},type:{type:String,required:!0},empNumber:{type:String,required:!0},api:{type:String,required:!0}},emits:["close"],setup(e){const t=`/api/v2/pim/employees/${e.empNumber}/report-to/allowed`;return{allowedEmployeesApi:t}},data(){return{isLoading:!1,reportTo:{...mC},rules:{employee:[So,ia],reportingMethod:[So]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"Supervisor"===this.type?`${this.api}${this.data.supervisorEmpNumber}`:`${this.api}${this.data.subordinateEmpNumber}`}).then((e=>{const{data:t}=e.data;this.reportTo.employee={id:"Supervisor"===this.type?t.supervisor.empNumber:t.subordinate.empNumber,label:"Supervisor"===this.type?`${t.supervisor.firstName} ${t.supervisor.middleName} ${t.supervisor.lastName}`:`${t.subordinate.firstName} ${t.subordinate.middleName} ${t.subordinate.lastName}`,isPastEmployee:"Supervisor"===this.type?t.supervisor.terminationId:t.subordinate.terminationId},this.reportTo.reportingMethod=this.reportingMethods.find((e=>e.id===t.reportingMethod.id))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e="Supervisor"===this.type?this.data.supervisorEmpNumber:this.data.subordinateEmpNumber;this.http.update(e,{reportingMethodId:this.reportTo.reportingMethod?.id}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const pC=(0,i.Z)(uC,[["render",cC]]);var hC=pC,gC={name:"EmployeeSupervisors",components:{"edit-employee-report-to":hC,"profile-action-header":Nh,"save-employee-report-to":sC,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/supervisors`),{$t:o}=Ne(),a=e=>e.map((e=>({name:`${e.supervisor?.firstName} ${e.supervisor?.lastName} ${e.supervisor.terminationId?o("general.past_employee"):""}`,reportingMethod:e.reportingMethod.name,supervisorEmpNumber:e.supervisor.empNumber}))),l=`/api/v2/pim/employees/${e.empNumber}/supervisors/`,{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:a,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c,supervisorEndpoint:l}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:"Actions",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("supervisor")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("supervisor")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].supervisorEmpNumber));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.supervisorEmpNumber])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const vC=(0,i.Z)(gC,[["render",Jy]]);var fC=vC;const yC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},CC={class:"orangehrm-container"},bC={key:2,class:"orangehrm-bottom-container"};function VC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-employee-report-to"),s=(0,a.resolveComponent)("edit-employee-report-to"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,type:"Subordinate","emp-number":o.empNumber,"reporting-methods":o.reportingMethods,onClose:r.onSaveModalClose},null,8,["http","emp-number","reporting-methods","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,"emp-number":o.empNumber,data:n.editModalState,type:"Subordinate",api:l.subordinateEndpoint,"reporting-methods":o.reportingMethods,onClose:r.onEditModalClose},null,8,["http","emp-number","data","api","reporting-methods","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",yC,[(0,a.createVNode)(d,{"action-button-shown":e.$can.create("subordinates"),onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_subordinates")),1)])),_:1},8,["action-button-shown","onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",CC,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.tableHeaders,items:l.items?.data,selectable:e.$can.delete("subordinates"),disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","disabled","loading"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",bC,[(0,a.createVNode)(u,{current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])}var xC={name:"EmployeeSubordinates",components:{"edit-employee-report-to":hC,"save-employee-report-to":sC,"profile-action-header":Nh,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/subordinates`),{$t:o}=Ne(),a=e=>e.map((e=>({name:`${e.subordinate?.firstName} ${e.subordinate?.lastName} ${e.subordinate.terminationId?o("general.past_employee"):""}`,reportingMethod:e.reportingMethod.name,subordinateEmpNumber:e.subordinate.empNumber}))),l=`/api/v2/pim/employees/${e.empNumber}/subordinates/`,{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:a,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c,subordinateEndpoint:l}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:1}},{name:"reportingMethod",title:this.$t("pim.reporting_method"),style:{flex:1}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("subordinates")&&(e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("subordinates")&&(e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].subordinateEmpNumber));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.subordinateEmpNumber])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const wC=(0,i.Z)(xC,[["render",VC]]);var NC=wC,kC={components:{"edit-employee-layout":qh,"employee-supervisors":fC,"employee-subordinates":NC},props:{empNumber:{type:String,required:!0},reportingMethods:{type:Array,required:!0}}};const _C=(0,i.Z)(kC,[["render",Qy]]);var SC=_C;const DC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},$C={class:"orangehrm-container"},TC={class:"orangehrm-bottom-container"};function EC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-membership"),s=(0,a.resolveComponent)("edit-membership"),d=(0,a.resolveComponent)("profile-action-header"),c=(0,a.resolveComponent)("table-header"),m=(0,a.resolveComponent)("oxd-card-table"),u=(0,a.resolveComponent)("oxd-pagination"),p=(0,a.resolveComponent)("delete-confirmation"),h=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(h,{"employee-id":o.empNumber,screen:"membership"},{default:(0,a.withCtx)((()=>[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,currencies:o.currencies,"paid-by":o.paidBy,memberships:o.memberships,onClose:r.onSaveModalClose},null,8,["http","currencies","paid-by","memberships","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,currencies:o.currencies,"paid-by":o.paidBy,memberships:o.memberships,data:n.editModalState,onClose:r.onEditModalClose},null,8,["http","currencies","paid-by","memberships","data","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",DC,[(0,a.createVNode)(d,{onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_memberships")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(c,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",$C,[(0,a.createVNode)(m,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,disabled:r.isDisabled,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","disabled","loading"])]),(0,a.createElementVNode)("div",TC,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(p,{ref:"deleteDialog"},null,512)])),_:1},8,["employee-id"])}const IC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function BC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",IC,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_membership")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.membership=e),type:"select",label:e.$t("pim.membership"),options:o.memberships,rules:n.rules.membership,required:""},null,8,["modelValue","label","options","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=e=>n.membership.subscriptionPaidBy=e),type:"select",label:e.$t("pim.subscription_paid_by"),options:o.paidBy},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.membership.subscriptionFee=e),label:e.$t("pim.subscription_amount"),rules:n.rules.subscriptionFee},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.membership.currencyType=e),type:"select",label:e.$t("general.currency"),options:o.currencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.membership.subscriptionCommenceDate=e),label:e.$t("pim.subscription_commence_date"),rules:n.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.membership.subscriptionRenewalDate=e),label:e.$t("pim.subscription_renewal_date"),years:n.yearArray,rules:n.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const LC={membershipId:[],subscriptionFee:"",subscriptionPaidBy:null,currencyTypeId:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""};var AC={name:"SaveMembership",props:{http:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,membership:{...LC},yearArray:[...cy()],rules:{membership:[So],subscriptionCommenceDate:[$o(this.userDateFormat)],subscriptionRenewalDate:[$o(this.userDateFormat),Fo((()=>this.membership.subscriptionCommenceDate),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Ao,Yo(1e9)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:this.membership.subscriptionPaidBy?.id,currencyTypeId:this.membership.currencyType?.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.membership={...LC},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const UC=(0,i.Z)(AC,[["render",BC]]);var PC=UC;const qC={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function MC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",qC,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_membership")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.membership,"onUpdate:modelValue":t[0]||(t[0]=e=>n.membership.membership=e),type:"select",label:e.$t("pim.membership"),options:o.memberships,rules:n.rules.membership,required:""},null,8,["modelValue","label","options","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.subscriptionPaidBy,"onUpdate:modelValue":t[1]||(t[1]=e=>n.membership.subscriptionPaidBy=e),type:"select",label:e.$t("pim.subscription_paid_by"),options:o.paidBy},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.subscriptionFee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.membership.subscriptionFee=e),label:e.$t("pim.subscription_amount"),rules:n.rules.subscriptionFee},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.membership.currencyType,"onUpdate:modelValue":t[3]||(t[3]=e=>n.membership.currencyType=e),type:"select",label:e.$t("general.currency"),options:o.currencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.membership.subscriptionCommenceDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.membership.subscriptionCommenceDate=e),label:e.$t("pim.subscription_commence_date"),rules:n.rules.subscriptionCommenceDate},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.membership.subscriptionRenewalDate,"onUpdate:modelValue":t[5]||(t[5]=e=>n.membership.subscriptionRenewalDate=e),label:e.$t("pim.subscription_renewal_date"),years:n.yearArray,rules:n.rules.subscriptionRenewalDate},null,8,["modelValue","label","years","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const FC={membership:[],subscriptionFee:"",subscriptionPaidBy:null,currencyType:[],subscriptionCommenceDate:"",subscriptionRenewalDate:""};var OC={name:"EditMembership",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},emits:["close"],setup(){const{userDateFormat:e}=Ae();return{userDateFormat:e}},data(){return{isLoading:!1,membership:{...FC},yearArray:[...cy()],rules:{membership:[So],subscriptionCommenceDate:[$o(this.userDateFormat)],subscriptionRenewalDate:[$o(this.userDateFormat),Fo((()=>this.membership.subscriptionCommenceDate),this.$t("pim.renewal_date_should_be_after_the_commencing_date"))],subscriptionFee:[Ao,Yo(1e9)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.membership.subscriptionFee=t.subscriptionFee,this.membership.subscriptionCommenceDate=t.subscriptionCommenceDate,this.membership.subscriptionRenewalDate=t.subscriptionRenewalDate,this.membership.membership=this.memberships.find((e=>e.id===t.membership.id)),this.membership.subscriptionPaidBy=this.paidBy.find((e=>e.id===t.subscriptionPaidBy)),this.membership.currencyType=this.currencies.find((e=>e.id===t.currencyType?.id))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{subscriptionFee:this.membership.subscriptionFee,subscriptionCommenceDate:this.membership.subscriptionCommenceDate,subscriptionRenewalDate:this.membership.subscriptionRenewalDate,membershipId:this.membership.membership.id,subscriptionPaidBy:this.membership.subscriptionPaidBy?.id,currencyTypeId:this.membership.currencyType?.id}).then((()=>this.$toast.updateSuccess())).then((()=>{this.membership={...FC},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const jC=(0,i.Z)(OC,[["render",MC]]);var zC=jC,RC={components:{"profile-action-header":Nh,"edit-employee-layout":qh,"save-membership":PC,"edit-membership":zC,"delete-confirmation":vo},props:{empNumber:{type:String,required:!0},currencies:{type:Array,default:()=>[]},paidBy:{type:Array,default:()=>[]},memberships:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/memberships`),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>({id:e.id,membershipId:e.membership.id,membershipName:e.membership.name,subscriptionPaidBy:e.subscriptionPaidBy,subscriptionFee:e.subscriptionFee,subscriptionTypeId:e.currencyType.id,subscriptionCurrencyName:e.currencyType.name,subscriptionCommenceDate:Ke(Xe(e.subscriptionCommenceDate),o,{locale:a}),subscriptionRenewalDate:Ke(Xe(e.subscriptionRenewalDate),o,{locale:a})}))),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(t,{normalizer:l,toastNoRecords:!1});return{http:t,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"membershipName",slot:"title",title:this.$t("pim.membership"),style:{flex:1}},{name:"subscriptionPaidBy",title:this.$t("pim.subscription_paid_by"),style:{flex:1}},{name:"subscriptionFee",title:this.$t("pim.subscription_amount"),style:{flex:1}},{name:"subscriptionCurrencyName",title:this.$t("general.currency"),style:{flex:1}},{name:"subscriptionCommenceDate",title:this.$t("pim.subscription_commence_date"),style:{flex:1}},{name:"subscriptionRenewalDate",title:this.$t("pim.subscription_renewal_date"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()}}};const GC=(0,i.Z)(RC,[["render",EC],["__scopeId","data-v-3b144a72"]]);var ZC=GC;const QC={class:"orangehrm-background-container"},HC={class:"orangehrm-paper-container"},WC={class:"orangehrm-header-container"},YC={class:"orangehrm-container"},JC={class:"orangehrm-bottom-container"};function XC(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",QC,[(0,a.createElementVNode)("div",HC,[(0,a.createElementVNode)("div",WC,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.termination_reasons")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",YC,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",JC,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var KC={components:{"delete-confirmation":vo},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map((t=>{const o=e.unselectableIds.findIndex((e=>e==t.id));return{id:t.id,name:t.name,isSelectable:-1===o}})),o=new q(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons"),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(o,{normalizer:t});return{http:o,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/pim/saveTerminationReasons")},onClickEdit(e){U("/pim/saveTerminationReasons/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.termination_reasons_in_use")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const eb=(0,i.Z)(KC,[["render",XC]]);var tb=eb;const ob={class:"orangehrm-background-container"},ab={class:"orangehrm-card-container"};function lb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ob,[(0,a.createElementVNode)("div",ab,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_termination_reason")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.termination.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var nb={props:{terminationReasonId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.terminationReasonId).then((e=>{const{data:t}=e.data;return this.termination.id=t.id,this.termination.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name===e));if(o>-1){const{id:e}=t[o];return e===this.termination.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.terminationReasonId,{name:this.termination.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/viewTerminationReasons")}}};const rb=(0,i.Z)(nb,[["render",lb]]);var ib=rb;const sb={class:"orangehrm-background-container"},db={class:"orangehrm-card-container"};function cb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",sb,[(0,a.createElementVNode)("div",db,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_termination_reason")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.termination.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.termination.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var mb={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/termination-reasons");return{http:e}},data(){return{isLoading:!1,termination:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name===e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.termination.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/viewTerminationReasons")}}};const ub=(0,i.Z)(mb,[["render",cb]]);var pb=ub;const hb={class:"orangehrm-background-container"},gb={class:"orangehrm-paper-container"},vb={class:"orangehrm-header-container"},fb={class:"orangehrm-container"},yb={class:"orangehrm-bottom-container"};function Cb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hb,[(0,a.createElementVNode)("div",gb,[(0,a.createElementVNode)("div",vb,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.reporting_methods")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",fb,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",yb,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var bb={components:{"delete-confirmation":vo},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map((t=>{const o=e.unselectableIds.findIndex((e=>e==t.id));return{id:t.id,name:t.name,isSelectable:-1===o}})),o=new q(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods"),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(o,{normalizer:t});return{http:o,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{"flex-basis":"80%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/pim/saveReportingMethod")},onClickEdit(e){U("/pim/saveReportingMethod/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.reporting_methods_in_use")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Vb=(0,i.Z)(bb,[["render",Cb]]);var xb=Vb;const wb={class:"orangehrm-background-container"},Nb={class:"orangehrm-card-container"};function kb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wb,[(0,a.createElementVNode)("div",Nb,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_reporting_method")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportingMethod.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var _b={props:{reportingMethodId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.reportingMethodId).then((e=>{const{data:t}=e.data;return this.reportingMethod.id=t.id,this.reportingMethod.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name===e));if(o>-1){const{id:e}=t[o];return e===this.reportingMethod.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.reportingMethodId,{name:this.reportingMethod.name}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/viewReportingMethods")}}};const Sb=(0,i.Z)(_b,[["render",kb]]);var Db=Sb;const $b={class:"orangehrm-background-container"},Tb={class:"orangehrm-card-container"};function Eb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",$b,[(0,a.createElementVNode)("div",Tb,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_reporting_method")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.reportingMethod.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.reportingMethod.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Ib={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/reporting-methods");return{http:e}},data(){return{isLoading:!1,reportingMethod:{id:"",name:""},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name===e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.reportingMethod.name}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/viewReportingMethods")}}};const Bb=(0,i.Z)(Ib,[["render",Eb]]);var Lb=Bb;const Ab={class:"orangehrm-background-container"},Ub={class:"orangehrm-paper-container"},Pb={class:"orangehrm-header-container"},qb={class:"orangehrm-custom-field-title"},Mb={class:"orangehrm-container"},Fb={class:"orangehrm-bottom-container"};function Ob(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ab,[(0,a.createElementVNode)("div",Ub,[(0,a.createElementVNode)("div",Pb,[(0,a.createElementVNode)("div",qb,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.custom_fields")),1)])),_:1}),l.isLoading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[r.remainingFields>0?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"--infotext",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.remaining_no_of_custom_fields"))+" "+(0,a.toDisplayString)(r.remainingFields),1)])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,class:"--infotext",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.all_custom_fields_in_use")),1)])),_:1}))],64))]),r.remainingFields>0?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Mb,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",Fb,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var jb={components:{"delete-confirmation":vo},props:{customFieldLimit:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields"),o=t=>t.map((t=>{const o=e.unselectableIds.findIndex((e=>e==t.id));return{id:t.id,fieldName:t.fieldName,screen:e.screenList.filter((e=>t.screen===e.id))[0].label,fieldType:e.fieldTypeList.filter((e=>t.fieldType===e.id))[0].label,extraData:t.extraData,isSelectable:-1===o}})),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(t,{normalizer:o});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s}},data(){return{screenWidth:screen.width,headers:[{name:"fieldName",slot:"title",title:this.$t("pim.custom_field_name"),style:{flex:2}},{name:"screen",title:this.$t("pim.screen"),style:{flex:2}},{name:"fieldType",title:this.$t("pim.field_type"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},computed:{isLoaded(){return!this.isLoading},remainingFields(){return this.customFieldLimit-this.items?.data?.length}},methods:{onClickAdd(){U("/pim/saveCustomFields")},onClickEdit(e){U("/pim/saveCustomFields/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.custom_fields_in_use")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const zb=(0,i.Z)(jb,[["render",Ob],["__scopeId","data-v-5c47f79e"]]);var Rb=zb;const Gb={class:"orangehrm-background-container"},Zb={class:"orangehrm-card-container"};function Qb(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Gb,[(0,a.createElementVNode)("div",Zb,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_custom_field")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customField.fieldName=e),label:e.$t("pim.field_name"),rules:n.rules.fieldName,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customField.screen=e),type:"select",label:e.$t("pim.screen"),rules:n.rules.screen,options:o.screenList,required:""},null,8,["modelValue","label","rules","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.customField.fieldType=e),type:"select",label:e.$t("general.type"),rules:n.rules.fieldType,options:o.fieldTypeList,required:"",disabled:o.fieldInUse},null,8,["modelValue","label","rules","options","disabled"])])),_:1}),r.isDropDownField?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=e=>n.customField.extraData=e),label:e.$t("pim.select_options"),rules:n.rules.extraData,required:r.isDropDownField},null,8,["modelValue","label","rules","required"]),(0,a.createVNode)(i,{tag:"p",class:"select-options-hint"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.enter_allowed_options_separated_by_commas")),1)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Hb={id:null,fieldName:"",screen:"",fieldType:"",extraData:""};var Wb={props:{customFieldId:{type:Number,required:!0},screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0},fieldInUse:{type:Boolean,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data(){return{isLoading:!1,customField:{...Hb},rules:{fieldName:[So,Do(250)],screen:[So,Do(100)],fieldType:[So,Do(15)],extraData:[So,Do(250)]}}},computed:{isDropDownField(){return 1===this.customField.fieldType?.id}},created(){this.isLoading=!0,this.http.get(this.customFieldId).then((e=>{const{data:t}=e.data;return this.customField.fieldName=t.fieldName,""!==t.screen&&null!==t.screen&&(this.customField.screen=this.screenList.find((e=>e.id===t.screen))),""!==t.fieldType&&null!==t.fieldType&&(this.customField.fieldType=this.fieldTypeList.find((e=>e.id===t.fieldType))),this.customField.extraData=t.extraData,this.http.getAll()})).then((e=>{const{data:t}=e.data;this.rules.fieldName.push((e=>{const o=t.findIndex((t=>t.fieldName===e));if(o>-1){const e=t[o].id;return e==this.customFieldId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.customFieldId,{fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:this.customField.fieldType.id,extraData:this.customField.extraData}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/listCustomFields")}}};const Yb=(0,i.Z)(Wb,[["render",Qb],["__scopeId","data-v-9f2c1100"]]);var Jb=Yb;const Xb={class:"orangehrm-background-container"},Kb={class:"orangehrm-card-container"};function eV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Xb,[(0,a.createElementVNode)("div",Kb,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_custom_field")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.fieldName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customField.fieldName=e),label:e.$t("pim.field_name"),rules:n.rules.fieldName,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.screen,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customField.screen=e),type:"select",label:e.$t("pim.screen"),rules:n.rules.screen,options:o.screenList,required:""},null,8,["modelValue","label","rules","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"organization-name-container"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.fieldType,"onUpdate:modelValue":t[2]||(t[2]=e=>n.customField.fieldType=e),type:"select",label:e.$t("general.type"),rules:n.rules.fieldType,options:o.fieldTypeList,required:""},null,8,["modelValue","label","rules","options"])])),_:1}),r.isDropDownField?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customField.extraData,"onUpdate:modelValue":t[3]||(t[3]=e=>n.customField.extraData=e),label:e.$t("pim.select_options"),rules:n.rules.extraData,required:r.isDropDownField},null,8,["modelValue","label","rules","required"]),(0,a.createVNode)(i,{tag:"p",class:"select-options-hint"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.enter_allowed_options_separated_by_commas")),1)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const tV={fieldName:"",screen:"",fieldType:"",extraData:""};var oV={props:{screenList:{type:Array,required:!0},fieldTypeList:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/custom-fields");return{http:e}},data(){return{isLoading:!1,customField:{...tV},rules:{fieldName:[So,Do(250)],screen:[So,Do(100)],fieldType:[So,Do(15)],extraData:[So,Do(250)]}}},computed:{isDropDownField(){return 1===this.customField.fieldType?.id}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.rules.fieldName.push((e=>{const o=t.findIndex((t=>t.fieldName==e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e=this.customField.fieldType.id;this.http.create({fieldName:this.customField.fieldName,screen:this.customField.screen.id,fieldType:e,extraData:1===e?this.customField.extraData:null}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/pim/listCustomFields")}}};const aV=(0,i.Z)(oV,[["render",eV],["__scopeId","data-v-2b25acf8"]]);var lV=aV;const nV={class:"orangehrm-background-container"},rV={class:"orangehrm-card-container"},iV={class:"orangehrm-optional-field-row"},sV={class:"orangehrm-optional-field-row"},dV={class:"orangehrm-optional-field-row"},cV={class:"orangehrm-optional-field-row"};function mV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-switch-input"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("submit-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nV,[(0,a.createElementVNode)("div",rV,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.optional_fields")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.show_deprecated_fields")),1)])),_:1}),(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iV,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.show_nick_name_smoker_and_military_service_in_personal_details")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.optionalField.pimShowDeprecatedFields,"onUpdate:modelValue":t[0]||(t[0]=e=>n.optionalField.pimShowDeprecatedFields=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.country_specific_information")),1)])),_:1}),(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",sV,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.show_ssn_field_in_personal_details")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.optionalField.showSSN,"onUpdate:modelValue":t[1]||(t[1]=e=>n.optionalField.showSSN=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",dV,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.show_sin_field_in_personal_details")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.optionalField.showSIN,"onUpdate:modelValue":t[2]||(t[2]=e=>n.optionalField.showSIN=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",cV,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-optional-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.show_us_tax_exemptions_menu")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.optionalField.showTaxExemptions,"onUpdate:modelValue":t[3]||(t[3]=e=>n.optionalField.showTaxExemptions=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const uV={pimShowDeprecatedFields:!1,showSSN:!1,showSIN:!1,showTaxExemptions:!1};var pV={components:{"oxd-switch-input":n.OxdSwitchInput},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/optional-field");return{http:e}},data(){return{isLoading:!1,optionalField:{...uV}}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.optionalField={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.optionalField}}).then((e=>{const{data:t}=e.data;this.optionalField={...t},this.$toast.saveSuccess(),this.isLoading=!1}))}}};const hV=(0,i.Z)(pV,[["render",mV],["__scopeId","data-v-6f084a70"]]);var gV=hV;const vV={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function fV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("edit-employee-layout");return(0,a.openBlock)(),(0,a.createBlock)(v,{"employee-id":o.empNumber,screen:"tax"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",vV,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.tax_exemptions")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.federal_income_tax")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.federalStatus,"onUpdate:modelValue":t[0]||(t[0]=e=>n.taxExemption.federalStatus=e),type:"select",label:e.$t("general.status"),options:o.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.federalExemptions,"onUpdate:modelValue":t[1]||(t[1]=e=>n.taxExemption.federalExemptions=e),label:e.$t("pim.exemptions"),rules:n.rules.federalExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.state_income_tax")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.taxState,"onUpdate:modelValue":t[2]||(t[2]=e=>n.taxExemption.taxState=e),type:"select",label:e.$t("general.state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.stateStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>n.taxExemption.stateStatus=e),type:"select",label:e.$t("general.status"),options:o.statuses,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.stateExemptions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.taxExemption.stateExemptions=e),label:e.$t("pim.exemptions"),rules:n.rules.stateExemptions,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.unemploymentState,"onUpdate:modelValue":t[5]||(t[5]=e=>n.taxExemption.unemploymentState=e),type:"select",label:e.$t("pim.unemployment_state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taxExemption.workState,"onUpdate:modelValue":t[6]||(t[6]=e=>n.taxExemption.workState=e),type:"select",label:e.$t("pim.work_state"),options:o.provinces,disabled:!e.$can.update("tax_exemptions")},null,8,["modelValue","label","options","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[e.$can.update("tax_exemptions")?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])),_:1},8,["employee-id"])}const yV={federalStatus:null,federalExemptions:null,taxStateCode:[],stateStatus:null,stateExemptions:null,unemploymentStateCode:[],workStateCode:[]};var CV={components:{"edit-employee-layout":qh},props:{empNumber:{type:String,required:!0},provinces:{type:Array,default:()=>[]},statuses:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/pim/employees/${e.empNumber}/tax-exemption`);return{http:t}},data(){return{isLoading:!1,taxExemption:{...yV},rules:{federalExemptions:[e=>null!==e.match(/^\d*\.?\d*$/)||this.$t("general.should_be_a_positive_number"),Do(2)],stateExemptions:[e=>null!==e.match(/^\d*\.?\d*$/)||this.$t("general.should_be_a_positive_number"),Do(2)]}}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{this.updateModel(e)})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{federalStatus:this.taxExemption.federalStatus?.id,federalExemptions:this.taxExemption.federalExemptions,taxStateCode:this.taxExemption.taxState?.id,stateStatus:this.taxExemption.stateStatus?.id,stateExemptions:this.taxExemption.stateExemptions,unemploymentStateCode:this.taxExemption.unemploymentState?.id,workStateCode:this.taxExemption.workState?.id}}).then((e=>(this.updateModel(e),this.$toast.updateSuccess()))).then((()=>{this.isLoading=!1}))},updateModel(e){const{data:t}=e.data;this.taxExemption.federalExemptions=t.federalExemptions,this.taxExemption.stateExemptions=t.stateExemptions,this.taxExemption.taxState=this.provinces.find((e=>e.id===t.taxState.code)),this.taxExemption.unemploymentState=this.provinces.find((e=>e.id===t.unemploymentState.code)),this.taxExemption.workState=this.provinces.find((e=>e.id===t.workState.code)),this.taxExemption.federalStatus=this.statuses.find((e=>e.id===t.federalStatus)),this.taxExemption.stateStatus=this.statuses.find((e=>e.id===t.stateStatus))}}};const bV=(0,i.Z)(CV,[["render",fV]]);var VV=bV;const xV=e=>((0,a.pushScopeId)("data-v-ad061e70"),e=e(),(0,a.popScopeId)(),e),wV={class:"orangehrm-background-container"},NV={class:"orangehrm-card-container"},kV={class:"orangehrm-information-card-container"},_V=xV((()=>(0,a.createElementVNode)("br",null,null,-1)));function SV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("employee-data-import-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wV,[(0,a.createElementVNode)("div",NV,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.data_import")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",kV,[(0,a.createVNode)(i,{class:"orangehrm-sub-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.note"))+": ",1)])),_:1}),(0,a.createElementVNode)("ul",null,[(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.column_order_should_not_be_changed")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.first_name_and_last_name_are_compulsory")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.all_date_fields_should_be_in_yyyy_mm_dd_format")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.gender_specified_value_should_be_either_m_or_f")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.each_import_file_should_be_configured_for_100_records_or_less")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.multiple_import_files_may_be_required")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(i,{class:"orangehrm-information-card-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.sample_csv_file"))+" : ",1),(0,a.createElementVNode)("a",{href:"#",class:"download-link",onClick:t[0]||(t[0]=(0,a.withModifiers)(((...e)=>r.onClickDownload&&r.onClickDownload(...e)),["prevent"]))},(0,a.toDisplayString)(e.$t("general.download")),1)])),_:1})])])]),_V,(0,a.createVNode)(v,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.attachment=e),type:"file",rules:n.rules.attachment,label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","rules","label","button-label","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{label:e.$t("general.upload")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])]),n.importModalState?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,data:n.importModalState,onClose:r.onImportModalClose},null,8,["data","onClose"])):(0,a.createCommentVNode)("",!0)])}const DV={class:"orangehrm-modal-header"},$V={class:"orangehrm-text-center-align"},TV={class:"orangehrm-modal-footer"};function EV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"orangehrm-dialog-popup","onUpdate:show":r.onClose},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",DV,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.import_details")),1)])),_:1})]),(0,a.createElementVNode)("div",$V,[(0,a.createVNode)(i,{type:"card-body",class:(0,a.normalizeClass)({"orangehrm-success-message":o.data.success>0})},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.n_records_successfully_imported",{count:o.data.success})),1)])),_:1},8,["class"]),o.data.failed>0?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(i,{type:"card-body",class:"orangehrm-error-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.n_records_failed_to_import",{count:o.data.failed})),1)])),_:1}),(0,a.createVNode)(i,{type:"card-body",class:"orangehrm-error-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.failed_rows")),1)])),_:1}),(0,a.createVNode)(i,{type:"card-body",class:"orangehrm-error-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.data.failedRows.toString()),1)])),_:1})],64)):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",TV,[(0,a.createVNode)(s,{"display-type":"text",label:e.$t("general.ok"),onClick:r.onClose},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])}var IV={name:"EmployeeDataImportModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,required:!0}},emits:["close"],methods:{onClose(){this.$emit("close",!0)}}};const BV=(0,i.Z)(IV,[["render",EV],["__scopeId","data-v-b8d15eb4"]]);var LV=BV;const AV={attachment:null};var UV={components:{"employee-data-import-modal":LV},props:{allowedFileTypes:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/csv-import"),{formRef:t,reset:o}=vm();return{http:e,reset:o,formRef:t}},data(){return{isLoading:!1,attachment:{...AV},rules:{attachment:[So,Go(1048576),Zo(this.allowedFileTypes)]},importModalState:null}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then((e=>{const{meta:t}=e.data;this.importModalState=t})).finally((()=>{this.reset(),this.isLoading=!1}))},onClickDownload(){const e=`${window.appGlobal.baseUrl}/pim/sampleCsvDownload`;window.open(e,"_blank")},onImportModalClose(){this.importModalState=null}}};const PV=(0,i.Z)(UV,[["render",SV],["__scopeId","data-v-ad061e70"]]);var qV=PV;const MV={class:"orangehrm-background-container"},FV=(0,a.createElementVNode)("br",null,null,-1),OV={class:"orangehrm-paper-container"},jV={class:"orangehrm-header-container"},zV={class:"orangehrm-container"},RV={class:"orangehrm-bottom-container"};function GV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("report-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-table-filter"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("oxd-pagination"),C=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",MV,[(0,a.createVNode)(g,{"filter-title":e.$t("general.employee_reports")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.report,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.report=e),rules:n.rules.report},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(u,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),FV,(0,a.createElementVNode)("div",OV,[(0,a.createElementVNode)("div",jV,[(0,a.createVNode)(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(v,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",zV,[(0,a.createVNode)(f,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",RV,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(C,{ref:"deleteDialog"},null,512)])}function ZV(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:e.$t("general.report_name"),clear:!1,"create-options":r.loadReports},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var QV={name:"ReportAutocomplete",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined");return{http:e}},methods:{async loadReports(e){return new Promise((t=>{e.trim()?this.http.getAll({name:e}).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:e.name}))))})):t([])}))}}};const HV=(0,i.Z)(QV,[["render",ZV]]);var WV=HV;const YV={report:null},JV={"report.name":"ASC"};var XV={components:{"delete-confirmation":vo,"report-autocomplete":WV},setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=fo({sortDefinition:JV}),n=(0,a.ref)({...YV}),r=(0,a.computed)((()=>({reportId:n.value.report?.id,sortField:t.value,sortOrder:o.value}))),i=new q(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{showPaginator:s,currentPage:d,total:c,pages:m,pageSize:u,response:p,isLoading:h,execQuery:g}=so(i,{query:r});return l(g),{http:i,showPaginator:s,currentPage:d,isLoading:h,total:c,pages:m,pageSize:u,execQuery:g,items:p,filters:n,sortDefinition:e}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:"85%"},sortField:"report.name"},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},view:{onClick:this.onClickView,props:{name:"file-text-fill"}}}}],checkedItems:[],rules:{report:[ia]}}},methods:{onClickAdd(){U("/pim/definePredefinedReport")},onClickEdit(e){U("/pim/definePredefinedReport/{id}",{id:e.id})},onClickView(e){U("/pim/displayPredefinedReport/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...YV},this.filterItems()}}};const KV=(0,i.Z)(XV,[["render",GV]]);var ex=KV;const tx={class:"orangehrm-background-container"},ox={class:"orangehrm-card-container"};function ax(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-icon-button"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("report-criterion"),v=(0,a.resolveComponent)("report-display-field"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",tx,[(0,a.createElementVNode)("div",ox,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.add_report")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.report.name=e),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:n.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.selection_criteria")),1)])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-report-criteria --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=e=>l.report.criterion=e),type:"select",label:e.$t("pim.selection_criteria"),options:l.availableCriteria},null,8,["modelValue","label","options"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-report-icon",name:"plus",onClick:l.addCriterion},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=e=>l.report.includeEmployees=e),type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.report.criteriaSelected,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e,operator:l.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":t=>l.report.criteriaFieldValues[e.id].operator=t,valueX:l.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":t=>l.report.criteriaFieldValues[e.id].valueX=t,valueY:l.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":t=>l.report.criteriaFieldValues[e.id].valueY=t,criterion:e,onDelete:e=>l.removeCriterion(t)},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.display_fields")),1)])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=e=>l.report.fieldGroup=e),type:"select",label:e.$t("pim.select_display_field_group"),options:l.availableFieldGroups},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-report-criteria --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=e=>l.report.displayField=e),type:"select",label:e.$t("pim.select_display_field"),options:l.availableDisplyFields},null,8,["modelValue","label","options"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-report-icon",name:"plus",onClick:l.addDisplayField},null,8,["onClick"])])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.report.fieldGroupSelected,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(v,{key:e,includeHeader:l.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":t=>l.report.displayFieldSelected[e.id].includeHeader=t,"field-group":e,"selected-fields":l.report.displayFieldSelected[e.id].fields,onDelete:e=>l.removeDisplayFieldGroup(t),onDeleteChip:e=>l.removeDisplayField(e,t)},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(C)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function lx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-grid-item");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(d,{class:"orangehrm-report-criteria --offset-column-1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"trash-fill",onClick:l.onClickDelete},null,8,["onClick"]),(0,a.createVNode)(s,{class:"orangehrm-report-criteria-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.criterion.label),1)])),_:1})])),_:1}),((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(l.field.component),(0,a.mergeProps)(e.$attrs,{api:l.field.api,label:l.field.name,options:l.field.options}),null,16,["api","label","options"]))],64)}function nx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item");return(0,a.openBlock)(),(0,a.createBlock)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,(0,a.mergeProps)(e.$attrs,{params:{includeEmployees:"currentAndPast"},rules:l.rules,"model-value":o.valueX,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:valueX",t))}),null,16,["rules","model-value"])])),_:1})}var rx={name:"ReportCriterionAutocomplete",components:{"employee-autocomplete":rl},inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:Object,required:!1,default:()=>null}},emits:["update:valueX","update:operator"],setup(e,t){const o=[So,ia];return t.emit("update:operator",{id:"eq",label:"Equal"}),{rules:o}}};const ix=(0,i.Z)(rx,[["render",nx],["__scopeId","data-v-36b7c266"]]);var sx=ix;function dx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item");return(0,a.openBlock)(),(0,a.createBlock)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,(0,a.mergeProps)(e.$attrs,{type:"select",rules:l.rules,options:l.opts,"model-value":o.valueX,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:valueX",t))}),null,16,["rules","options","model-value"])])),_:1})}var cx={name:"ReportCriterionSelect",inheritAttrs:!1,props:{api:{type:String,required:!1,default:null},options:{type:Array,default:()=>[]},valueX:{type:Object,required:!1,default:()=>null}},emits:["update:valueX","update:operator"],setup(e,t){const o=(0,a.ref)(e.options),l=[So];if(e.api){const t=new q(window.appGlobal.baseUrl,e.api);(0,a.onBeforeMount)((()=>{t.getAll({..."/api/v2/admin/subunits"!==e.api&&{limit:0}}).then((({data:e})=>{o.value=e.data.map((e=>({id:e.id,label:e.name?e.name:e.title,_indent:e.level?e.level+1:1})))}))}))}return"/api/v2/admin/locations"===e.api||"/api/v2/admin/subunits"===e.api?t.emit("update:operator",{id:"in",label:"Equal"}):t.emit("update:operator",{id:"eq",label:"Equal"}),{opts:o,rules:l}}};const mx=(0,i.Z)(cx,[["render",dx],["__scopeId","data-v-20f3e4a9"]]);var ux=mx;function px(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"select",rules:l.rules.operator,options:l.operators,"model-value":o.operator,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:operator",t))},null,8,["rules","options","model-value"])])),_:1}),o.operator&&"between"===o.operator.id?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-report-range"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{rules:l.rules.valueX,"model-value":o.valueX,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value"]),(0,a.createVNode)(d,{class:"orangehrm-report-range-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("to")])),_:1}),(0,a.createVNode)(i,{rules:l.rules.valueY,"model-value":o.valueY,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:valueY",t))},null,8,["rules","model-value"])])),_:1})):o.operator?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{rules:l.rules.valueXOnly,"model-value":o.valueX,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value"])])),_:1})):(0,a.createCommentVNode)("",!0)],64)}var hx={name:"ReportCriterionRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup(e){const{$t:t}=Ne(),o=(0,a.ref)([{id:"lt",label:t("general.less_than")},{id:"gt",label:t("general.greater_than")},{id:"between",label:t("general.range")}]),l={operator:[So],valueXOnly:[So,Bo,Io(100)],valueX:[So,Bo,Io(100),o=>!parseInt(e.valueY)||(parseInt(o)<parseInt(e.valueY)||t("general.should_be_less_than_upper_bound"))],valueY:[So,Bo,Io(100),o=>!parseInt(e.valueX)||(parseInt(o)>parseInt(e.valueX)||t("general.should_be_greater_than_lower_bound"))]};return{rules:l,operators:o}}};const gx=(0,i.Z)(hx,[["render",px],["__scopeId","data-v-d3b88ca8"]]);var vx=gx;function fx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"select",rules:l.rules.operator,options:l.operators,"model-value":o.operator,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:operator",t))},null,8,["rules","options","model-value"])])),_:1}),o.operator&&"between"===o.operator.id?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-report-daterange --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"date",rules:l.rules.valueX,"model-value":o.valueX,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value","placeholder","display-format"]),(0,a.createVNode)(d,{class:"orangehrm-report-range-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("to")])),_:1}),(0,a.createVNode)(i,{type:"date",rules:l.rules.valueY,"model-value":o.valueY,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:valueY",t))},null,8,["rules","model-value","placeholder","display-format"])])),_:1})):o.operator?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"date",rules:l.rules.valueXOnly,"model-value":o.valueX,placeholder:l.userDateFormat,"display-format":l.jsDateFormat,"onUpdate:modelValue":t[3]||(t[3]=t=>e.$emit("update:valueX",t))},null,8,["rules","model-value","placeholder","display-format"])])),_:1})):(0,a.createCommentVNode)("",!0)],64)}var yx={name:"ReportCriterionDateRange",inheritAttrs:!1,props:{operator:{type:Object,required:!1,default:()=>null},valueX:{type:String,required:!1,default:null},valueY:{type:String,required:!1,default:null}},emits:["update:valueX","update:valueY","update:operator"],setup(e){const{$t:t}=Ne(),{jsDateFormat:o,userDateFormat:l}=Ae(),n=(0,a.ref)([{id:"lt",label:"Joined before"},{id:"gt",label:"Joined after"},{id:"between",label:"Joined in between"}]),r={operator:[So],valueXOnly:[So,$o(l)],valueX:[So,$o(l),Wo((()=>e.valueY),t("general.from_date_should_be_before_to_date"))],valueY:[So,$o(l),Fo((()=>e.valueX),t("general.to_date_should_be_after_from_date"))]};return{rules:r,operators:n,jsDateFormat:o,userDateFormat:l}}};const Cx=(0,i.Z)(yx,[["render",fx],["__scopeId","data-v-2ea02c55"]]);var bx=Cx,Vx={name:"ReportCriterion",components:{"report-criterion-autocomplete":sx,"report-criterion-select":ux,"report-criterion-range":vx,"report-criterion-date-range":bx},inheritAttrs:!1,props:{criterion:{type:Object,required:!0}},emits:["delete"],setup(e,t){const o=(0,a.ref)(null);switch(e.criterion.key){case"employee_name":o.value={name:e.criterion.label,component:"report-criterion-autocomplete",api:null,options:[]};break;case"pay_grade":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/pay-grades",options:[]};break;case"education":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/educations",options:[]};break;case"employment_status":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/employment-statuses",options:[]};break;case"service_period":o.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"joined_date":o.value={name:e.criterion.label,component:"report-criterion-date-range",api:null,options:[]};break;case"job_title":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/job-titles",options:[]};break;case"language":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/languages",options:[]};break;case"skill":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/skills",options:[]};break;case"age_group":o.value={name:e.criterion.label,component:"report-criterion-range",api:null,options:[]};break;case"sub_unit":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/subunits",options:[]};break;case"location":o.value={name:e.criterion.label,component:"report-criterion-select",api:"/api/v2/admin/locations",options:[]};break;default:o.value={name:e.criterion.label,component:"report-criterion-select",api:null,options:[{id:1,label:"Male"},{id:2,label:"Female"}]}}const l=e=>{t.emit("delete",e)};return{field:o,onClickDelete:l}}};const xx=(0,i.Z)(Vx,[["render",lx],["__scopeId","data-v-b010db64"]]);var wx=xx;function Nx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-multiselect-chips"),m=(0,a.resolveComponent)("oxd-switch-input");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(d,{class:"orangehrm-report-field --offset-column-1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"trash-fill",onClick:l.onClickDelete},null,8,["onClick"]),(0,a.createVNode)(s,{class:"orangehrm-report-field-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.fieldGroup.label),1)])),_:1})])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{selected:o.selectedFields,onChipRemoved:l.onRemoveSelected},null,8,["selected","onChipRemoved"])])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-report-field"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-report-field-header",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.include_header")),1)])),_:1}),(0,a.createVNode)(m,{"model-value":o.includeHeader,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:includeHeader",t))},null,8,["model-value"])])),_:1})],64)}var kx={name:"ReportDisplayField",components:{"oxd-switch-input":n.OxdSwitchInput,"oxd-multiselect-chips":n.OxdMultiSelectChips},props:{fieldGroup:{type:Object,required:!0},selectedFields:{type:Array,default:()=>[]},includeHeader:{type:Boolean,required:!0}},emits:["delete","deleteChip","update:includeHeader"],setup(e,t){const o=e=>{t.emit("delete",e)},a=e=>{t.emit("deleteChip",e)};return{onClickDelete:o,onRemoveSelected:a}}};const _x=(0,i.Z)(kx,[["render",Nx],["__scopeId","data-v-3c97086a"]]);var Sx=_x;const Dx={name:"",includeEmployees:{id:1,key:"onlyCurrent",label:"Current Employees Only"},criterion:null,criteriaSelected:[],criteriaFieldValues:{},fieldGroup:null,fieldGroupSelected:[],displayField:null,displayFieldSelected:{}};function $x(e,t,o){const l=(0,a.reactive)({report:{...Dx}}),n=e=>{const o=t.find((t=>t.field_group_id===e));return o?o.fields:[]},r=e=>{const t=l.report.displayFieldSelected[e],o=t?t.fields:[];return n(e).filter((e=>!o.find((t=>t.id===e.id))))},i=()=>{const e=l.report.criterion;e&&(l.report.criteriaSelected.push(e),l.report.criteriaFieldValues[e.id]={valueX:null,valueY:null,operator:null},l.report.criterion=null)},s=e=>{const t=l.report.criteriaSelected.splice(e,1);delete l.report.criteriaFieldValues[t[0].id]},d=()=>{const e=l.report.fieldGroup,t=l.report.displayField;if(e){const o=l.report.fieldGroupSelected.findIndex((t=>t.id===e.id));-1===o&&(l.report.fieldGroupSelected.push(e),l.report.displayFieldSelected[e.id]={fields:[],includeHeader:!1}),t?(l.report.displayFieldSelected[e.id].fields.push(t),l.report.displayField=null):r(e.id).forEach((t=>{l.report.displayFieldSelected[e.id].fields.push(t)})),0===r(e.id).length&&(l.report.fieldGroup=null)}},c=e=>{const t=l.report.fieldGroupSelected[e];l.report.fieldGroupSelected.splice(e,1),delete l.report.displayFieldSelected[t.id]},m=(e,t)=>{const o=l.report.fieldGroupSelected[t],a=l.report.displayFieldSelected[o.id].fields;l.report.displayFieldSelected[o.id].fields=a.filter((t=>t.id!==e.id)),0===l.report.displayFieldSelected[o.id].fields.length&&c(t)},u=e=>{const t={name:e.name,include:e.includeEmployees.key,criteria:{},fieldGroup:{}};return e.fieldGroupSelected.forEach((o=>{const a=e.displayFieldSelected[o.id].fields,l=e.displayFieldSelected[o.id].includeHeader;t.fieldGroup[o.id]={fields:a.map((e=>e.id)),includeHeader:l}})),e.criteriaSelected.forEach((o=>{const a=e.criteriaFieldValues[o.id];t.criteria[o.id]={operator:a.operator?a.operator.id:"",x:"object"===typeof a.valueX?String(a.valueX?.id):a.valueX,y:"object"===typeof a.valueY?String(a.valueY?.id):a.valueY}})),t},p=(0,a.computed)((()=>e.filter((e=>!l.report.criteriaSelected.find((t=>t.id===e.id)))))),h=(0,a.computed)((()=>o.filter((e=>0!==r(e.id).length)))),g=(0,a.computed)((()=>{const e=l.report.fieldGroup?.id;return e?r(e):[]}));return{...(0,a.toRefs)(l),addCriterion:i,serializeBody:u,addDisplayField:d,removeCriterion:s,removeDisplayField:m,removeDisplayFieldGroup:c,availableCriteria:p,availableFieldGroups:h,availableDisplyFields:g}}var Tx={components:{"report-criterion":wx,"report-display-field":Sx},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:s,availableCriteria:d,availableFieldGroups:c,availableDisplyFields:m}=$x(e.selectionCriteria,e.displayFields,e.displayFieldGroups);return{http:t,report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:s,availableCriteria:d,availableFieldGroups:c,availableDisplyFields:m}},data(){return{isLoading:!1,rules:{name:[So,Do(250)],includeEmployees:[So]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/pim/viewDefinedPredefinedReports")},onSave(){if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;let e=null;const t=this.serializeBody(this.report);this.http.create(t).then((t=>{const{data:o}=t.data;return e=o.id,this.$toast.saveSuccess()})).then((()=>{e&&U("/pim/displayPredefinedReport/{id}",{id:e})}))}}};const Ex=(0,i.Z)(Tx,[["render",ax],["__scopeId","data-v-f66184da"]]);var Ix=Ex;const Bx={class:"orangehrm-card-container"},Lx=(0,a.createElementVNode)("br",null,null,-1);function Ax(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(s,{module:"pim",name:"pim_defined",prefetch:!0,filters:l.filters},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Bx,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.reportName),1)])),_:1})]),Lx])),_:1},8,["filters"])}const Ux={class:"orangehrm-background-container"},Px={key:0,class:"orangehrm-paper-container"};function qx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-pagination"),d=(0,a.resolveComponent)("oxd-report-table");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ux,[(0,a.renderSlot)(e.$slots,"default",{generateReport:l.generateReport},void 0,!0),0!==l.headers.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",Px,[(0,a.createVNode)(d,{items:l.items,headers:l.headers,loading:l.isLoading,"column-count":l.colCount},{pagination:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"oxd-text--count",tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_found",{count:l.total})),1)])),_:1}),l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])),footer:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"oxd-text--footer",tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"footer",{data:l.response},void 0,!0)])),_:3})])),_:3},8,["items","headers","loading","column-count"])])):(0,a.createCommentVNode)("",!0)])}var Mx={name:"ReportsTable",components:{"oxd-report-table":n.OxdReportTable},props:{name:{type:String,required:!0},module:{type:String,required:!0},prefetch:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},columnCount:{type:Number,default:null,required:!1}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/${e.module}/reports/data`),o=(0,a.ref)([]),l=(0,a.ref)(e.columnCount?e.columnCount:0),r=(0,a.computed)((()=>({...e.filters,name:e.name,_dateFormattingEnabled:!0}))),{total:i,pages:s,response:d,isLoading:c,currentPage:m,showPaginator:u,execQuery:p}=so(t,{query:r,prefetch:!1}),h=(0,a.computed)((()=>{const e=Array.isArray(d.value.data)?d.value.data:[];return e.map((e=>{let t=0;for(const o in e){const a=e[o];Array.isArray(a)&&a.length>t&&(t=a.length)}return{...e,_rows:t}}))})),g=e=>{delete e["size"];const{type:t,...o}=e.cellProperties??{},a=function({prop:e,model:t}){const a=t?._url?t?._url[e]:void 0;return{...o,onClick:a?()=>U(a):void 0}};return{...e,cellProperties:a,cellTemplate:"list"===t?(0,n.CellAdapter)(n.OxdMultilineCell):void 0}},v=async()=>{c.value=!0,t.request({method:"GET",url:`/api/v2/${e.module}/reports`,params:{name:r.value.name,reportId:r.value?.reportId}}).then((e=>{const{data:t,meta:a}=e.data;o.value=t.headers.map((e=>e?.children&&Array.isArray(e.children)?(e.children=e.children.map((e=>g(e))),e):g(e))),a.headers?.columnCount&&(l.value=a.headers.columnCount),c.value=!1}))},f=async()=>{0===o.value.length&&await v(),await p()};return(0,a.watch)((()=>e.name),(()=>{o.value=[]})),e.prefetch&&(0,a.onBeforeMount)((()=>f())),{total:i,pages:s,items:h,headers:o,colCount:l,response:d,isLoading:c,currentPage:m,showPaginator:u,generateReport:f}}};const Fx=(0,i.Z)(Mx,[["render",qx],["__scopeId","data-v-32e798aa"]]);var Ox=Fx,jx={components:{"reports-table":Ox},props:{reportId:{type:String,required:!0},reportName:{type:String,required:!0}},setup(e){const t=(0,a.ref)({reportId:e.reportId});return{filters:t}}};const zx=(0,i.Z)(jx,[["render",Ax]]);var Rx=zx;const Gx={class:"orangehrm-background-container"},Zx={class:"orangehrm-card-container"};function Qx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-icon-button"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("report-criterion"),v=(0,a.resolveComponent)("report-display-field"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Gx,[(0,a.createElementVNode)("div",Zx,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.edit_report")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.report.name=e),label:e.$t("general.report_name"),placeholder:e.$t("general.type_here_message"),rules:n.rules.name,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.selection_criteria")),1)])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-report-criteria --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.criterion,"onUpdate:modelValue":t[1]||(t[1]=e=>l.report.criterion=e),type:"select",label:e.$t("pim.selection_criteria"),options:l.availableCriteria},null,8,["modelValue","label","options"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-report-icon",name:"plus",onClick:l.addCriterion},null,8,["onClick"])])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.includeEmployees,"onUpdate:modelValue":t[2]||(t[2]=e=>l.report.includeEmployees=e),type:"select",label:e.$t("pim.include"),options:n.includeOpts,"show-empty-selector":!1},null,8,["modelValue","label","options"])])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.report.criteriaSelected,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e,operator:l.report.criteriaFieldValues[e.id].operator,"onUpdate:operator":t=>l.report.criteriaFieldValues[e.id].operator=t,valueX:l.report.criteriaFieldValues[e.id].valueX,"onUpdate:valueX":t=>l.report.criteriaFieldValues[e.id].valueX=t,valueY:l.report.criteriaFieldValues[e.id].valueY,"onUpdate:valueY":t=>l.report.criteriaFieldValues[e.id].valueY=t,criterion:e,onDelete:e=>l.removeCriterion(t)},null,8,["operator","onUpdate:operator","valueX","onUpdate:valueX","valueY","onUpdate:valueY","criterion","onDelete"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.display_fields")),1)])),_:1}),(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.fieldGroup,"onUpdate:modelValue":t[3]||(t[3]=e=>l.report.fieldGroup=e),type:"select",label:e.$t("pim.select_display_field_group"),options:l.availableFieldGroups},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-report-criteria --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.report.displayField,"onUpdate:modelValue":t[4]||(t[4]=e=>l.report.displayField=e),type:"select",label:e.$t("pim.select_display_field"),options:l.availableDisplyFields},null,8,["modelValue","label","options"]),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-report-icon",name:"plus",onClick:l.addDisplayField},null,8,["onClick"])])),_:1})])),_:1}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.report.fieldGroupSelected,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(v,{key:e,includeHeader:l.report.displayFieldSelected[e.id].includeHeader,"onUpdate:includeHeader":t=>l.report.displayFieldSelected[e.id].includeHeader=t,"field-group":e,"selected-fields":l.report.displayFieldSelected[e.id].fields,onDelete:e=>l.removeDisplayFieldGroup(t),onDeleteChip:e=>l.removeDisplayField(e,t)},null,8,["includeHeader","onUpdate:includeHeader","field-group","selected-fields","onDelete","onDeleteChip"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(C)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var Hx={components:{"report-criterion":wx,"report-display-field":Sx},props:{selectionCriteria:{type:Array,required:!0},displayFieldGroups:{type:Array,required:!0},displayFields:{type:Array,required:!0},reportId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/pim/reports/defined"),{report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:s,availableCriteria:d,availableFieldGroups:c,availableDisplyFields:m}=$x(e.selectionCriteria,e.displayFields,e.displayFieldGroups);return{http:t,report:o,addCriterion:a,serializeBody:l,addDisplayField:n,removeCriterion:r,removeDisplayField:i,removeDisplayFieldGroup:s,availableCriteria:d,availableFieldGroups:c,availableDisplyFields:m}},data(){return{isLoading:!1,rules:{name:[So,Do(250)],includeEmployees:[So]},includeOpts:[{id:1,key:"onlyCurrent",label:this.$t("general.current_employees_only")},{id:2,key:"currentAndPast",label:this.$t("general.current_and_past_employees")},{id:3,key:"onlyPast",label:this.$t("general.past_employees_only")}]}},beforeMount(){this.isLoading=!0,this.http.get(this.reportId).then((e=>{const{data:t}=e.data;this.report.name=t.name,this.report.includeEmployees=this.includeOpts.find((e=>e.key===t.include));const o=[{id:"eq",label:"Equal"},{id:"lt",label:"Less Than"},{id:"gt",label:"Greater Than"},{id:"between",label:"Range"}];for(const a in t.fieldGroup){const e=this.displayFields.find((e=>e.field_group_id==a));this.report.fieldGroupSelected.push(this.displayFieldGroups.find((e=>e.id==a))),this.report.displayFieldSelected[a]={fields:t.fieldGroup[a].fields.map((t=>e.fields.find((e=>e.id===t)))),includeHeader:t.fieldGroup[a].includeHeader}}for(const a in t.criteria){const e=this.selectionCriteria.find((e=>e.id==a));this.report.criteriaSelected.push(e),this.report.criteriaFieldValues[a]={valueX:t.criteria[a].x,valueY:"undefined"===t.criteria[a].y?null:t.criteria[a].y,operator:o.find((e=>e.id===t.criteria[a].operator))}}return this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e));if(o>-1){const{id:e}=t[o];return e==this.reportId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/pim/viewDefinedPredefinedReports")},onSave(){if(0===Object.keys(this.report.displayFieldSelected).length)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("pim.at_least_one_display_field_should_be_added")});this.isLoading=!0;const e=this.serializeBody(this.report);this.http.update(this.reportId,e).then((()=>this.$toast.updateSuccess())).then((()=>{U("/pim/displayPredefinedReport/{id}",{id:this.reportId})}))}}};const Wx=(0,i.Z)(Hx,[["render",Qx],["__scopeId","data-v-0b4140eb"]]);var Yx=Wx;const Jx={class:"orangehrm-background-container"},Xx={class:"orangehrm-card-container"};function Kx(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("password-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Jx,[(0,a.createElementVNode)("div",Xx,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.update_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.username")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-user-name",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.userName),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.user.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.currentPassword=e),type:"password",label:e.$t("pim.current_password"),rules:n.rules.currentPassword,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,{password:n.user.password,"onUpdate:password":t[1]||(t[1]=e=>n.user.password=e),passwordConfirm:n.user.passwordConfirm,"onUpdate:passwordConfirm":t[2]||(t[2]=e=>n.user.passwordConfirm=e)},null,8,["password","passwordConfirm"]),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const ew={currentPassword:"",password:"",passwordConfirm:""};var tw={components:{"password-input":Nl},props:{userName:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/core/update-password"),{formRef:t,reset:o}=vm();return{http:e,formRef:t,reset:o}},data(){return{isLoading:!1,user:{...ew},rules:{currentPassword:[So,Do(64)]}}},methods:{onCancel(){window.history.back()},onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:"/api/v2/pim/update-password",data:{newPassword:this.user.password,currentPassword:this.user.currentPassword},validateStatus:e=>e>=200&&e<300||422===e}).then((e=>200===e.status?(this.reset(),this.$toast.saveSuccess()):this.$toast.error({title:this.$t("general.error"),message:this.$t("pim.current_password_is_incorrect")}))).finally((()=>this.isLoading=!1))}}};const ow=(0,i.Z)(tw,[["render",Kx],["__scopeId","data-v-1cb899de"]]);var aw=ow,lw={"employee-save":np,"employee-list":Bp,"employee-personal-details":jh,"employee-contact-details":Hh,"employee-emergency-contacts":pg,"employee-dependents":Ig,"employee-profile-picture":Mg,"employee-salary":iv,"employee-job":kv,"employee-qualifications":_y,"employee-immigration":Gy,"employee-membership":ZC,"termination-reason-list":tb,"termination-reason-edit":ib,"termination-reason-save":pb,"reporting-method-list":xb,"reporting-method-edit":Db,"reporting-method-save":Lb,"employee-report-to":SC,"custom-field-list":Rb,"custom-field-edit":Jb,"custom-field-save":lV,"optional-field-list":gV,"employee-tax-exemption":VV,"employee-data-import":qV,"employee-report-list":ex,"employee-report-save":Ix,"employee-report-view":Rx,"employee-report-edit":Yx,"update-password":aw};const nw=e=>((0,a.pushScopeId)("data-v-62b38e4f"),e=e(),(0,a.popScopeId)(),e),rw={class:"orangehrm-background-container"},iw={class:"orangehrm-card-container"},sw=nw((()=>(0,a.createElementVNode)("br",null,null,-1))),dw={class:"orangehrm-support"},cw=["src"],mw=nw((()=>(0,a.createElementVNode)("a",{class:"orangehrm-support-link",href:"mailto:support@taskflowhr.com"}," support@taskflowhr.com ",-1)));function uw(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-grid");return(0,a.openBlock)(),(0,a.createElementBlock)("div",rw,[(0,a.createElementVNode)("div",iw,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Getting Started with TaskflowHR ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-support-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Learning how to use a new application can be challenging. At TaskflowHR, we are committed to providing you with the necessary knowledge and skills required to fully utilize the application thereby allowing you to quickly and efficiently manage your HR processes. ")])),_:1}),sw,(0,a.createVNode)(i,{tag:"p",class:"orangehrm-support-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" The following information repositories are available to help you understand the application: ")])),_:1}),(0,a.createElementVNode)("div",dw,[(0,a.createVNode)(c,{cols:2,class:"orangehrm-support-channel --mail"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:n.helpImgSrc,alt:"help image"},null,8,cw)])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-sub-title",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("help.customer_support")),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-support-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("help.contact_us_on_message"))+" ",1),mw,(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("help.we_will_be_delighted_to_help")),1)])),_:1})])),_:1})])),_:1})])])])}var pw={data(){return{helpImgSrc:`${window.appGlobal.publicPath}/images/help.png`}}};const hw=(0,i.Z)(pw,[["render",uw],["__scopeId","data-v-62b38e4f"]]);var gw=hw,vw={"view-support":gw};const fw={class:"orangehrm-background-container"},yw={class:"orangehrm-card-container"};function Cw(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",fw,[(0,a.createElementVNode)("div",yw,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.timesheet_period_config")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.timeSheetPeriod.startDay,"onUpdate:modelValue":t[0]||(t[0]=e=>n.timeSheetPeriod.startDay=e),type:"select",label:e.$t("time.add_timesheet_period_config"),options:r.days,rules:n.rules.startDay,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const bw={startDay:null};var Vw={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/time-sheet-period"),{locale:t}=pt();return{http:e,locale:t}},data(){return{isLoading:!1,timeSheetPeriod:{...bw},rules:{startDay:[So]}}},computed:{days(){return Array(7).fill("").map(((...[,e])=>({id:0===e?7:e,label:this.locale.localize.day(e,{width:"wide"})})))}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then((e=>{const{data:t}=e.data;this.updateTimeSheetPeriodModel(parseInt(t.startDay))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{startDay:this.timeSheetPeriod.startDay?.id}}).then((()=>this.$toast.saveSuccess())).then((()=>{U("/time/viewEmployeeTimesheet")}))},updateTimeSheetPeriodModel(e){this.timeSheetPeriod.startDay=this.days.find((t=>t.id===e))}}};const xw=(0,i.Z)(Vw,[["render",Cw]]);var ww=xw;const Nw={class:"orangehrm-background-container"},kw={class:"orangehrm-paper-container"},_w={class:"orangehrm-header-container"},Sw={class:"orangehrm-container"},Dw={class:"orangehrm-bottom-container"};function $w(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Nw,[(0,a.createElementVNode)("div",kw,[(0,a.createElementVNode)("div",_w,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.customers")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",Sw,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","loading","headers","items"])]),(0,a.createElementVNode)("div",Dw,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}const Tw={"customer.name":"ASC"};var Ew={components:{"delete-confirmation":vo},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map((t=>{const o=e.unselectableIds.findIndex((e=>e==t.id));return{id:t.id,name:t.name,description:t.description,isSelectable:-1===o}})),{sortDefinition:o,sortField:l,sortOrder:n,onSort:r}=fo({sortDefinition:Tw}),i=(0,a.computed)((()=>({sortField:l.value,sortOrder:n.value}))),s=new q(window.appGlobal.baseUrl,"/api/v2/time/customers"),{showPaginator:d,currentPage:c,total:m,pages:u,pageSize:p,response:h,isLoading:g,execQuery:v}=so(s,{query:i,normalizer:t});return r(v),{http:s,showPaginator:d,currentPage:c,isLoading:g,total:m,pages:u,pageSize:p,execQuery:v,items:h,sortDefinition:o}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),sortField:"customer.name",style:{flex:2}},{name:"description",title:this.$t("general.description"),style:{flex:4}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/time/addCustomer")},onClickEdit(e){U("/time/addCustomer/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_customer_who_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const Iw=(0,i.Z)(Ew,[["render",$w]]);var Bw=Iw;const Lw={class:"orangehrm-background-container"},Aw={class:"orangehrm-card-container"};function Uw(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Lw,[(0,a.createElementVNode)("div",Aw,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.add_customer")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Pw={id:"",name:"",description:""};var qw={setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("/api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...Pw},rules:{name:[So,Do(50),(0,n.promiseDebounce)(this.validateCustomerName,500)],description:[Do(255)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/time/viewCustomers")},validateCustomerName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim()}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const Mw=(0,i.Z)(qw,[["render",Uw]]);var Fw=Mw;const Ow={class:"orangehrm-background-container"},jw={class:"orangehrm-card-container"};function zw(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ow,[(0,a.createElementVNode)("div",jw,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.edit_customer")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Rw={id:"",name:"",description:""};var Gw={props:{customerId:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("/api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...Rw},rules:{name:[So,Do(50),(0,n.promiseDebounce)(this.validateCustomerName,500)],description:[Do(255)]}}},created(){this.isLoading=!0,this.http.get(this.customerId).then((e=>{const{data:t}=e.data;this.customer.id=t.id,this.customer.name=t.name,this.customer.description=t.description})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.customerId,{name:this.customer.name,description:this.customer.description}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/time/viewCustomers")},validateCustomerName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim(),customerId:this.customerId}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const Zw=(0,i.Z)(Gw,[["render",zw]]);var Qw=Zw;const Hw={class:"orangehrm-background-container"},Ww=(0,a.createElementVNode)("br",null,null,-1);function Yw(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("timesheet-period"),d=(0,a.resolveComponent)("oxd-button"),c=(0,a.resolveComponent)("timesheet"),m=(0,a.resolveComponent)("timesheet-actions");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Hw,[(0,a.createVNode)(c,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.my_timesheet")),1)])),_:1})])),"header-options":(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date=t),value:l.timesheetPeriod,onPrevious:l.onClickPrevious,onNext:l.onClickNext},null,8,["modelValue","value","onPrevious","onNext"])])),"footer-title":(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.status"))+": "+(0,a.toDisplayString)(r.myTimesheetStatus),1)])),_:1},512),[[a.vShow,e.timesheetStatus]])])),"footer-options":(0,a.withCtx)((()=>[l.showCreateTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"display-type":"secondary",disabled:l.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:l.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):(0,a.createCommentVNode)("",!0),l.canEditTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:l.onClickEdit},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),l.canSubmitTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,"display-type":"secondary",label:e.$t("general.submit"),onClick:l.onClickSubmit},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),Ww,e.timesheetId?((0,a.openBlock)(),(0,a.createBlock)(m,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):(0,a.createCommentVNode)("",!0)])}const Jw=e=>((0,a.pushScopeId)("data-v-425cbc6c"),e=e(),(0,a.popScopeId)(),e),Xw={class:"orangehrm-timesheet-header"},Kw={class:"orangehrm-timesheet-header--title"},eN={class:"orangehrm-timesheet-header--options"},tN={key:0,class:"orangehrm-timesheet-loader"},oN={key:1,class:"orangehrm-timesheet-body-message"},aN={key:2,class:"orangehrm-timesheet-body"},lN={class:"orangehrm-timesheet-table-header"},nN={class:"orangehrm-timesheet-table-header-row"},rN={class:"orangehrm-timesheet-table-header-cell"},iN={class:"--day"},sN={key:0,class:"orangehrm-timesheet-table-header-cell --center --freeze-right"},dN={class:"orangehrm-timesheet-table-body"},cN={key:1},mN={class:"orangehrm-timesheet-table-body-cell"},uN={key:1},pN={key:1},hN={key:0,class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight"},gN={key:1,class:"orangehrm-timesheet-table-body-cell --flex"},vN={key:0,class:"orangehrm-timesheet-table-body-row --total"},fN={class:"orangehrm-timesheet-table-body-cell --freeze-left --highlight"},yN=Jw((()=>(0,a.createElementVNode)("td",null,null,-1))),CN={class:"orangehrm-timesheet-table-body-cell --center --freeze-right --highlight-2"},bN={key:1,class:"orangehrm-timesheet-table-body-row"},VN={class:"orangehrm-timesheet-table-body-cell --flex"},xN={key:2,class:"orangehrm-timesheet-table-body-row"},wN={colspan:"9",class:"orangehrm-timesheet-table-body-cell"},NN={class:"orangehrm-timesheet-footer"},kN={class:"orangehrm-timesheet-footer--title"},_N={class:"orangehrm-timesheet-footer--options"};function SN(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-loading-spinner"),s=(0,a.resolveComponent)("oxd-alert"),d=(0,a.resolveComponent)("project-autocomplete"),c=(0,a.resolveComponent)("activity-dropdown"),m=(0,a.resolveComponent)("oxd-icon-button"),u=(0,a.resolveComponent)("oxd-input-field"),p=(0,a.resolveComponent)("oxd-text"),h=(0,a.resolveComponent)("timesheet-comment-modal"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createBlock)(g,{class:"orangehrm-paper-container"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Xw,[(0,a.createElementVNode)("div",Kw,[(0,a.renderSlot)(e.$slots,"header-title",{},void 0,!0)]),(0,a.createElementVNode)("div",eN,[(0,a.renderSlot)(e.$slots,"header-options",{},void 0,!0)])]),o.loading?((0,a.openBlock)(),(0,a.createElementBlock)("div",tN,[(0,a.createVNode)(i)])):o.loading||o.columns?((0,a.openBlock)(),(0,a.createElementBlock)("div",aN,[(0,a.createElementVNode)("table",{class:(0,a.normalizeClass)(r.tableClasses)},[(0,a.createElementVNode)("thead",lN,[(0,a.createElementVNode)("tr",nN,[(0,a.createElementVNode)("th",{class:(0,a.normalizeClass)(r.fixedColumnClasses)},(0,a.toDisplayString)(e.$t("time.project")),3),(0,a.createElementVNode)("th",rN,(0,a.toDisplayString)(e.$t("time.activity")),1),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.daysOfWeek,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("th",{key:e.id,class:"orangehrm-timesheet-table-header-cell --center"},[(0,a.createElementVNode)("span",iN,(0,a.toDisplayString)(e.day),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.title),1)])))),128)),o.editable?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("th",sN,(0,a.toDisplayString)(e.$t("general.total")),1))])]),(0,a.createElementVNode)("tbody",dN,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.records,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("tr",{key:e,class:"orangehrm-timesheet-table-body-row"},[(0,a.createElementVNode)("td",{class:(0,a.normalizeClass)(r.fixedCellClasses)},[o.editable?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"only-allowed":!1,rules:n.rules.project,"model-value":r.getProject(e),"onUpdate:modelValue":e=>r.updateProject(e,t)},null,8,["rules","model-value","onUpdate:modelValue"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",cN,(0,a.toDisplayString)(e.project?`${e.customer.name} - ${e.project.name}`:""),1))],2),(0,a.createElementVNode)("td",mN,[o.editable?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,rules:n.rules.activity,"project-id":e.project&&e.project.id,"model-value":r.getActivity(e.activity),"onUpdate:modelValue":e=>r.updateActivity(e,t)},null,8,["rules","project-id","model-value","onUpdate:modelValue"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",uN,(0,a.toDisplayString)(e.activity&&e.activity.name),1))]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.columns,((l,n)=>((0,a.openBlock)(),(0,a.createElementBlock)("td",{key:`${e.project}_${e.activity}_${n}`,class:(0,a.normalizeClass)({"orangehrm-timesheet-table-body-cell":!0,"--center":!0,"--duration-input":o.editable,"--highlight-3":!o.editable&&l.workday})},[(0,a.withDirectives)((0,a.createVNode)(m,{"display-type":"secondary",class:"orangehrm-timesheet-icon-comment",name:r.getCommentIcon(e.dates[n]),onMousedown:o=>r.viewComment(e,e.dates[n],t,n)},null,8,["name","onMousedown"]),[[a.vShow,r.isCommentVisible(e.dates[n],t,n)]]),o.editable?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,autocomplete:"off",rules:r.validateDuration(n),"model-value":r.getDuration(e.dates[n]),onBlur:r.onDurationBlur,onFocus:e=>r.onDurationFocus(t,n),"onUpdate:modelValue":e=>r.updateTime(e,t,n)},null,8,["rules","model-value","onBlur","onFocus","onUpdate:modelValue"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",pN,(0,a.toDisplayString)(r.getDuration(e.dates[n])??"00:00"),1))],2)))),128)),o.editable?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("td",hN,(0,a.toDisplayString)(e.total.label),1)),o.editable?((0,a.openBlock)(),(0,a.createElementBlock)("td",gN,[(0,a.createVNode)(m,{name:"trash",class:"orangehrm-timesheet-icon",onClick:e=>r.deleteRow(t)},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0)])))),128)),!o.editable&&o.records.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("tr",vN,[(0,a.createElementVNode)("td",fN,(0,a.toDisplayString)(e.$t("general.total")),1),yN,((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.columns,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("td",{key:`total-${e}`,class:"orangehrm-timesheet-table-body-cell --center"},(0,a.toDisplayString)(e.total.label),1)))),128)),(0,a.createElementVNode)("td",CN,(0,a.toDisplayString)(o.subtotal),1)])):(0,a.createCommentVNode)("",!0),o.editable?((0,a.openBlock)(),(0,a.createElementBlock)("tr",bN,[(0,a.createElementVNode)("td",VN,[(0,a.createVNode)(m,{name:"plus",class:"orangehrm-timesheet-icon",onClick:r.addRow},null,8,["onClick"]),(0,a.createVNode)(p,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.add_row")),1)])),_:1})])])):(0,a.createCommentVNode)("",!0),0===o.records.length?((0,a.openBlock)(),(0,a.createElementBlock)("tr",xN,[(0,a.createElementVNode)("td",wN,(0,a.toDisplayString)(e.$t("general.no_records_found")),1)])):(0,a.createCommentVNode)("",!0)])],2)])):((0,a.openBlock)(),(0,a.createElementBlock)("div",oN,[(0,a.createVNode)(s,{type:"warn",show:!0,message:e.$t("time.no_timesheets_found")},null,8,["message"])])),(0,a.createElementVNode)("div",NN,[(0,a.createElementVNode)("div",kN,[(0,a.renderSlot)(e.$slots,"footer-title",{},void 0,!0)]),(0,a.createElementVNode)("div",_N,[(0,a.renderSlot)(e.$slots,"footer-options",{},void 0,!0)])]),n.showCommentModal?((0,a.openBlock)(),(0,a.createBlock)(h,{key:3,editable:o.editable,data:n.commentModalState,"timesheet-id":o.timesheetId,onClose:r.onCommentModalClose},null,8,["editable","data","timesheet-id","onClose"])):(0,a.createCommentVNode)("",!0)])),_:3})}function DN(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",options:l.options},null,8,["options"])}var $N={name:"ActivityDropdown",props:{projectId:{type:Number,required:!1,default:null}},setup(e){const t=(0,a.ref)([]),o=new q(window.appGlobal.baseUrl,"");return(0,a.watchEffect)((async()=>{e.projectId?o.request({method:"GET",url:`/api/v2/time/project/${e.projectId}/activities`,params:{limit:0}}).then((({data:e})=>{t.value=e.data.map((e=>({id:e.id,label:e.name,isDeleted:e.deleted})))})):t.value=[]})),{options:t}}};const TN=(0,i.Z)($N,[["render",DN],["__scopeId","data-v-51ddd696"]]);var EN=TN;function IN(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",clear:!1,label:e.$t("time.project"),"create-options":r.loadProjects},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var BN={name:"ProjectAutocomplete",props:{onlyAllowed:{type:Boolean,required:!1,default:!0},excludeProjectIds:{type:Array,required:!1,default:()=>[]},excludeCustomerName:{type:Boolean,default:!1}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/projects");return{http:e}},methods:{async loadProjects(e){return new Promise((t=>{if(e.trim()){const o={name:this.excludeCustomerName?e.trim():void 0,onlyAllowed:this.onlyAllowed,model:"detailed",excludeProjectIds:this.excludeProjectIds.length>0?this.excludeProjectIds:void 0,customerOrProjectName:this.excludeCustomerName?void 0:e.trim()};this.http.getAll(o).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:this.excludeCustomerName?e.name:`${e.customer?.name} - ${e.name}`,_customer:e.customer}))))}))}else t([])}))}}};const LN=(0,i.Z)(BN,[["render",IN],["__scopeId","data-v-35991936"]]);var AN=LN;const UN={class:"orangehrm-modal-header"};function PN(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",UN,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.comment")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:2,class:"orangehrm-timesheet-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.project"))+": ",1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.projectName),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.activity"))+": ",1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.data.activity.name),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.date"))+": ",1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timesheet-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.commentDate),1)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),type:"textarea",placeholder:e.$t("general.comment_here"),rules:n.rules.comment,disabled:!o.editable},null,8,["modelValue","placeholder","rules","disabled"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.withDirectives)((0,a.createVNode)(p,null,null,512),[[a.vShow,o.editable]])])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var qN={name:"TimesheetCommentModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,required:!0},editable:{type:Boolean,required:!0},timesheetId:{type:Number,required:!0}},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),{locale:t}=pt(),{jsDateFormat:o}=Ae();return{http:e,locale:t,jsDateFormat:o}},data(){return{isLoading:!1,comment:null,rules:{comment:[Do(2e3)]}}},computed:{projectName(){const{project:e,customer:t}=this.data;return e?.label?e.label:`${t?.name} - ${e?.name}`},commentDate(){const{date:e}=this.data;return e?Ke(Xe(e),this.jsDateFormat,{locale:this.locale}):null}},beforeMount(){this.data?.id&&(this.isLoading=!0,this.http.request({method:"GET",url:`/api/v2/time/timesheets/${this.timesheetId}/entries/${this.data.id}/comment`}).then((e=>{const{data:t}=e.data;this.comment=t?.comment})).finally((()=>{this.isLoading=!1})))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`/api/v2/time/timesheets/${this.timesheetId}/entries/comment`,data:{date:this.data.date,comment:this.comment,projectId:this.data.project.id,activityId:this.data.activity.id}}).then((e=>{const{data:t}=e.data;this.$toast.saveSuccess(),this.$emit("close",t)}))},onCancel(){this.comment=null,this.$emit("close")}}};const MN=(0,i.Z)(qN,[["render",PN],["__scopeId","data-v-4867abf0"]]);var FN=MN,ON={name:"Timesheet",components:{"oxd-alert":n.OxdAlert,"oxd-loading-spinner":n.OxdSpinner,"activity-dropdown":EN,"project-autocomplete":AN,"timesheet-comment-modal":FN},props:{records:{type:Array,default:()=>[]},columns:{type:Object,required:!1,default:()=>null},subtotal:{type:String,required:!1,default:null},editable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},timesheetId:{type:Number,default:null}},emits:["update:records"],data(){return{focusedField:null,showCommentModal:!1,commentModalState:null,rules:{project:[ia,e=>null!==e||this.$t("time.select_a_project")],activity:[e=>null!==e||this.$t("time.select_an_activity"),e=>this.records.filter((t=>t.activity?.id===e?.id)).length<2||this.$t("time.duplicate_record")]}}},computed:{days(){return this.columns?Object.keys(this.columns):[]},dailyTotals(){const e={};for(const t in this.columns)e[t]=this.records.reduce(((e,o)=>{const a=dt(o.dates[t]?.duration);return a>0?e+a:e}),0);return e},daysOfWeek(){const e=[this.$t("general.sun"),this.$t("general.mon"),this.$t("general.tue"),this.$t("general.wed"),this.$t("general.thu"),this.$t("general.fri"),this.$t("general.sat")];return this.days.map((t=>{const o=Xe(t,"yyyy-MM-dd");return{id:o.valueOf(),day:o.getDate(),title:e[o.getDay()]}}))},tableClasses(){return{"orangehrm-timesheet-table":!0,"--editable":this.editable}},fixedColumnClasses(){return{"orangehrm-timesheet-table-header-cell":!0,"--freeze-left":!this.editable}},fixedCellClasses(){return{"orangehrm-timesheet-table-body-cell":!0,"--freeze-left":!this.editable}}},methods:{deleteRow(e){const t=this.records.filter(((t,o)=>o!==e));this.syncRecords(t),this.$nextTick().then((()=>{0===t.length&&this.addRow()}))},addRow(){const e=[...this.records,{project:null,activity:null,dates:{}}];this.syncRecords(e)},updateTime(e,t,o){const a=this.records.map(((a,l)=>{if(l===t){const t={[o]:{date:o,duration:e,id:a.dates[o]?.id,comment:a.dates[o]?.comment}};a.dates={...a.dates,...t}}return a}));this.syncRecords(a)},updateComment(e,t,o,a){const l=this.records.map(((l,n)=>{if(n===o){const o={[a]:{id:e,date:a,comment:t,duration:l.dates[a]?.duration}};l.dates={...l.dates,...o}}return l}));this.syncRecords(l)},updateProject(e,t){const o=this.records.map(((o,a)=>(a===t&&(o.project=e||null,o.customer=e?._customer?e._customer:null),o)));this.updateActivity(null,t),this.syncRecords(o)},updateActivity(e,t){const o=this.records.map(((o,a)=>(a===t&&(o.activity=e?{id:e.id,name:e.label}:null),o)));this.syncRecords(o)},syncRecords(e){this.editable&&this.$emit("update:records",e)},viewComment(e,t,o,a){e.project?.id&&e.activity?.id?(this.commentModalState={date:a,index:o,id:t?.id,project:e.project,activity:e.activity,customer:e.customer},this.showCommentModal=!0):this.$toast.warn({title:this.$t("general.warning"),message:this.$t("time.select_a_project_and_an_activity")})},onCommentModalClose(e){if(e){const{id:t,comment:o}=e,{index:a,date:l}=this.commentModalState;this.updateComment(t,o,a,l)}this.showCommentModal=!1,this.commentModalState=null},getProject(e){const{project:t,customer:o}=e;return t&&t.label?t:t&&o?{id:t.id,label:`${o.name} - ${t.name}`}:null},getActivity(e){return e?{id:e.id,label:e.name}:null},getDuration(e){return e?.duration?e.duration:null},getCommentIcon(e){return e?.comment?"chat-dots-fill":"chat-dots"},isCommentVisible(e,t,o){return!!e?.comment||!!this.editable&&(this.focusedField&&this.focusedField.index===t&&this.focusedField.date===o)},onDurationFocus(e,t){this.focusedField={index:e,date:t}},onDurationBlur(){this.focusedField=null},validateDuration(e){const t=e=>""===e||null===e||dt(e)>=0||this.$t("time.should_be_less_than_24_and_in_hh_mm_or_decimal_format"),o=()=>!(this.dailyTotals[e]>86400)||this.$t("time.total_should_be_less_than_24_hours");return[t,o]}}};const jN=(0,i.Z)(ON,[["render",SN],["__scopeId","data-v-425cbc6c"]]);var zN=jN;function RN(e){const t=(0,a.reactive)({isLoading:!1,employee:null,timesheet:null,timesheetId:null,timesheetRecords:[],timesheetStatus:null,timesheetColumns:null,timesheetSubtotal:null,timesheetAllowedActions:[],date:null}),o=(t,o)=>e.request({method:"GET",url:"/api/v2/time/timesheets/default",params:{date:t,empNumber:o}}),l=(t,o,a,l)=>e.request({method:"PUT",url:l?`/api/v2/time/employees/${l}/timesheets/${t}`:`/api/v2/time/timesheets/${t}`,data:{action:o,comment:a||void 0}}),n=(t,o)=>new Promise((a=>{e.request({method:"GET",url:o?`/api/v2/time/employees/timesheets/${t}/entries`:`/api/v2/time/timesheets/${t}/entries`}).then((e=>{const{data:t,meta:o}=e.data,{timesheet:l,allowedActions:n}=o;a({data:t,meta:o,timesheet:l,allowedActions:n})}))})),r=(t,o,a)=>e.request({method:"PUT",url:a?`/api/v2/time/employees/timesheets/${t}/entries`:`/api/v2/time/timesheets/${t}/entries`,data:{...o}});return{state:t,fetchTimesheet:o,updateTimesheet:l,fetchTimesheetEntries:n,updateTimesheetEntries:r}}function GN(e,t,o){const{state:l,fetchTimesheet:n,updateTimesheet:r,fetchTimesheetEntries:i}=RN(e),{noRecordsFound:s,success:d}=ao(),{$t:c}=Ne(),{jsDateFormat:m}=Ae(),{locale:u}=pt();l.date=t||Ke(Je(),"yyyy-MM-dd");const p=e=>{e&&null===Xe(e)||(l.isLoading=!0,n(e,o).then((e=>{const{data:t}=e.data;return l.timesheet=t,l.timesheetId=t.id,t.id?i(t.id,void 0!==o):null})).then((e=>{if(null!==e){const{data:t,meta:o,timesheet:a,allowedActions:n}=e;l.timesheetRecords=t,l.employee=o.employee,l.timesheetColumns=o.columns,l.timesheetSubtotal=o.sum.label,l.timesheetStatus=a.status.name,l.timesheetAllowedActions=n,0===t.length&&s()}else l.employee=null,l.timesheetRecords=[],l.timesheetColumns=null,l.timesheetStatus=null,l.timesheetSubtotal=null,l.timesheetAllowedActions=[]})).finally((()=>{l.isLoading=!1})))};(0,a.watchEffect)((async()=>l.date&&p(l.date)));const h=()=>{const e=Xe(String(l.date),"yyyy-MM-dd")??Je();e.setDate(e.getDate()-7),l.date=Ke(e,"yyyy-MM-dd")},g=()=>{const e=Xe(String(l.date),"yyyy-MM-dd")??Je();e.setDate(e.getDate()+7),l.date=Ke(e,"yyyy-MM-dd")},v=()=>{l.timesheetId&&U("/time/editTimesheet/{id}",{id:l.timesheetId})},f=()=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"SUBMIT",null,o).then((()=>{d({title:c("general.success"),message:c("time.timesheet_submitted")}),l.timesheetId=null,p(l.date)})))},y=()=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"RESET",null,o).then((()=>{d({title:c("general.success"),message:c("time.timesheet_reset")}),l.timesheetId=null,p(l.date)})))},C=e=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"APPROVE",e,o).then((()=>{d({title:c("general.success"),message:c("time.timesheet_approved")}),l.timesheetId=null,p(l.date)})))},b=e=>{l.timesheetId&&(l.isLoading=!0,r(l.timesheetId,"REJECT",e,o).then((()=>{d({title:c("general.success"),message:c("time.timesheet_rejected")}),l.timesheetId=null,p(l.date)})))},V=()=>{l.isLoading=!0,e.request({method:"POST",url:o?`/api/v2/time/employees/${o}/timesheets`:"/api/v2/time/timesheets",data:{date:l.date}}).then((()=>{d({title:c("general.success"),message:c("time.timesheet_successfully_created")}),p(l.date)}))},x=(0,a.computed)((()=>!l.isLoading&&!l.timesheetId)),w=(0,a.computed)((()=>l.timesheetAllowedActions.find((e=>"SUBMIT"===e.action)))),N=(0,a.computed)((()=>l.timesheetAllowedActions.find((e=>"APPROVE"===e.action)))),k=(0,a.computed)((()=>l.timesheetAllowedActions.find((e=>"REJECT"===e.action)))),_=(0,a.computed)((()=>l.timesheetAllowedActions.find((e=>"RESET"===e.action)))),S=(0,a.computed)((()=>l.timesheetAllowedActions.find((e=>"MODIFY"===e.action)))),D=(0,a.computed)((()=>{const e=Xe(String(l.date),"yyyy-MM-dd")??Je();return e>Je()})),$=(0,a.computed)((()=>{const e=Xe(l.timesheet?.startDate||""),t=Xe(l.timesheet?.endDate||"");return e&&t?`${Ke(e,m,{locale:u})} ${c("general.to").toLowerCase()} ${Ke(t,m,{locale:u})}`:null}));return{state:l,onClickEdit:v,onClickNext:g,onClickReset:y,onClickSubmit:f,onClickReject:b,onClickApprove:C,onClickPrevious:h,timesheetPeriod:$,canEditTimesheet:S,canResetTimesheet:_,canSubmitTimesheet:w,canRejectTimesheet:k,canCreateTimesheet:D,canApproveTimesheet:N,showCreateTimesheet:x,onClickCreateTimesheet:V}}const ZN={class:"orangehrm-timeperiod-picker"};function QN(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("date-input");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ZN,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-timeperiod-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.timesheet_period")),1)])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-timeperiod-icon --prev",name:"chevron-left",onClick:t[0]||(t[0]=t=>e.$emit("previous",t))}),(0,a.createVNode)(d,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.$attrs)),null,16),(0,a.createVNode)(s,{class:"orangehrm-timeperiod-icon --next",name:"chevron-right",onClick:t[1]||(t[1]=t=>e.$emit("next",t))})])}var HN={name:"TimesheetPeriod",inheritAttrs:!1,emits:["previous","next"]};const WN=(0,i.Z)(HN,[["render",QN],["__scopeId","data-v-e0a5176c"]]);var YN=WN;const JN={key:0,class:"orangehrm-paper-container"},XN={class:"orangehrm-header-container"},KN={class:"orangehrm-container"},ek={class:"orangehrm-bottom-container"},tk={key:1};function ok(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-card-table"),d=(0,a.resolveComponent)("oxd-pagination");return l.total>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",JN,[(0,a.createElementVNode)("div",XN,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.actions_performed_on_the_timesheet")),1)])),_:1})]),(0,a.createElementVNode)("div",KN,[(0,a.createVNode)(s,{headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",ek,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])):((0,a.openBlock)(),(0,a.createElementBlock)("div",tk))}var ak={name:"TimesheetActions",props:{timesheetId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/time/timesheets/${e.timesheetId}/action-logs`),{$t:o}=Ne(),{jsDateFormat:a}=Ae(),{locale:l}=pt(),n=e=>e.map((e=>{let t,n=e.action?.label;const r=e.performedEmployee?.firstName,i=e.performedEmployee?.lastName;switch(n){case"Submitted":n=o("time.submitted");break;case"Rejected":n=o("leave.rejected");break;case"Not Submitted":n=o("time.not_submitted");break;case"Approved":n=o("time.approved");break}return t=r&&i?`${r} ${i}`:o("general.purged_employee"),e.performedEmployee?.terminationId&&(t+=` (${o("general.past_employee")})`),{id:e.id,action:n,date:Ke(Xe(e.date),a,{locale:l}),comment:e.comment,performedBy:t}})),{showPaginator:r,currentPage:i,total:s,pages:d,pageSize:c,response:m,isLoading:u,execQuery:p}=so(t,{toastNoRecords:!1,normalizer:n});return{http:t,showPaginator:r,currentPage:i,isLoading:u,total:s,pages:d,pageSize:c,execQuery:p,items:m}},data(){return{headers:[{name:"action",slot:"title",title:this.$t("general.actions"),style:{flex:1}},{name:"performedBy",title:this.$t("general.performed_by"),style:{flex:1}},{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"comment",cellType:"oxd-table-cell-truncate",title:this.$t("general.comment"),style:{flex:1}}]}}};const lk=(0,i.Z)(ak,[["render",ok]]);var nk=lk,rk={components:{timesheet:zN,"timesheet-period":YN,"timesheet-actions":nk},props:{startDate:{type:String,required:!1,default:null}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),{state:o,onClickEdit:l,onClickNext:n,onClickSubmit:r,onClickPrevious:i,timesheetPeriod:s,canEditTimesheet:d,canSubmitTimesheet:c,canCreateTimesheet:m,showCreateTimesheet:u,onClickCreateTimesheet:p}=GN(t,e.startDate);return{onClickEdit:l,onClickNext:n,onClickSubmit:r,onClickPrevious:i,...(0,a.toRefs)(o),timesheetPeriod:s,canEditTimesheet:d,canSubmitTimesheet:c,canCreateTimesheet:m,showCreateTimesheet:u,onClickCreateTimesheet:p}},data(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{myTimesheetStatus(){return this.statuses.find((e=>e.name===this.timesheetStatus))?.label||null}}};const ik=(0,i.Z)(rk,[["render",Yw]]);var sk=ik;const dk={class:"orangehrm-background-container"};function ck(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("timesheet");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dk,[(0,a.createVNode)(d,{records:e.timesheetRecords,"onUpdate:records":t[0]||(t[0]=t=>e.timesheetRecords=t),editable:!0,loading:e.isLoading,"timesheet-id":o.timesheetId,columns:e.timesheetColumns,onSubmitValid:l.onSave},{"header-title":(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.title),1)])),_:1})])),"header-options":(0,a.withCtx)((()=>[r.timesheetDateRange?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,tag:"p",class:"orangehrm-timeperiod-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.timesheet_period")),1)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.timesheetDateRange),1)])),_:1})])),"footer-options":(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:l.onClickCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(s,{type:"submit","display-type":"secondary",label:e.$t("general.save")},null,8,["label"])])),_:1},8,["records","loading","timesheet-id","columns","onSubmitValid"])])}var mk={components:{timesheet:zN},props:{myTimesheet:{type:Boolean,default:!1},timesheetId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/time/timesheets");t.setIgnorePath("/api/v2/time/timesheets/[0-9]+/entries");let o=[];const{saveSuccess:l}=ao(),{state:n,fetchTimesheetEntries:r,updateTimesheetEntries:i}=RN(t),{jsDateFormat:s}=Ae(),{locale:d}=pt(),{$tEmpName:c}=il(),m=()=>{n.isLoading=!0,o=[],n.timesheetRecords=[],r(e.timesheetId,!e.myTimesheet).then((e=>{const{data:t,meta:a,timesheet:l,allowedActions:r}=e;n.timesheet=l,n.employee=a.employee,n.timesheetColumns=a.columns,n.timesheetSubtotal=a.sum.label,n.timesheetStatus=l.status.name,n.timesheetAllowedActions=r,t.length>0?(n.timesheetRecords=t,o=JSON.parse(JSON.stringify(t))):(n.timesheetRecords.push({project:null,activity:null,dates:{}}),o.push({project:null,activity:null,dates:{}})),n.isLoading=!1}))},u=()=>m(),p=()=>{e.myTimesheet?U("/time/viewMyTimesheet",{},{startDate:n.timesheet.startDate}):U("/time/viewTimesheet/employeeId/{id}",{id:n.employee?.empNumber},{startDate:n.timesheet.startDate})},h=()=>{n.isLoading=!0;const t={entries:n.timesheetRecords.map((e=>{const t={};for(const o in e.dates){const a=dt(e.dates[o].duration);t[o]={duration:a>0?st(a):"00:00"}}return{projectId:e.project.id,activityId:e.activity.id,dates:t}})),deletedEntries:o.filter((e=>!!e.project&&n.timesheetRecords.findIndex((t=>t.project.id===e.project.id&&t.activity.id===e.activity.id))<0)).map((e=>({projectId:e.project.id,activityId:e.activity.id})))};i(e.timesheetId,t,!e.myTimesheet).then((()=>l())).catch((()=>l())).then((()=>{p()}))};return(0,a.onBeforeMount)((()=>m())),{onSave:h,onClickReset:u,onClickCancel:p,...(0,a.toRefs)(n),jsDateFormat:s,locale:d,translateEmpName:c}},computed:{title(){if(this.myTimesheet)return this.$t("time.edit_timesheet");if(this.employee){const e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return`${this.$t("time.edit_timesheet_for")} ${e}`}return""},timesheetDateRange(){if(!this.timesheet)return"";const e=Ke(Xe(this.timesheet.startDate),this.jsDateFormat,{locale:this.locale}),t=Ke(Xe(this.timesheet.endDate),this.jsDateFormat,{locale:this.locale});return`${e} - ${t}`}}};const uk=(0,i.Z)(mk,[["render",ck],["__scopeId","data-v-54f42850"]]);var pk=uk;const hk={class:"orangehrm-background-container"},gk=(0,a.createElementVNode)("br",null,null,-1),vk={class:"orangehrm-paper-container"},fk={key:0,class:"orangehrm-header-container"},yk={class:"orangehrm-container"},Ck={class:"orangehrm-bottom-container"};function bk(e,t,o,l,n,r){const i=(0,a.resolveComponent)("customer-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("project-autocomplete"),c=(0,a.resolveComponent)("project-admin-autocomplete"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-divider"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("oxd-table-filter"),C=(0,a.resolveComponent)("table-header"),b=(0,a.resolveComponent)("oxd-card-table"),V=(0,a.resolveComponent)("oxd-pagination"),x=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hk,[(0,a.createVNode)(y,{"filter-title":e.$t("general.projects")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.customer,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.customer=e),rules:n.rules.customer},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.project,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.project=e),"exclude-customer-name":!0,rules:n.rules.project},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.projectAdmin,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.projectAdmin=e),"show-delete":!1,rules:n.rules.projectAdmin},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),(0,a.createVNode)(g,{label:e.$t("general.search")},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),gk,(0,a.createElementVNode)("div",vk,[e.$can.create("time_projects")?((0,a.openBlock)(),(0,a.createElementBlock)("div",fk,[(0,a.createVNode)(h,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(C,{selected:n.checkedItems.length,loading:l.isLoading,total:l.total,"show-divider":e.$can.create("time_projects"),onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","show-divider","onDelete"]),(0,a.createElementVNode)("div",yk,[(0,a.createVNode)(b,{selected:n.checkedItems,"onUpdate:selected":t[3]||(t[3]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[4]||(t[4]=e=>l.sortDefinition=e),headers:r.headers,items:l.items?.data,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card",selectable:e.$can.delete("time_projects")},null,8,["selected","order","headers","items","loading","selectable"])]),(0,a.createElementVNode)("div",Ck,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,current:l.currentPage,"onUpdate:current":t[5]||(t[5]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(x,{ref:"deleteDialog"},null,512)])}function Vk(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",clear:!1,label:e.$t("time.customer_name"),"create-options":r.loadCustomers},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var xk={name:"CustomerAutocomplete",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/customers");return{http:e}},methods:{async loadCustomers(e){return new Promise((t=>{e.trim()?this.http.getAll({name:e.trim()}).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:e.name}))))})):t([])}))}}};const wk=(0,i.Z)(xk,[["render",Vk]]);var Nk=wk;const kk={class:"orangehrm-project-admin-input"};function _k(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",kk,[(0,a.createVNode)(i,(0,a.mergeProps)({label:o.showDelete?null:e.$t("time.project_admin"),"api-path":"/api/v2/time/project-admins",params:{includeEmployees:o.includeEmployees}},e.$attrs),null,16,["label","params"]),o.showDelete?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,name:"trash-fill",class:"orangehrm-project-delete-icon","with-container":!1,onClick:r.remove},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])}var Sk={name:"ProjectAdminAutocomplete",components:{"employee-autocomplete":rl},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployees:{type:String,default:"currentAndPast"}},emits:["remove"],methods:{remove(){this.$emit("remove")}}};const Dk=(0,i.Z)(Sk,[["render",_k],["__scopeId","data-v-78aa890e"]]);var $k=Dk;const Tk={customer:null,project:null,projectAdmin:null},Ek={"project.name":"ASC","customer.name":"DEFAULT","employee.lastName":"DEFAULT"};var Ik={components:{"project-autocomplete":AN,"customer-autocomplete":Nk,"delete-confirmation":vo,"project-admin-autocomplete":$k},props:{unselectableIds:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ne(),{$tEmpName:o}=il(),l=a=>a.map((a=>{const l=e.unselectableIds.findIndex((e=>e==a.id));return{id:a.id,project:a.name,customer:a.customer?.deleted?a.customer?.name+t("general.deleted"):a.customer?.name,projectAdmins:a.projectAdmins?.map((e=>o(e))).join(", "),isSelectable:-1===l}})),n=(0,a.ref)({...Tk}),{sortDefinition:r,sortField:i,sortOrder:s,onSort:d}=fo({sortDefinition:Ek}),c=(0,a.computed)((()=>({customerId:n.value.customer?.id,projectId:n.value.project?.id,empNumber:n.value.projectAdmin?.id,sortField:i.value,sortOrder:s.value,model:"detailed"}))),m=new q(window.appGlobal.baseUrl,"/api/v2/time/projects"),{showPaginator:u,currentPage:p,total:h,pages:g,pageSize:v,response:f,isLoading:y,execQuery:C}=so(m,{query:c,normalizer:l});return d(C),{http:m,showPaginator:u,currentPage:p,isLoading:y,total:h,pages:g,pageSize:v,execQuery:C,items:f,filters:n,sortDefinition:r}},data(){return{checkedItems:[],rules:{project:[ia],customer:[ia],projectAdmin:[ia]}}},computed:{headers(){const e=[{name:"customer",title:this.$t("time.customer_name"),sortField:"customer.name",style:{flex:"15%"}},{name:"project",slot:"title",title:this.$t("time.project"),sortField:"project.name",style:{flex:"15%"}},{name:"projectAdmins",title:this.$t("time.project_admins"),style:{flex:"20%"}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("time_projects")&&(t.cellConfig.delete={onClick:this.onClickDelete,props:{name:"trash"}}),this.$can.update("time_project_activities")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0&&e.push(t),e}},methods:{onClickAdd(){U("/time/saveProject")},onClickEdit(e){U("/time/saveProject/{id}",{id:e.id})},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_projects_which_have_time_logged")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData([e.id])}))},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData(e)}))},async deleteData(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const Bk=(0,i.Z)(Ik,[["render",bk]]);var Lk=Bk;const Ak={class:"orangehrm-background-container"},Uk={class:"orangehrm-card-container"},Pk=(0,a.createElementVNode)("br",null,null,-1);function qk(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("customer-autocomplete"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("project-admin-autocomplete"),g=(0,a.resolveComponent)("oxd-form-row"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form"),b=(0,a.resolveComponent)("add-customer-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ak,[(0,a.createElementVNode)("div",Uk,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.add_project")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.project.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(m,{key:n.project.customer,modelValue:n.project.customer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.project.customer=e),rules:n.rules.customer,label:e.$t("time.customer_name"),required:""},null,8,["modelValue","rules","label"])),(0,a.createVNode)(u,{"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:r.onClickAddCustomer},null,8,["label","onClick"])])),_:1})])),_:1}),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.project.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.project.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description,placeholder:e.$t("general.type_description_here")},null,8,["modelValue","label","rules","placeholder"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.projectAdmins,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:t,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,"show-delete":t>0,rules:n.rules.projectAdmin,"include-employees":"onlyCurrent",onRemove:e=>r.onRemoveAdmin(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"])))),128)),n.projectAdmins.length<5?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),Pk,(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),n.showCustomerModal?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,onClose:r.onCustomerModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)])}const Mk={class:"orangehrm-modal-header"};function Fk(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(g,{style:{width:"90%",maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Mk,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.add_customer")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.customer.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.customer.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.customer.description=e),type:"textarea",label:e.$t("general.description"),placeholder:"Type description here",rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,{class:"orangehrm-form-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(u,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const Ok={id:"",name:"",description:""};var jk={name:"AddCustomerModal",components:{"oxd-dialog":n.OxdDialog},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/customers");return e.setIgnorePath("/api/v2/time/validation/customer-name"),{http:e}},data(){return{isLoading:!1,customer:{...Ok},rules:{name:[So,Do(50),(0,n.promiseDebounce)(this.validateCustomerName,500)],description:[Do(255)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.customer.name,description:this.customer.description}).then((e=>{const{data:t}=e.data;this.$toast.saveSuccess(),this.$emit("close",t)}))},onCancel(){this.$emit("close")},validateCustomerName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/time/validation/customer-name",params:{customerName:this.customer.name.trim()}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const zk=(0,i.Z)(jk,[["render",Fk]]);var Rk=zk;const Gk={name:null,customer:null,description:null,projectAdminEmpNumbers:[]};var Zk={name:"ProjectSave",components:{"add-customer-modal":Rk,"customer-autocomplete":Nk,"project-admin-autocomplete":$k},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/projects");return e.setIgnorePath("/api/v2/time/validation/project-name"),{http:e}},data(){return{isLoading:!1,showCustomerModal:!1,projectAdmins:[{value:null}],project:{...Gk},projectId:null,rules:{name:[So,Do(50),(0,n.promiseDebounce)(this.validateProjectName,500)],description:[Do(255)],customer:[So,ia],projectAdmin:[ia,e=>this.projectAdmins.filter((({value:t})=>t&&t.id===e?.id)).length<2||this.$t("general.already_exists")]}}},methods:{onClickAddCustomer(){this.showCustomerModal=!0},onCustomerModalClose(e){if(void 0!==e){const{id:t,name:o}=e;this.project.customer={id:t,label:o}}this.showCustomerModal=!1},onAddAnother(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin(e){this.projectAdmins.splice(e,1)},onCancel(){U("/time/viewProjects")},onSave(){this.isLoading=!0,this.http.create({name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((({value:e})=>e&&e.id)).filter(Number)}).then((e=>(this.projectId=e.data?.data.id,this.$toast.saveSuccess()))).then((()=>{U("/time/saveProject/{id}",{id:this.projectId})}))},validateProjectName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/time/validation/project-name",params:{projectName:this.project.name.trim(),customerId:this.project.customer?.id}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const Qk=(0,i.Z)(Zk,[["render",qk]]);var Hk=Qk;const Wk={class:"orangehrm-background-container"},Yk={class:"orangehrm-card-container"},Jk=(0,a.createElementVNode)("br",null,null,-1),Xk=(0,a.createElementVNode)("br",null,null,-1);function Kk(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("customer-autocomplete"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("project-admin-autocomplete"),g=(0,a.resolveComponent)("oxd-form-row"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form"),b=(0,a.resolveComponent)("activities"),V=(0,a.resolveComponent)("add-customer-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Wk,[(0,a.createElementVNode)("div",Yk,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.edit_project")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.project.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project.name=e),label:e.$t("general.name"),rules:n.rules.name,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(m,{key:n.project.customer,modelValue:n.project.customer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.project.customer=e),label:e.$t("time.customer_name"),rules:n.rules.customer,disabled:!e.$can.update("time_projects"),required:""},null,8,["modelValue","label","rules","disabled"])),e.$can.update("time_projects")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("time.add_customer"),onClick:r.onClickAddCustomer},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.project.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.project.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),disabled:!e.$can.update("time_projects"),rules:n.rules.description},null,8,["modelValue","label","placeholder","disabled","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.projectAdmins,((t,o)=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:o,modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,rules:n.rules.projectAdmin,"show-delete":o>0&&e.$can.update("time_projects"),disabled:!e.$can.update("time_projects"),"include-employees":"onlyCurrent",onRemove:e=>r.onRemoveAdmin(o)},null,8,["modelValue","onUpdate:modelValue","rules","show-delete","disabled","onRemove"])))),128)),n.projectAdmins.length<5&&e.$can.update("time_projects")?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"icon-name":"plus","display-type":"text",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),Jk,(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),e.$can.update("time_projects")?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),Xk,(0,a.createVNode)(b,{"project-id":o.projectId,"unselectable-ids":o.unselectableIds},null,8,["project-id","unselectable-ids"]),n.showCustomerModal?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,onClose:r.onCustomerModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)])}const e_={class:"orangehrm-paper-container"},t_={class:"orangehrm-header-container"},o_={class:"orangehrm-main-actions"},a_={class:"orangehrm-container"},l_={class:"orangehrm-bottom-container"};function n_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation"),p=(0,a.resolveComponent)("copy-activity-modal"),h=(0,a.resolveComponent)("save-activity-modal"),g=(0,a.resolveComponent)("edit-activity-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",e_,[(0,a.createElementVNode)("div",t_,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.activities")),1)])),_:1}),(0,a.createElementVNode)("div",o_,[(0,a.createVNode)(s,{label:e.$t("time.copy_from"),"display-type":"ghost",onClick:r.onClickCopyFrom},null,8,["label","onClick"]),(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),(0,a.createElementVNode)("div",a_,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",l_,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512),n.showCopyFromModal?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,"project-id":o.projectId,onClose:r.onCloseModal},null,8,["project-id","onClose"])):(0,a.createCommentVNode)("",!0),n.showSaveActivityModal?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,"project-id":o.projectId,onClose:r.onCloseModal},null,8,["project-id","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditActivityModal?((0,a.openBlock)(),(0,a.createBlock)(g,{key:2,"project-id":o.projectId,"activity-id":n.editActivityModalState,onClose:r.onCloseModal},null,8,["project-id","activity-id","onClose"])):(0,a.createCommentVNode)("",!0)])}const r_={class:"orangehrm-modal-header"};function i_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("project-autocomplete"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid-item"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(C,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",r_,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.copy_activity")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.project,"onUpdate:modelValue":t[0]||(t[0]=e=>n.project=e),rules:n.rules.project,"only-allowed":!1,label:e.$t("time.project_name"),"exclude-project-ids":[o.projectId],required:""},null,8,["modelValue","rules","label","exclude-project-ids"])])),_:1}),n.activities&&n.activities.length>0?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s),(0,a.createVNode)(p,{cols:2,class:"orangehrm-activites-container"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.activities,(e=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.id},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.selectedActivities,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedActivities=e),type:"checkbox",value:e.id,disabled:!e.unique,"option-label":e.name},null,8,["modelValue","value","disabled","option-label"])])),_:2},1024)))),128))])),_:1})],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var s_={name:"CopyActivityModal",components:{"oxd-dialog":n.OxdDialog,"project-autocomplete":AN},props:{projectId:{type:Number,required:!0}},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"");return{http:e}},data(){return{isLoading:!1,project:null,activities:null,selectedActivities:[],rules:{project:[So,ia,()=>{if(null!==this.activities&&0===this.activities.length)return this.$t("time.no_assigned_activities");if(Array.isArray(this.activities)&&0===this.selectedActivities.length){const e=this.activities.find((e=>!0===e.unique));return e?this.$t("time.no_activities_selected"):this.$t("general.already_exists")}return!0}]}}},watch:{project(e){this.activities=null,this.selectedActivities=[],e&&(this.isLoading=!0,this.http.request({method:"GET",url:`/api/v2/time/projects/${this.projectId}/activities/copy/${e.id}`,params:{limit:0}}).then((e=>{const{data:t}=e.data;this.activities=t,this.selectedActivities=Array.isArray(t)?t.filter((e=>!0===e.unique)).map((e=>e.id)):[],this.isLoading=!1})))}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"POST",url:`/api/v2/time/projects/${this.projectId}/activities/copy/${this.project.id}`,data:{activityIds:this.selectedActivities}}).then((()=>{this.$toast.updateSuccess(),this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const d_=(0,i.Z)(s_,[["render",i_],["__scopeId","data-v-789130a9"]]);var c_=d_;const m_={class:"orangehrm-modal-header"};function u_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",m_,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.add_project_activity")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var p_={name:"SaveActivityModal",components:{"oxd-dialog":n.OxdDialog},props:{projectId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`);return{http:t}},data(){return{isLoading:!1,name:"",rules:{name:[So,Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;t&&this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));return!(o>-1)||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.name}).then((()=>{this.$toast.saveSuccess(),this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const h_=(0,i.Z)(p_,[["render",u_]]);var g_=h_;const v_={class:"orangehrm-modal-header"};function f_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",v_,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.edit_project_activity")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var y_={name:"SaveActivityModal",components:{"oxd-dialog":n.OxdDialog},props:{projectId:{type:Number,required:!0},activityId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`);return{http:t}},data(){return{isLoading:!1,name:"",rules:{name:[So,Do(100)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.activityId).then((e=>{const{data:t}=e.data;return this.name=t.name,this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>String(t.name).toLowerCase()==String(e).toLowerCase()));if(o>-1){const{id:e}=t[o];return e==this.activityId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.activityId,{name:this.name}).then((()=>{this.$toast.updateSuccess(),this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const C_=(0,i.Z)(y_,[["render",f_]]);var b_=C_,V_={name:"Activities",components:{"copy-activity-modal":c_,"save-activity-modal":g_,"edit-activity-modal":b_,"delete-confirmation":vo},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/time/project/${e.projectId}/activities`),o=t=>t.map((t=>{const o=e.unselectableIds.findIndex((e=>e==t.id));return{...t,isSelectable:-1===o}})),{showPaginator:a,currentPage:l,total:n,pages:r,pageSize:i,response:s,isLoading:d,execQuery:c}=so(t,{normalizer:o});return{http:t,showPaginator:a,currentPage:l,isLoading:d,total:n,pages:r,pageSize:i,execQuery:c,items:s}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("time.activity_name"),style:{"flex-basis":"80%"}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{"flex-shrink":1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],showCopyFromModal:!1,showSaveActivityModal:!1,showEditActivityModal:!1,editActivityModalState:null}},methods:{onClickAdd(){this.showSaveActivityModal=!0},onClickEdit(e){this.editActivityModalState=e.id,this.showEditActivityModal=!0},onClickCopyFrom(){this.showCopyFromModal=!0},onCloseModal(){this.showCopyFromModal=!1,this.showSaveActivityModal=!1,this.showEditActivityModal=!1,this.resetDataTable()},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.error({title:this.$t("general.error"),message:this.$t("time.not_allowed_to_delete_project_activities_which_have_time_logged_against")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>{this.$toast.deleteSuccess(),this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const x_=(0,i.Z)(V_,[["render",n_],["__scopeId","data-v-78f3e421"]]);var w_=x_;const N_={name:null,customer:{id:null,label:null},description:null,projectAdminEmpNumbers:[]};var k_={name:"ProjectEdit",components:{activities:w_,"add-customer-modal":Rk,"customer-autocomplete":Nk,"project-admin-autocomplete":$k},props:{projectId:{type:Number,required:!0},unselectableIds:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/projects");return e.setIgnorePath("/api/v2/time/validation/project-name"),{http:e}},data(){return{isLoading:!1,projectAdmins:[{value:null}],project:{...N_},showCustomerModal:!1,rules:{name:[So,Do(50)],description:[Do(255)],customer:[So,ia],projectAdmin:[ia,e=>this.projectAdmins.filter((({value:t})=>t&&t.id===e?.id)).length<2||this.$t("general.already_exists")]}}},beforeMount(){this.isLoading=!0;const{$tEmpName:e}=il();this.http.get(this.projectId,{model:"detailed"}).then((t=>{const{data:o}=t.data;this.project.name=o.name,this.project.description=o.description,this.project.customer={id:o.customer.id,label:o.customer.name},Array.isArray(o.projectAdmins)&&o.projectAdmins.length>0&&(this.projectAdmins=o.projectAdmins.map((t=>({value:{id:t.empNumber,label:e(t,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!t.terminationId}}))))})).finally((()=>{this.rules.name.push((0,n.promiseDebounce)(this.validateProjectName,500)),this.isLoading=!1}))},methods:{onClickAddCustomer(){this.showCustomerModal=!0},onCustomerModalClose(e){if(void 0!==e){const{id:t,name:o}=e;this.project.customer={id:t,label:o}}this.showCustomerModal=!1},onAddAnother(){this.projectAdmins.length<5&&this.projectAdmins.push({value:null})},onRemoveAdmin(e){this.projectAdmins.splice(e,1)},onCancel(){U("/time/viewProjects")},onSave(){this.isLoading=!0,this.http.update(this.projectId,{name:this.project.name,description:this.project.description,customerId:this.project.customer.id,projectAdminsEmpNumbers:this.projectAdmins.map((({value:e})=>e&&e.id)).filter(Number)}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},validateProjectName(e){return new Promise((t=>{e?this.http.request({method:"GET",url:"/api/v2/time/validation/project-name",params:{projectId:this.projectId,projectName:this.project.name.trim(),customerId:this.project.customer?.id}}).then((e=>{const{data:o}=e.data;return!0===o.valid?t(!0):t(this.$t("general.already_exists"))})):t(!0)}))}}};const __=(0,i.Z)(k_,[["render",Kk]]);var S_=__;const D_={class:"orangehrm-background-container"},$_={class:"orangehrm-card-container"},T_=(0,a.createElementVNode)("br",null,null,-1);function E_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("timesheet-pending-actions");return(0,a.openBlock)(),(0,a.createElementBlock)("div",D_,[(0,a.createElementVNode)("div",$_,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.select_employee")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{onSubmitValid:r.viewTimesheet},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employee=e),rules:n.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{label:e.$t("general.view")},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])]),T_,(0,a.createVNode)(f)])}const I_={class:"orangehrm-paper-container"},B_={class:"orangehrm-header-container"},L_={class:"orangehrm-container"},A_={class:"orangehrm-bottom-container"};function U_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",I_,[(0,a.createElementVNode)("div",B_,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.timesheets_pending_action")),1)])),_:1})]),(0,a.createVNode)(s,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",L_,[(0,a.createVNode)(d,{headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",A_,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])}var P_={name:"TimesheetPendingActions",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/time/employees/timesheets/list"),{$t:t}=Ne(),{jsDateFormat:o}=Ae(),{locale:a}=pt(),l=e=>e.map((e=>{const l=Ke(Xe(e.startDate),o,{locale:a}),n=Ke(Xe(e.endDate),o,{locale:a}),r=`${e.employee?.firstName} ${e.employee?.middleName} ${e.employee?.lastName}`;return e.employee?.terminationId&&t("general.past_employee"),{id:e.id,startDate:e.startDate,empNumber:e.employee.empNumber,period:`${l} - ${n}`,employee:r}})),{showPaginator:n,currentPage:r,total:i,pages:s,pageSize:d,response:c,isLoading:m,execQuery:u}=so(e,{normalizer:l});return{http:e,showPaginator:n,currentPage:r,isLoading:m,total:i,pages:s,pageSize:d,execQuery:u,items:c}},data(){return{headers:[{name:"employee",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"period",title:this.$t("time.timesheet_period"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{onClickView(e){U("/time/viewTimesheet/employeeId/{empNumber}",{empNumber:e.empNumber},{startDate:e.startDate})}}};const q_=(0,i.Z)(P_,[["render",U_],["__scopeId","data-v-1a8cbf98"]]);var M_=q_,F_={components:{"employee-autocomplete":rl,"timesheet-pending-actions":M_},data(){return{employee:null,rules:{employee:[So,ia]}}},methods:{viewTimesheet(){U("/time/viewTimesheet/employeeId/{id}",{id:this.employee?.id})}}};const O_=(0,i.Z)(F_,[["render",E_]]);var j_=O_;const z_={class:"orangehrm-background-container"},R_=(0,a.createElementVNode)("br",null,null,-1),G_=(0,a.createElementVNode)("br",null,null,-1);function Z_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("timesheet-period"),d=(0,a.resolveComponent)("oxd-button"),c=(0,a.resolveComponent)("timesheet"),m=(0,a.resolveComponent)("save-timesheet-action"),u=(0,a.resolveComponent)("timesheet-actions");return(0,a.openBlock)(),(0,a.createElementBlock)("div",z_,[(0,a.createVNode)(c,{loading:e.isLoading,columns:e.timesheetColumns,records:e.timesheetRecords,"timesheet-id":e.timesheetId,subtotal:e.timesheetSubtotal},{"header-title":(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.title),1)])),_:1})])),"header-options":(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=t=>e.date=t),value:l.timesheetPeriod,onNext:l.onClickNext,onPrevious:l.onClickPrevious},null,8,["modelValue","value","onNext","onPrevious"])])),"footer-title":(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.status"))+": "+(0,a.toDisplayString)(r.employeeTimesheetStatus),1)])),_:1},512),[[a.vShow,e.timesheetStatus]])])),"footer-options":(0,a.withCtx)((()=>[l.showCreateTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"display-type":"secondary",disabled:l.canCreateTimesheet,label:e.$t("time.create_timesheet"),onClick:l.onClickCreateTimesheet},null,8,["disabled","label","onClick"])):(0,a.createCommentVNode)("",!0),l.canEditTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,"display-type":"ghost",label:e.$t("general.edit"),onClick:l.onClickEdit},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),l.canResetTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,"display-type":"ghost",label:e.$t("general.reset"),onClick:l.onClickReset},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),l.canSubmitTimesheet?((0,a.openBlock)(),(0,a.createBlock)(d,{key:3,"display-type":"secondary",label:e.$t("general.submit"),onClick:l.onClickSubmit},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","columns","records","timesheet-id","subtotal"]),R_,e.timesheetId&&(l.canRejectTimesheet||l.canApproveTimesheet)?((0,a.openBlock)(),(0,a.createBlock)(m,{key:e.timesheetId,"is-loading":e.isLoading,"reject-timesheet":l.onClickReject,"approve-timesheet":l.onClickApprove,"can-reject-timesheet":!!l.canRejectTimesheet,"can-approve-timesheet":!!l.canApproveTimesheet},null,8,["is-loading","reject-timesheet","approve-timesheet","can-reject-timesheet","can-approve-timesheet"])):(0,a.createCommentVNode)("",!0),G_,e.timesheetId?((0,a.openBlock)(),(0,a.createBlock)(u,{key:e.timesheetId,"timesheet-id":e.timesheetId},null,8,["timesheet-id"])):(0,a.createCommentVNode)("",!0)])}const Q_={class:"orangehrm-card-container"};function H_(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Q_,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.timesheet_action")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{ref:"formRef",loading:o.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>l.comment=e),type:"textarea",placeholder:e.$t("general.type_here_message"),rules:l.rules.comment,label:e.$t("general.comment")},null,8,["modelValue","placeholder","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[o.canRejectTimesheet?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:l.onClickReject},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),o.canApproveTimesheet?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,label:e.$t("general.approve"),"display-type":"success",class:"orangehrm-left-space",onClick:l.onClickApprove},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1},8,["loading"])])}var W_={name:"SaveTimesheetAction",props:{isLoading:{type:Boolean,required:!0},rejectTimesheet:{type:Function,required:!0},approveTimesheet:{type:Function,required:!0},canRejectTimesheet:{type:Boolean,required:!0},canApproveTimesheet:{type:Boolean,required:!0}},setup(e){const{formRef:t,invalid:o,validate:l}=vm(),n=(0,a.ref)(""),r={comment:[Do(250)]},i=()=>{l().then((()=>!1===o.value&&e.approveTimesheet(n.value)))},s=()=>{l().then((()=>!1===o.value&&e.rejectTimesheet(n.value)))};return{rules:r,comment:n,formRef:t,onClickReject:s,onClickApprove:i}}};const Y_=(0,i.Z)(W_,[["render",H_]]);var J_=Y_,X_={components:{timesheet:zN,"timesheet-period":YN,"timesheet-actions":nk,"save-timesheet-action":J_},props:{employee:{type:Object,required:!0},startDate:{type:String,required:!1,default:null}},setup(e){const t=new q(window.appGlobal.baseUrl,"/api/v2/time/timesheets"),{state:o,onClickEdit:l,onClickNext:n,onClickReset:r,onClickSubmit:i,onClickReject:s,onClickApprove:d,onClickPrevious:c,timesheetPeriod:m,canEditTimesheet:u,canResetTimesheet:p,canSubmitTimesheet:h,canRejectTimesheet:g,canCreateTimesheet:v,canApproveTimesheet:f,showCreateTimesheet:y,onClickCreateTimesheet:C}=GN(t,e.startDate,e.employee.empNumber),{employee:b,...V}=(0,a.toRefs)(o),{$tEmpName:x}=il();return{...V,onClickEdit:l,onClickNext:n,onClickReset:r,onClickSubmit:i,onClickReject:s,onClickApprove:d,onClickPrevious:c,timesheetPeriod:m,canEditTimesheet:u,canResetTimesheet:p,canSubmitTimesheet:h,canRejectTimesheet:g,canCreateTimesheet:v,canApproveTimesheet:f,showCreateTimesheet:y,onClickCreateTimesheet:C,translateEmpName:x}},data(){return{statuses:[{id:1,label:this.$t("time.submitted"),name:"Submitted"},{id:2,label:this.$t("leave.rejected"),name:"Rejected"},{id:3,label:this.$t("time.not_submitted"),name:"Not Submitted"},{id:4,label:this.$t("time.approved"),name:"Approved"}]}},computed:{title(){const e=this.translateEmpName(this.employee,{includeMiddle:!1,excludePastEmpTag:!1});return`${this.$t("time.timesheet_for")} ${e}`},employeeTimesheetStatus(){return this.statuses.find((e=>e.name===this.timesheetStatus))?.label||null}}};const K_=(0,i.Z)(X_,[["render",Z_]]);var eS=K_;const tS=e=>((0,a.pushScopeId)("data-v-17d6a43f"),e=e(),(0,a.popScopeId)(),e),oS=tS((()=>(0,a.createElementVNode)("br",null,null,-1)));function aS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("project-autocomplete"),u=(0,a.resolveComponent)("activity-dropdown"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("oxd-text"),g=(0,a.resolveComponent)("oxd-switch-input"),v=(0,a.resolveComponent)("oxd-divider"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("oxd-table-filter"),x=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(x,{module:"time",name:"employee",filters:l.serializedFilters,"column-count":3},{default:(0,a.withCtx)((({generateReport:o})=>[(0,a.createVNode)(V,{"filter-title":e.$t("time.employee_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.project,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),"only-allowed":!1},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.activity,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.activity=e),label:e.$t("time.activity_name"),"project-id":l.filters.project&&l.filters.project.id},null,8,["modelValue","label","project-id"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.toDate=e),label:"",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-switch-filter --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"orangehrm-switch-filter-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.only_include_approved_timesheets")),1)])),_:1}),(0,a.createVNode)(g,{modelValue:l.filters.timesheetState,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.timesheetState=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),oS])),footer:(0,a.withCtx)((({data:t})=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(t.meta?t.meta.sum.label:"0.00"),1)])),_:1},8,["filters"])}const lS={employee:null,project:null,activity:null,fromDate:null,toDate:null,timesheetState:!1};var nS={components:{"reports-table":Ox,"oxd-switch-input":n.OxdSwitchInput,"activity-dropdown":EN,"project-autocomplete":AN,"employee-autocomplete":rl},setup(){const e=(0,a.ref)({...lS}),{$t:t}=Ne(),{userDateFormat:o}=Ae(),l={project:[ia],employee:[So,ia],fromDate:[$o(o),Wo((()=>e.value.toDate),t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(o),Fo((()=>e.value.fromDate),t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},n=(0,a.computed)((()=>({empNumber:e.value.employee?.id,projectId:e.value.project?.id,activityId:e.value.activity?.id,fromDate:e.value.fromDate,toDate:e.value.toDate,timesheetState:e.value.timesheetState?"onlyApproved":"all"})));return{rules:l,filters:e,serializedFilters:n}}};const rS=(0,i.Z)(nS,[["render",aS],["__scopeId","data-v-17d6a43f"]]);var iS=rS;const sS=e=>((0,a.pushScopeId)("data-v-e0465754"),e=e(),(0,a.popScopeId)(),e),dS=sS((()=>(0,a.createElementVNode)("br",null,null,-1)));function cS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("project-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("oxd-text"),p=(0,a.resolveComponent)("oxd-switch-input"),h=(0,a.resolveComponent)("oxd-divider"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("oxd-table-filter"),b=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(b,{module:"time",name:"project",prefetch:null!==o.project,filters:l.serializedFilters,"column-count":2},{default:(0,a.withCtx)((({generateReport:o})=>[(0,a.createVNode)(C,{"filter-title":e.$t("time.project_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.project,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range")},null,8,["modelValue","placeholder","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.toDate=e),label:"",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-switch-filter --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"orangehrm-switch-filter-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.only_include_approved_timesheets")),1)])),_:1}),(0,a.createVNode)(p,{modelValue:l.filters.includeTimesheet,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeTimesheet=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),dS])),footer:(0,a.withCtx)((({data:t})=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(t.meta?t.meta.sum.label:"0.00"),1)])),_:1},8,["prefetch","filters"])}const mS={project:null,fromDate:null,toDate:null,includeTimesheet:!1};var uS={components:{"reports-table":Ox,"oxd-switch-input":n.OxdSwitchInput,"project-autocomplete":AN},props:{project:{type:Object,required:!1,default:null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup(e){const t=(0,a.ref)({...mS,fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet,...e.project&&{project:e.project}}),{$t:o}=Ne(),{userDateFormat:l}=Ae(),n={project:[So,ia],fromDate:[$o(l),Wo((()=>t.value.toDate),o("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(l),Fo((()=>t.value.fromDate),o("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=(0,a.computed)((()=>({projectId:t.value.project?.id,fromDate:t.value.fromDate,toDate:t.value.toDate,includeTimesheet:t.value.includeTimesheet?"onlyApproved":"all"})));return{rules:n,filters:t,serializedFilters:r}}};const pS=(0,i.Z)(uS,[["render",cS],["__scopeId","data-v-e0465754"]]);var hS=pS;const gS=e=>((0,a.pushScopeId)("data-v-b9b0d77c"),e=e(),(0,a.popScopeId)(),e),vS=gS((()=>(0,a.createElementVNode)("br",null,null,-1)));function fS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("project-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("activity-dropdown"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("date-input"),p=(0,a.resolveComponent)("oxd-text"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("oxd-table-filter"),x=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(x,{module:"time",name:"activity_detailed",prefetch:!0,filters:l.serializedFilters,"column-count":2},{default:(0,a.withCtx)((({generateReport:o})=>[(0,a.createVNode)(V,{"filter-title":e.$t("time.project_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.project,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.project=e),rules:l.rules.project,label:e.$t("time.project_name"),required:"",disabled:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.activity,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.activity=e),rules:l.rules.activity,label:e.$t("time.activity_name"),"project-id":l.filters.project&&l.filters.project.id,required:""},null,8,["modelValue","rules","label","project-id"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("time.project_date_range"),disabled:""},null,8,["modelValue","placeholder","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.toDate=e),label:"",placeholder:e.$t("general.to"),rules:l.rules.toDate,disabled:""},null,8,["modelValue","placeholder","rules"])])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-switch-filter --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-switch-filter-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.only_include_approved_timesheets")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:l.filters.includeTimesheet,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.includeTimesheet=e),disabled:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.back"),onClick:l.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(y,{label:e.$t("general.view")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),vS])),footer:(0,a.withCtx)((({data:t})=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(t.meta?t.meta.sum.label:"0.00"),1)])),_:1},8,["filters"])}const yS={project:null,activity:null,fromDate:null,toDate:null,includeTimesheet:!1};var CS={components:{"reports-table":Ox,"oxd-switch-input":n.OxdSwitchInput,"activity-dropdown":EN,"project-autocomplete":AN},props:{project:{type:Object,required:!0},activity:{type:Object,required:!0},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},includeTimesheet:{type:Boolean,default:!1}},setup(e){const{$t:t}=Ne(),o=(0,a.ref)({...yS,fromDate:e.fromDate,toDate:e.toDate,includeTimesheet:e.includeTimesheet,...e.project&&{project:e.project},...e.activity&&{activity:e.activity}}),{userDateFormat:l}=Ae(),n={project:[So],activity:[So,ia],fromDate:[$o(l),Wo((()=>o.value.toDate),t("attendance.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(l),Fo((()=>o.value.fromDate),t("attendance.to_date_should_be_after_from_date"),{allowSameDate:!0})]},r=(0,a.computed)((()=>({projectId:o.value.project?.id,activityId:o.value.activity?.id,fromDate:o.value.fromDate,toDate:o.value.toDate,includeTimesheet:o.value.includeTimesheet?"onlyApproved":"all"}))),i=()=>{U("/time/displayProjectReportCriteria",void 0,{projectId:e.project.id,fromDate:e.fromDate,toDate:e.fromDate,includeTimesheet:e.includeTimesheet?"onlyApproved":"all"})};return{rules:n,filters:o,onClickBack:i,serializedFilters:r}}};const bS=(0,i.Z)(CS,[["render",fS],["__scopeId","data-v-b9b0d77c"]]);var VS=bS,xS={"time-sheet-period":ww,"customer-list":Bw,"customer-save":Fw,"customer-edit":Qw,"my-timesheet":sk,"edit-timesheet":pk,"project-list":Lk,"project-save":Hk,"project-edit":S_,"employee-timesheet":j_,"view-employee-timesheet":eS,"employee-time-report":iS,"project-activity-report":hS,"activity-details-report":VS};const wS={class:"orangehrm-background-container"},NS={class:"orangehrm-card-container"};function kS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-input-group"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wS,[(0,a.createElementVNode)("div",NS,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.leave_period")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leavePeriod.startMonth,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leavePeriod.startMonth=e),type:"select",options:r.months,rules:n.rules.startMonth,label:e.$t("leave.start_month"),required:""},null,8,["modelValue","options","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leavePeriod.startDay,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leavePeriod.startDay=e),type:"select",options:r.dates,rules:n.rules.startDay,label:e.$t("general.start_date"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{label:e.$t("general.end_date")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.endDay),1)])),_:1})])),_:1},8,["label"])])),_:1}),n.leavePeriod.currentPeriod?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{label:e.$t("leave.current_leave_period")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2",class:"orangehrm-leave-period"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.leavePeriod.currentPeriod),1)])),_:1})])),_:1},8,["label"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const _S={startMonth:null,startDay:null,currentPeriod:null};var SS={props:{monthDates:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-period"),{jsDateFormat:t}=Ae(),{locale:o}=pt();return{http:e,jsDateFormat:t,locale:o}},data(){return{isLoading:!1,leavePeriod:{..._S},leavePeriodDefined:!0,rules:{startMonth:[So],startDay:[So]}}},computed:{months(){return Array(12).fill("").map(((...[,e])=>({id:e+1,label:this.locale.localize.month(e,{width:"wide"})})))},dates(){return(this.monthDates[this.leavePeriod.startMonth?.id]??[]).map((e=>({id:e,label:String(e).padStart(2,"0")})))},endDay(){const e=this.leavePeriod.startMonth?.id,t=this.leavePeriod.startDay?.id,o=(new Date).getFullYear();if(e&&t){const a=(0,He.Z)(new Date(o,e-1,t),364),l=a.getFullYear()>o;return Ke(a,"LLLL dd",{locale:this.locale})+(l?` (${this.$t("leave.following_year")})`:"")}return"-"}},watch:{"leavePeriod.startMonth":function(){this.leavePeriod.startDay=this.dates.length>0?this.dates[0]:null}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then((e=>{const{data:t,meta:o}=e.data;this.updateLeavePeriodModel(t),this.defineLeavePeriod(o),this.resetLeavePeriod()})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{startMonth:this.leavePeriod.startMonth?.id,startDay:this.leavePeriod.startDay?.id}}).then((e=>{const{data:t,meta:o}=e.data;return this.updateLeavePeriodModel(t),this.defineLeavePeriod(o),this.resetLeavePeriod(),this.$toast.saveSuccess()})).then((()=>{this.isLoading=!1,this.leavePeriodDefined||P()}))},onClickReset(){this.resetLeavePeriod()},resetLeavePeriod(){this.leavePeriod.startMonth=_S.startMonth,this.$nextTick((()=>{this.leavePeriod.startDay=_S.startDay}))},updateLeavePeriodModel(e){_S.startMonth=this.months.find((t=>t.id===e.startMonth)),this.$nextTick((()=>{_S.startDay=this.dates.find((t=>t.id===e.startDay))}))},defineLeavePeriod(e){if(!0===e.leavePeriodDefined){this.leavePeriodDefined=e.leavePeriodDefined;const t=Ke(Xe(e.currentLeavePeriod.startDate),this.jsDateFormat,{locale:this.locale}),o=Ke(Xe(e.currentLeavePeriod.endDate),this.jsDateFormat,{locale:this.locale});this.leavePeriod.currentPeriod=`${t} ${this.$t("general.to").toLowerCase()} ${o}`}else this.leavePeriodDefined=!1}}};const DS=(0,i.Z)(SS,[["render",kS],["__scopeId","data-v-36501732"]]);var $S=DS;const TS={class:"orangehrm-background-container"},ES={class:"orangehrm-card-container"};function IS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("leave-conflict"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("leave-balance"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("date-input"),v=(0,a.resolveComponent)("leave-duration-input"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",TS,[n.showLeaveConflict?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"workshift-exceeded":n.isWorkShiftExceeded,data:n.leaveConflictData},null,8,["workshift-exceeded","data"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",ES,[(0,a.createVNode)(s,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.apply_leave")),1)])),_:1}),(0,a.createVNode)(d),n.isLoading||0!==n.leaveTypes.length?((0,a.openBlock)(),(0,a.createBlock)(b,{key:1,ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.leave.type,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leave.type=e),type:"select",rules:n.rules.type,options:n.leaveTypes,label:e.$t("leave.leave_type"),required:""},null,8,["modelValue","rules","options","label"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"leave-data":n.leave},null,8,["leave-data"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.leave.fromDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leave.fromDate=e),label:e.$t("general.from_date"),rules:n.rules.fromDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.leave.toDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leave.toDate=e),label:e.$t("general.to_date"),rules:n.rules.toDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1})])),_:1})])),_:1}),1==r.appliedLeaveDuration?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{duration:n.leave.duration.type,"onUpdate:duration":t[3]||(t[3]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[4]||(t[4]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[5]||(t[5]=e=>n.leave.duration.toTime=e),label:e.$t("general.duration"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.appliedLeaveDuration>1?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.leave.partialOptions,"onUpdate:modelValue":t[6]||(t[6]=e=>n.leave.partialOptions=e),type:"select",label:e.$t("leave.partial_days"),options:n.partialOptions},null,8,["modelValue","label","options"])])),_:1}),r.showDuration?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,duration:n.leave.duration.type,"onUpdate:duration":t[7]||(t[7]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[8]||(t[8]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[9]||(t[9]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("general.duration"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0),r.showStartDay?((0,a.openBlock)(),(0,a.createBlock)(v,{key:1,duration:n.leave.duration.type,"onUpdate:duration":t[10]||(t[10]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[11]||(t[11]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[12]||(t[12]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("leave.start_day"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0),r.showEndDay?((0,a.openBlock)(),(0,a.createBlock)(v,{key:2,duration:n.leave.endDuration.type,"onUpdate:duration":t[13]||(t[13]=e=>n.leave.endDuration.type=e),fromTime:n.leave.endDuration.fromTime,"onUpdate:fromTime":t[14]||(t[14]=e=>n.leave.endDuration.fromTime=e),toTime:n.leave.endDuration.toTime,"onUpdate:toTime":t[15]||(t[15]=e=>n.leave.endDuration.toTime=e),partial:!0,label:e.$t("leave.end_day"),"work-shift":o.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.leave.comment,"onUpdate:modelValue":t[16]||(t[16]=e=>n.leave.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{label:e.$t("general.apply")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])):((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.no_leave_types_with_leave_balance")),1)])),_:1}))])])}function BS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("time-range"),c=(0,a.resolveComponent)("oxd-text"),m=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,{style:{"grid-column-start":"1"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,(0,a.mergeProps)({type:"select"},e.$attrs,{options:r.options,"model-value":o.duration,rules:n.rules.duration,"show-empty-selector":o.partial,required:o.partial,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:duration",t))}),null,16,["options","model-value","rules","show-empty-selector","required"])])),_:1}),o.duration&&4===o.duration.id?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,{rules:n.rules,"from-time":o.fromTime,"to-time":o.toTime,"work-shift":o.workShift,"onUpdate:fromTime":t[1]||(t[1]=t=>e.$emit("update:fromTime",t)),"onUpdate:toTime":t[2]||(t[2]=t=>e.$emit("update:toTime",t))},null,8,["rules","from-time","to-time","work-shift"]),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{label:e.$t("general.duration")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-leave-duration",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.selectedTimeDuration),1)])),_:1})])),_:1},8,["label"])])),_:1})],64)):(0,a.createCommentVNode)("",!0)],64)}function LS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("time-input"),s=(0,a.resolveComponent)("oxd-grid-item");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:e.$t("general.from"),"model-value":o.fromTime,rules:o.rules.fromTime,required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:fromTime",t))},null,8,["label","model-value","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:e.$t("general.to"),"model-value":o.toTime,rules:o.rules.toTime,required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:toTime",t))},null,8,["label","model-value","rules"])])),_:1})],64)}var AS={name:"TimeRange",inheritAttrs:!1,props:{fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},rules:{type:Object,required:!0,default:()=>({})},workShift:{type:Object,required:!0,default:()=>({})}},emits:["update:fromTime","update:toTime"],mounted(){this.workShift?.startTime&&this.$emit("update:fromTime",this.workShift.startTime),this.workShift?.endTime&&this.$emit("update:toTime",this.workShift.endTime)}};const US=(0,i.Z)(AS,[["render",LS]]);var PS=US,qS={name:"LeaveDurationInput",components:{"time-range":PS},inheritAttrs:!1,props:{duration:{type:Object,required:!1,default:()=>null},fromTime:{type:String,required:!1,default:null},toTime:{type:String,required:!1,default:null},partial:{type:Boolean,default:!1},workShift:{type:Object,required:!0,default:()=>({})}},emits:["update:fromTime","update:toTime","update:duration"],data(){return{rules:{duration:[So],fromTime:[So,Eo,Jo((()=>this.toTime),this.$t("general.from_time_should_be_before_to_time"))],toTime:[So,Eo,Ro((()=>this.fromTime),this.$t("general.to_time_should_be_after_from_time")),e=>{if(e){const t=it(this.workShift.startTime,this.workShift.endTime),o=it(this.fromTime,e);if(o>t)return this.$t("leave.duration_should_be_less_than_work_shift_length")}return!0}]}}},computed:{selectedTimeDuration(){const e=it(this.fromTime,this.toTime);return(e/3600).toFixed(2)},options(){const e=[{id:1,label:this.$t("leave.full_day"),key:"full_day"},{id:2,label:this.$t("leave.half_day_morning"),key:"half_day_morning"},{id:3,label:this.$t("leave.half_day_evening"),key:"half_day_afternoon"},{id:4,label:this.$t("leave.specify_time"),key:"specify_time"}];return this.partial?e.filter((e=>1!=e.id)):e}}};const MS=(0,i.Z)(qS,[["render",BS],["__scopeId","data-v-75ca43d6"]]);var FS=MS;const OS={class:"orangehrm-leave-balance"};function jS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-label"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-input-group");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(c,null,{label:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",OS,[(0,a.createVNode)(i,{label:e.$t("leave.leave_balance")},null,8,["label"]),o.leaveData.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"--help",name:"question-circle","with-container":!1,onClick:l.onModalOpen},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])])),default:(0,a.withCtx)((()=>[e.balance>=0?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.leaveBalance),1)])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,class:"orangehrm-leave-balance-text --error",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.balance_not_sufficient")),1)])),_:1}))])),_:1}),e.showModal?((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(l.leaveBalanceModal),{key:0,data:e.data,meta:e.meta,onClose:l.onModalClose},null,40,["data","meta","onClose"])):(0,a.createCommentVNode)("",!0)],64)}const zS={class:"orangehrm-dialog-header-container"},RS={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},GS={class:"orangehrm-container"},ZS={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function QS(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-card-table"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(g,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",zS,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.leave_balance_details")),1)])),_:1}),(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.as_of_date"))+" - "+(0,a.toDisplayString)(r.asAtDate),1)])),_:1})]),(0,a.createVNode)(s,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),(0,a.createElementVNode)("div",RS,[(0,a.createVNode)(m,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.employee_name")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.employeeName),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"--offset-column-1",label:e.$t("leave.leave_type")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.leaveType),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("leave.total_entitlement")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.totalEntitlement),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("leave.balance")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.leaveBalance),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",GS,[(0,a.createVNode)(u,{headers:n.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),(0,a.createElementVNode)("div",ZS,[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])])),_:1})])])),_:1},8,["onUpdate:show"])}var HS={name:"LeaveBalanceModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>null},meta:{type:Object,default:()=>null}},emits:["close"],setup(){const{jsDateFormat:e}=Ae(),{locale:t}=pt();return{locale:t,jsDateFormat:e}},data(){return{headers:[{title:this.$t("leave.leave_status"),name:"status",slot:"left",style:{flex:1}},{title:this.$t("leave.days"),name:"days",slot:"right",style:{flex:1,textAlign:"right",justifyContent:"flex-end"}}]}},computed:{items(){if(this.data){const{taken:e,scheduled:t,pending:o}=this.data;return[{status:this.$t("leave.taken"),days:e.toFixed(2)},{status:this.$t("leave.scheduled"),days:t.toFixed(2)},{status:this.$t("leave.pending_approval"),days:o.toFixed(2)}]}return[]},asAtDate(){return Ke(Xe(this.data?.asAtDate),this.jsDateFormat,{locale:this.locale})},leaveType(){return this.meta?.leaveType?.name},employeeName(){const e=this.meta?.employee;return e?`${e.firstName} ${e.lastName}\n          ${e.terminationId?this.$t("general.past_employee"):""}`:""},totalEntitlement(){return this.data?.entitled?`${parseFloat(this.data.entitled).toFixed(2)} Day(s)`:"0.00 Day(s)"},leaveBalance(){return this.data?.balance?`${parseFloat(this.data.balance).toFixed(2)} Day(s)`:"0.00 Day(s)"}},methods:{onCancel(){this.$emit("close",!0)}}};const WS=(0,i.Z)(HS,[["render",QS],["__scopeId","data-v-a21fbcb8"]]);var YS=WS;const JS={class:"orangehrm-dialog-header-container"},XS={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},KS={class:"orangehrm-container"},eD={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function tD(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-card-table"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(g,{gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",JS,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.insufficient_leave_balance")),1)])),_:1})]),(0,a.createVNode)(s,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),(0,a.createElementVNode)("div",XS,[(0,a.createVNode)(m,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.employee_name")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.employeeName),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("leave.leave_type")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.leaveType),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("leave.balance")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-balance-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.leaveBalance),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})]),(0,a.createElementVNode)("div",KS,[(0,a.createVNode)(u,{headers:n.headers,items:r.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),(0,a.createElementVNode)("div",eD,[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])])),_:1})])])),_:1},8,["onUpdate:show"])}var oD={name:"LeaveBalanceInsufficientModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Array,required:!0},meta:{type:Object,default:()=>null}},emits:["close"],setup(){const{jsDateFormat:e}=Ae(),{locale:t}=pt();return{locale:t,jsDateFormat:e}},data(){return{headers:[{title:this.$t("leave.leave_period"),name:"period",style:{flex:1}},{title:this.$t("general.date"),name:"date",style:{flex:1}},{title:this.$t("leave.available_balance"),name:"balance",style:{flex:1}}]}},computed:{items(){if(this.data.length>0){const e=this.data.map((e=>e.period));return e.flatMap(((e,t)=>this.data[t].leaves.map((t=>{const o=Ke(Xe(e.startDate),this.jsDateFormat,{locale:this.locale}),a=Ke(Xe(e.endDate),this.jsDateFormat,{locale:this.locale}),l=Ke(Xe(t.date),this.jsDateFormat,{locale:this.locale});return{period:`${o} - ${a}`,date:l,balance:t.status?.name||t.balance.toFixed(2)}}))))}return[]},leaveType(){return this.meta?.leaveType?.name},employeeName(){const e=this.meta?.employee;return e?`${e.firstName} ${e.lastName}\n          ${e.terminationId?this.$t("general.past_employee"):""}`:""},leaveBalance(){return this.data[0]?.balance?`${parseFloat(this.data[0].balance.balance).toFixed(2)} Day(s)`:"0.00 Day(s)"}},methods:{onCancel(){this.$emit("close",!0)}}};const aD=(0,i.Z)(oD,[["render",tD],["__scopeId","data-v-94b8006c"]]);var lD=aD;function nD(e){const t=e=>{const t={leaveTypeId:e.type?e.type.id:1,fromDate:e.fromDate?e.fromDate:"",toDate:e.toDate?e.toDate:"",comment:""===e.comment?null:e.comment,empNumber:e.employee?e.employee.id:void 0};if(e.duration.type){const o={type:e.duration.type?.key};"specify_time"===o.type&&(e.duration.fromTime&&(o.fromTime=e.duration.fromTime),e.duration.toTime&&(o.toTime=e.duration.toTime)),t.duration=o}const o=rt(t.fromDate,t.toDate);if(o>1&&e.partialOptions&&(t.partialOption=e.partialOptions.key,e.endDuration.type)){const o={type:e.endDuration.type.key};e.endDuration.fromTime&&(o.fromTime=e.endDuration.fromTime),e.endDuration.toTime&&(o.toTime=e.endDuration.toTime),"start_end"===t.partialOption?t.endDuration=o:"end"===t.partialOption&&(t.duration=o)}return"specify_time"!==t.duration?.type&&(t.duration?.fromTime||t.duration?.toTime)&&(t.duration.fromTime=void 0,t.duration.toTime=void 0),"specify_time"!==t.endDuration?.type&&(t.endDuration?.fromTime||t.endDuration?.toTime)&&(t.endDuration.fromTime=void 0,t.endDuration.toTime=void 0),t},o=e=>{const t={fromDate:void 0,toDate:void 0,partialOption:void 0,empNumber:e.employee?.id};if(e.duration.type&&(t["duration[type]"]=e.duration.type.key,"specify_time"===t["duration[type]"]&&(e.duration.fromTime&&(t["duration[fromTime]"]=e.duration.fromTime),e.duration.toTime&&(t["duration[toTime]"]=e.duration.toTime))),e.fromDate&&e.toDate){t.fromDate=e.fromDate,t.toDate=e.toDate;const o=rt(e.fromDate,e.toDate);o>1&&e.partialOptions&&(t.partialOption=e.partialOptions.key,e.endDuration.type&&("start_end"===t.partialOption?(t["endDuration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(t["endDuration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(t["endDuration[toTime]"]=e.endDuration.toTime)):"end"===t.partialOption&&(t["duration[type]"]=e.endDuration.type.key,e.endDuration.fromTime&&(t["duration[fromTime]"]=e.endDuration.fromTime),e.endDuration.toTime&&(t["duration[toTime]"]=e.endDuration.toTime))))}return"specify_time"!==t["duration[type]"]&&(t["duration[fromTime]"]||t["duration[toTime]"])&&(t["duration[fromTime]"]=void 0,t["duration[toTime]"]=void 0),"specify_time"!==t["endDuration[type]"]&&(t["endDuration[fromTime]"]||t["endDuration[toTime]"])&&(t["endDuration[fromTime]"]=void 0,t["endDuration[toTime]"]=void 0),t},a=t=>new Promise(((a,l)=>{e.request({method:"GET",url:"/api/v2/leave/overlap-leaves",params:o(t)}).then((e=>{const{data:t,meta:o}=e.data;Array.isArray(t)&&t.length>0?a({isConflict:!0,isOverWorkshift:!0===o.isWorkShiftLengthExceeded,data:t}):a({isConflict:!1,isOverWorkshift:!1,data:[]})})).catch((e=>{l(e)}))})),l=t=>new Promise(((a,l)=>{e.request({method:"GET",url:`/api/v2/leave/leave-balance/leave-type/${t.type?.id}`,params:o(t)}).then((e=>{let t=0,o=null,l=null;if(200===e.status){const{data:a,meta:n}=e.data;l=n,a.balance?(o=a.balance,t=a.balance?.balance):a.breakdown&&!1===a.negative?(o=a.breakdown[0].balance,t=a.breakdown[0].balance?.balance):a.breakdown&&!0===a.negative?(o=a.breakdown,t=-1):(o=null,t=0)}a({balance:t,breakdown:o,metaData:l})})).catch((e=>{l(e)}))}));return{serializeBody:t,serializeParams:o,validateLeaveBalance:l,validateOverlapLeaves:a}}var rD={name:"LeaveBalance",components:{"oxd-label":n.OxdLabel,"leave-balance-modal":YS,"leave-balance-insufficient-modal":lD},inheritAttrs:!1,props:{leaveData:{type:Object,default:()=>({})}},setup(e){const t=(0,a.reactive)({data:null,meta:null,balance:0,showModal:!1}),o=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-balance/leave-type");o.setIgnorePath("/api/v2/leave/leave-balance/leave-type");const{validateLeaveBalance:l}=nD(o),n=(0,a.computed)((()=>e.leaveData.type?.id?`${t.balance.toFixed(2)} Day(s)`:"0.00 Day(s)")),r=()=>{t.showModal=!0},i=()=>{t.showModal=!1},s=(0,a.computed)((()=>Array.isArray(t.data)?"leave-balance-insufficient-modal":"leave-balance-modal"));return(0,a.watchPostEffect)((async()=>{e.leaveData.type?.id&&l(e.leaveData).then((({balance:e,breakdown:o,metaData:a})=>{t.balance=e,o&&(t.data=o),a&&(t.meta=a)})).catch((()=>{t.data=null,t.meta=null,t.balance=0}))})),{...(0,a.toRefs)(t),leaveBalance:n,onModalOpen:r,onModalClose:i,leaveBalanceModal:s}}};const iD=(0,i.Z)(rD,[["render",jS],["__scopeId","data-v-56c2fc4a"]]);var sD=iD;const dD={class:"orangehrm-paper-container"},cD={class:"orangehrm-header-container"},mD={class:"orangehrm-container"},uD=(0,a.createElementVNode)("div",{class:"orangehrm-bottom-container"},null,-1),pD=(0,a.createElementVNode)("br",null,null,-1);function hD(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",dD,[(0,a.createElementVNode)("div",cD,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.header),1)])),_:1})]),(0,a.createVNode)(s,{loading:!1,selected:0,total:o.data.length},null,8,["total"]),(0,a.createElementVNode)("div",mD,[(0,a.createVNode)(d,{headers:n.headers,items:r.items,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),uD]),pD],64)}var gD={name:"LeaveConflict",props:{workshiftExceeded:{type:Boolean,default:!1},data:{type:Array,required:!0}},setup(){const{jsDateFormat:e}=Ae(),{locale:t}=pt();return{locale:t,jsDateFormat:e}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"hours",title:this.$t("leave.no_of_hours"),style:{flex:1}},{name:"type",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comments",title:this.$t("general.comments"),style:{flex:1}}]}},computed:{header(){return this.workshiftExceeded?this.$t("leave.workshift_length_exceeded_due_to_the_following_leave_request"):this.$t("leave.overlapping_leave_request_found")},items(){return this.data.map((e=>({date:Ke(Xe(e.date),this.jsDateFormat,{locale:this.locale}),hours:parseFloat(e.lengthHours).toFixed(2),type:e.leaveType?.name,status:e.status?.name,comments:e.lastComment?.comment})))}}};const vD=(0,i.Z)(gD,[["render",hD]]);var fD=vD;const yD={type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}};var CD={name:"LeaveApply",components:{"leave-duration-input":FS,"leave-balance":sD,"leave-conflict":fD},props:{workShift:{type:Object,default:()=>({})}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-requests"),{serializeBody:t,validateOverlapLeaves:o}=nD(e),{formRef:a,reset:l}=vm(),{userDateFormat:n}=Ae();return{http:e,reset:l,formRef:a,serializeBody:t,userDateFormat:n,validateOverlapLeaves:o}},data(){return{isLoading:!1,leave:{...yD},rules:{type:[So],fromDate:[So,$o(this.userDateFormat)],toDate:[So,$o(this.userDateFormat),Fo((()=>this.leave.fromDate),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[Do(250)]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:[...cy()],leaveTypes:[]}},computed:{appliedLeaveDuration(){return rt(this.leave.fromDate,this.leave.toDate)},showDuration(){const e=this.leave.partialOptions?.id;return e&&1===e},showStartDay(){const e=this.leave.partialOptions?.id;return e&&(2===e||4===e)},showEndDay(){const e=this.leave.partialOptions?.id;return e&&(3===e||4===e)}},watch:{appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/leave/leave-types/eligible"}).then((e=>{const{data:t}=e.data;this.leaveTypes=t.map((e=>({id:e.id,label:e.name})))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.showLeaveConflict=!1,this.leaveConflictData=null,this.validateOverlapLeaves(this.leave).then((({isConflict:e,isOverWorkshift:t,data:o})=>e?(this.leaveConflictData=o,this.showLeaveConflict=!0,this.isWorkShiftExceeded=t,Promise.reject()):this.http.create(this.serializeBody(this.leave)))).then((()=>{this.$toast.saveSuccess(),this.reset()})).catch((()=>{this.showLeaveConflict&&this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.failed_to_submit")})})).finally((()=>{this.isLoading=!1}))}}};const bD=(0,i.Z)(CD,[["render",IS]]);var VD=bD;const xD={class:"orangehrm-background-container"},wD={class:"orangehrm-card-container"};function ND(e,t,o,l,n,r){const i=(0,a.resolveComponent)("leave-conflict"),s=(0,a.resolveComponent)("leave-assign-confirm-modal"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-divider"),m=(0,a.resolveComponent)("employee-autocomplete"),u=(0,a.resolveComponent)("oxd-grid-item"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("leave-type-dropdown"),v=(0,a.resolveComponent)("leave-balance"),f=(0,a.resolveComponent)("date-input"),y=(0,a.resolveComponent)("leave-duration-input"),C=(0,a.resolveComponent)("oxd-input-field"),b=(0,a.resolveComponent)("required-text"),V=(0,a.resolveComponent)("submit-button"),x=(0,a.resolveComponent)("oxd-form-actions"),w=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",xD,[n.showLeaveConflict?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,"workshift-exceeded":n.isWorkShiftExceeded,data:n.leaveConflictData},null,8,["workshift-exceeded","data"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{ref:"confirmDialog"},null,512),(0,a.createElementVNode)("div",wD,[(0,a.createVNode)(d,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.assign_leave")),1)])),_:1}),(0,a.createVNode)(c),(0,a.createVNode)(w,{ref:"formRef",loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.leave.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leave.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.leave.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leave.type=e),rules:n.rules.type,"eligible-only":!1,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{"leave-data":n.leave},null,8,["leave-data"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:n.leave.fromDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leave.fromDate=e),label:e.$t("general.from_date"),rules:n.rules.fromDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:n.leave.toDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leave.toDate=e),label:e.$t("general.to_date"),rules:n.rules.toDate,years:n.yearsArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1})])),_:1})])),_:1}),1==r.appliedLeaveDuration?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{duration:n.leave.duration.type,"onUpdate:duration":t[4]||(t[4]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[5]||(t[5]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[6]||(t[6]=e=>n.leave.duration.toTime=e),label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),r.appliedLeaveDuration>1?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{modelValue:n.leave.partialOptions,"onUpdate:modelValue":t[7]||(t[7]=e=>n.leave.partialOptions=e),type:"select",label:e.$t("leave.partial_days"),options:n.partialOptions},null,8,["modelValue","label","options"])])),_:1}),r.showDuration?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,duration:n.leave.duration.type,"onUpdate:duration":t[8]||(t[8]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[9]||(t[9]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[10]||(t[10]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("general.duration"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0),r.showStartDay?((0,a.openBlock)(),(0,a.createBlock)(y,{key:1,duration:n.leave.duration.type,"onUpdate:duration":t[11]||(t[11]=e=>n.leave.duration.type=e),fromTime:n.leave.duration.fromTime,"onUpdate:fromTime":t[12]||(t[12]=e=>n.leave.duration.fromTime=e),toTime:n.leave.duration.toTime,"onUpdate:toTime":t[13]||(t[13]=e=>n.leave.duration.toTime=e),partial:!0,label:e.$t("leave.start_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0),r.showEndDay?((0,a.openBlock)(),(0,a.createBlock)(y,{key:2,duration:n.leave.endDuration.type,"onUpdate:duration":t[14]||(t[14]=e=>n.leave.endDuration.type=e),fromTime:n.leave.endDuration.fromTime,"onUpdate:fromTime":t[15]||(t[15]=e=>n.leave.endDuration.fromTime=e),toTime:n.leave.endDuration.toTime,"onUpdate:toTime":t[16]||(t[16]=e=>n.leave.endDuration.toTime=e),partial:!0,label:e.$t("leave.end_day"),"work-shift":n.workShift},null,8,["duration","fromTime","toTime","label","work-shift"])):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{modelValue:n.leave.comment,"onUpdate:modelValue":t[17]||(t[17]=e=>n.leave.comment=e),type:"textarea",label:e.$t("general.comments"),rules:n.rules.comment},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c),(0,a.createVNode)(x,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b),(0,a.createVNode)(V,{label:e.$t("leave.assign")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const kD={key:0,class:"deleted-tag"};function _D(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("leave.leave_type"),options:l.options,"show-empty-selector":o.showEmptySelector},{option:(0,a.withCtx)((({data:t})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(t.label),1),t.isDeleted?((0,a.openBlock)(),(0,a.createElementBlock)("div",kD,(0,a.toDisplayString)(e.$t("general.deleted")),1)):(0,a.createCommentVNode)("",!0)])),_:1},8,["label","options","show-empty-selector"])}var SD={name:"LeaveTypeDropdown",props:{eligibleOnly:{type:Boolean,default:!0},employeeId:{type:Number,required:!1,default:null},showEmptySelector:{type:Boolean,default:!0},includeAllocated:{type:Boolean,default:!1}},setup(e,t){const o=(0,a.ref)([]),l=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-types"+(e.eligibleOnly?"/eligible":""));return(0,a.watchEffect)((async()=>{!e.eligibleOnly&&e.includeAllocated&&console.error("`includeAllocated` prop can true only if `eligibleOnly` prop true"),l.getAll({empNumber:e.employeeId,includeAllocated:!(!e.eligibleOnly||!e.includeAllocated)||void 0,...!1===e.eligibleOnly&&{limit:0}}).then((({data:a})=>{o.value=a.data.map((e=>({id:e.id,label:e.name,isDeleted:e.deleted}))),!e.showEmptySelector&&o.value.length>0&&t.emit("update:modelValue",o.value[0])}))})),{options:o}}};const DD=(0,i.Z)(SD,[["render",_D],["__scopeId","data-v-dcd26948"]]);var $D=DD;const TD={class:"orangehrm-modal-header"},ED={class:"orangehrm-text-center-align"},ID={class:"orangehrm-modal-footer"};function BD(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",TD,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.confirm_leave_assignment")),1)])),_:1})]),(0,a.createElementVNode)("div",ED,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.employee_does_not_have_enough_balance_for_leave_request"))+" "+(0,a.toDisplayString)(e.$t("leave.click_ok_to_confirm_leave_assignment")),1)])),_:1})]),(0,a.createElementVNode)("div",ID,[(0,a.createVNode)(s,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:r.onConfirm},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var LD={name:"LeaveAssignConfirmModal",components:{"oxd-dialog":n.OxdDialog},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const AD=(0,i.Z)(LD,[["render",BD],["__scopeId","data-v-19c585fa"]]);var UD=AD;const PD={employee:null,type:null,fromDate:null,toDate:null,comment:"",partialOptions:null,duration:{type:null,fromTime:null,toTime:null},endDuration:{type:null,fromTime:null,toTime:null}},qD={startTime:"9:00",endTime:"17:00"};var MD={name:"LeaveAssign",components:{"leave-type-dropdown":$D,"leave-duration-input":FS,"leave-balance":sD,"employee-autocomplete":rl,"leave-conflict":fD,"leave-assign-confirm-modal":UD},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/employees/leave-requests"),{serializeBody:t,validateLeaveBalance:o,validateOverlapLeaves:a}=nD(e),{formRef:l,reset:n}=vm(),{userDateFormat:r}=Ae();return{http:e,reset:n,formRef:l,serializeBody:t,userDateFormat:r,validateLeaveBalance:o,validateOverlapLeaves:a}},data(){return{isLoading:!1,leave:{...PD},rules:{type:[So],fromDate:[So,$o(this.userDateFormat)],toDate:[So,$o(this.userDateFormat),Fo((()=>this.leave.fromDate),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],comment:[Do(250)],employee:[So,ia]},partialOptions:[{id:1,label:this.$t("leave.all_days"),key:"all"},{id:2,label:this.$t("leave.start_day_only"),key:"start"},{id:3,label:this.$t("leave.end_day_only"),key:"end"},{id:4,label:this.$t("leave.start_and_end_day"),key:"start_end"}],showLeaveConflict:!1,isWorkShiftExceeded:!1,leaveConflictData:null,yearsArray:[...cy()],workShift:{...qD}}},computed:{appliedLeaveDuration(){return rt(this.leave.fromDate,this.leave.toDate)},showDuration(){const e=this.leave.partialOptions?.id;return e&&1===e},showStartDay(){const e=this.leave.partialOptions?.id;return e&&(2===e||4===e)},showEndDay(){const e=this.leave.partialOptions?.id;return e&&(3===e||4===e)}},watch:{"leave.employee":function(e){e?.id?this.http.request({method:"GET",url:`/api/v2/pim/employees/${e.id}/work-shift`}).then((e=>{const{data:t}=e.data;this.workShift=t})):this.workShift={...qD}},appliedLeaveDuration:function(e){this.leave.duration.type=1===e?{id:1,label:"Full Day",key:"full_day"}:null},"leave.fromDate":function(e){e&&!this.leave.toDate&&(this.leave.toDate=e)}},methods:{onSave(){this.isLoading=!0,this.leaveConflictData=null,this.showLeaveConflict=!1,this.validateLeaveBalance(this.leave).then((async({balance:e})=>{if(e<=0){const e=await this.$refs.confirmDialog.showDialog();if("ok"!==e)return Promise.reject()}return this.validateOverlapLeaves(this.leave)})).then((({isConflict:e,isOverWorkshift:t,data:o})=>e?(this.leaveConflictData=o,this.showLeaveConflict=!0,this.isWorkShiftExceeded=t,Promise.reject()):this.http.create(this.serializeBody(this.leave)))).then((()=>{this.$toast.saveSuccess(),this.reset()})).catch((()=>{this.showLeaveConflict&&this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.failed_to_submit")})})).finally((()=>{this.isLoading=!1}))}}};const FD=(0,i.Z)(MD,[["render",ND]]);var OD=FD;const jD={class:"orangehrm-background-container"},zD={class:"orangehrm-paper-container"},RD={class:"orangehrm-header-container"},GD={class:"orangehrm-container"},ZD={class:"orangehrm-bottom-container"};function QD(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",jD,[(0,a.createElementVNode)("div",zD,[(0,a.createElementVNode)("div",RD,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.leave_types")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",GD,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),loading:l.isLoading,headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","loading","headers","items"])]),(0,a.createElementVNode)("div",ZD,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var HD={components:{"delete-confirmation":vo},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-types"),{showPaginator:t,currentPage:o,total:a,pages:l,pageSize:n,response:r,isLoading:i,execQuery:s}=so(e);return{http:e,showPaginator:t,currentPage:o,isLoading:i,total:a,pages:l,pageSize:n,execQuery:s,items:r}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:6}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/leave/defineLeaveType")},onClickEdit(e){U("/leave/defineLeaveType/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const WD=(0,i.Z)(HD,[["render",QD]]);var YD=WD;const JD={class:"orangehrm-background-container"},XD={class:"orangehrm-card-container"},KD={class:"label-is-entitlement-situational"};function e$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-label"),u=(0,a.resolveComponent)("oxd-icon-button"),p=(0,a.resolveComponent)("oxd-input-group"),h=(0,a.resolveComponent)("oxd-grid-item"),g=(0,a.resolveComponent)("oxd-grid"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("entitlement-situational-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",JD,[(0,a.createElementVNode)("div",XD,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.edit_leave_type")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveType.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{classes:{wrapper:"--status-grouped-field"}},{label:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",KD,[(0,a.createVNode)(m,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),(0,a.createVNode)(u,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:r.onModalOpen},null,8,["onClick"])])])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"]),n.showModal?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,onClose:r.onModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)])])}const t$={class:"orangehrm-modal-header"},o$={class:"orangehrm-text-center-align"},a$={class:"orangehrm-modal-footer"};function l$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-form-actions"),c=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(c,{class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",t$,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.situational_leave")),1)])),_:1})]),(0,a.createElementVNode)("div",o$,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.entitlement_situational_description")),1)])),_:1})]),(0,a.createElementVNode)("div",a$,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{type:"submit","display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])])),_:1})])])),_:1},8,["onUpdate:show"])}var n$={name:"EntitlementSituationalModal",components:{"oxd-dialog":n.OxdDialog},emits:["close"],methods:{onCancel(){this.$emit("close",!0)}}};const r$=(0,i.Z)(n$,[["render",l$],["__scopeId","data-v-68838f5c"]]);var i$=r$;const s$={id:"",name:"",situational:""};var d$={components:{"oxd-label":n.OxdLabel,"entitlement-situational-modal":i$},props:{leaveTypeId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data(){return{showModal:!1,isLoading:!1,leaveType:{...s$},rules:{name:[So,Do(50)]}}},created(){this.isLoading=!0,this.http.get(this.leaveTypeId).then((e=>{const{data:t}=e.data;return this.leaveType.id=t.id,this.leaveType.name=t.name,this.leaveType.situational=t.situational,this.http.getAll()})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e));if(o>-1){const{id:e}=t[o];return e==this.leaveTypeId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.leaveTypeId,{name:this.leaveType.name,situational:this.leaveType.situational}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/leave/leaveTypeList")},onModalOpen(){this.showModal=!0},onModalClose(){this.showModal=!1}}};const c$=(0,i.Z)(d$,[["render",e$],["__scopeId","data-v-a7f7cce0"]]);var m$=c$;const u$={class:"orangehrm-background-container"},p$={class:"orangehrm-card-container"},h$={class:"label-is-entitlement-situational"};function g$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-label"),u=(0,a.resolveComponent)("oxd-icon-button"),p=(0,a.resolveComponent)("oxd-input-group"),h=(0,a.resolveComponent)("oxd-grid-item"),g=(0,a.resolveComponent)("oxd-grid"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("entitlement-situational-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",u$,[(0,a.createElementVNode)("div",p$,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.add_leave_type")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveType.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{classes:{wrapper:"--status-grouped-field"}},{label:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",h$,[(0,a.createVNode)(m,{label:e.$t("leave.is_entitlement_situational")},null,8,["label"]),(0,a.createVNode)(u,{class:"--help",name:"exclamation-circle","with-container":!1,onClick:r.onModalOpen},null,8,["onClick"])])])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.leaveType.situational,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveType.situational=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"]),n.showModal?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,onClose:r.onModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)])])}const v$={id:"",name:"",situational:!1};var f$={components:{"oxd-label":n.OxdLabel,"entitlement-situational-modal":i$},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-types");return{http:e}},data(){return{showModal:!1,isLoading:!1,leaveType:{...v$},rules:{name:[So,Do(50)]},errors:[]}},created(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.leaveType.name,situational:this.leaveType.situational}).then((()=>this.$toast.saveSuccess())).then((()=>{this.leaveType={...v$},this.onCancel()}))},onCancel(){U("/leave/leaveTypeList")},onModalOpen(){this.showModal=!0},onModalClose(){this.showModal=!1}}};const y$=(0,i.Z)(f$,[["render",g$],["__scopeId","data-v-3acf3120"]]);var C$=y$;const b$={class:"orangehrm-background-container"},V$={class:"orangehrm-card-container"};function x$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-input-group"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("employee-autocomplete"),g=(0,a.resolveComponent)("leave-type-dropdown"),v=(0,a.resolveComponent)("leave-period-dropdown"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form"),x=(0,a.resolveComponent)("entitlement-update-modal"),w=(0,a.resolveComponent)("entitlement-bulk-update-modal"),N=(0,a.resolveComponent)("entitlement-no-match-modal");return(0,a.openBlock)(),(0,a.createElementBlock)("div",b$,[(0,a.createElementVNode)("div",V$,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.add_leave_entitlement")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{label:e.$t("leave.add_to"),classes:{wrapper:"--grouped-field"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveEntitlement.bulkAssign=e),type:"radio","option-label":e.$t("leave.individual_employee"),value:"0"},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.bulkAssign,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveEntitlement.bulkAssign=e),type:"radio","option-label":e.$t("leave.multiple_employees"),value:"1"},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),0==n.leaveEntitlement.bulkAssign?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.leaveEntitlement.employee,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveEntitlement.employee=e),params:{includeEmployees:"currentAndPast"},rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(p,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.location,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leaveEntitlement.location=e),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.subunit,"onUpdate:modelValue":t[4]||(t[4]=e=>n.leaveEntitlement.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-leave-entitled"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-entitled-text",type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.matches_emp_count_employees",{empMatchCount:n.empMatchCount})),1)])),_:1})])),_:1})])),_:1})])),_:1})),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.leaveEntitlement.leaveType,"onUpdate:modelValue":t[5]||(t[5]=e=>n.leaveEntitlement.leaveType=e),"empty-text":e.$t("leave.no_leave_types_defined"),rules:n.rules.leaveType,"eligible-only":!1,required:""},null,8,["modelValue","empty-text","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:n.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[6]||(t[6]=e=>n.leaveEntitlement.leavePeriod=e),rules:n.rules.leavePeriod,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.entitlement,"onUpdate:modelValue":t[7]||(t[7]=e=>n.leaveEntitlement.entitlement=e),rules:n.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(C)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(x,{ref:"updateModal",data:n.leaveEntitlement},null,8,["data"]),(0,a.createVNode)(w,{ref:"bulkUpdateModal",data:n.leaveEntitlement},null,8,["data"]),(0,a.createVNode)(N,{ref:"noMatchModal"},null,512)])}function w$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("leave.leave_period"),options:l.options,"model-value":l.selectedPeriod,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t))},null,8,["label","options","model-value"])}var N$={name:"LeavePeriodDropdown",props:{modelValue:{type:Object,default:null}},emits:["update:modelValue"],setup(e){const t=(0,a.ref)([]),o=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-periods"),{jsDateFormat:l}=Ae(),{locale:n}=pt();(0,a.onBeforeMount)((()=>{o.getAll().then((({data:e})=>{t.value=e.data.map((e=>{const t=Ke(Xe(e.startDate),l,{locale:n}),o=Ke(Xe(e.endDate),l,{locale:n});return{id:`${e.startDate}_${e.endDate}`,label:`${t} - ${o}`,startDate:e.startDate,endDate:e.endDate}}))}))}));const r=(0,a.computed)((()=>t.value.find((t=>t.id===e.modelValue?.id))));return{options:t,selectedPeriod:r}}};const k$=(0,i.Z)(N$,[["render",w$]]);var _$=k$;const S$={class:"orangehrm-modal-header"},D$={class:"orangehrm-text-center-align"},$$={class:"orangehrm-modal-footer"};function T$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",S$,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.updating_entitlement")),1)])),_:1})]),(0,a.createElementVNode)("div",D$,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.entitlement_value_confirmation_message",{oldvalue:n.current,newvalue:n.updateAs})),1)])),_:1})]),(0,a.createElementVNode)("div",$$,[(0,a.createVNode)(s,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.confirm"),onClick:r.onConfirm},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var E$={name:"EntitlementUpdateModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"");return{http:e}},data(){return{show:!1,reject:null,resolve:null,current:"0.00",updateAs:"0.00"}},methods:{showDialog(){return this.http.request({method:"GET",url:`/api/v2/leave/employees/${this.data.employee?.id}/leave-entitlements`,params:{leaveTypeId:this.data.leaveType?.id,fromDate:this.data.leavePeriod?.startDate,toDate:this.data.leavePeriod?.endDate,entitlement:this.data.entitlement}}).then((e=>{const{data:t}=e.data;return this.current=t.entitlement?.current?parseFloat(t.entitlement.current).toFixed(2):"0.00",this.updateAs=t.entitlement?.updateAs?parseFloat(t.entitlement.updateAs).toFixed(2):"0.00",new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))}))},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const I$=(0,i.Z)(E$,[["render",T$],["__scopeId","data-v-e36392b4"]]);var B$=I$;const L$={class:"orangehrm-dialog-header-container"},A$={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"},U$={class:"orangehrm-container"},P$={class:"orangehrm-dialog-horizontal-padding orangehrm-dialog-vertical-padding"};function q$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("submit-button"),u=(0,a.resolveComponent)("oxd-form-actions"),p=(0,a.resolveComponent)("oxd-dialog");return n.show?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,gutters:!1,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",L$,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.updating_entitlement"))+" - "+(0,a.toDisplayString)(e.$t("leave.matching_employees")),1)])),_:1})]),(0,a.createVNode)(s,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),(0,a.createElementVNode)("div",A$,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.selected_leave_entitlement_applied_to_following_employees")),1)])),_:1})]),(0,a.createElementVNode)("div",U$,[(0,a.createVNode)(d,{headers:n.headers,items:n.items,clickable:!1,class:"orangehrm-horizontal-padding","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items"])]),(0,a.createElementVNode)("div",P$,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(m,{label:e.$t("general.confirm"),onClick:r.onConfirm},null,8,["label","onClick"])])),_:1})])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)}var M$={name:"EntitlementBulkUpdateModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/employees/leave-entitlements");return{http:e}},data(){return{show:!1,reject:null,resolve:null,headers:[{title:this.$t("general.employee"),name:"employee",slot:"title",style:{flex:1}},{title:this.$t("leave.old_entitlement"),name:"current",style:{flex:1}},{title:this.$t("leave.new_entitlement"),name:"updateAs",style:{flex:1}}],items:[]}},methods:{showDialog(){return this.http.getAll({leaveTypeId:this.data.leaveType?.id,fromDate:this.data.leavePeriod?.startDate,toDate:this.data.leavePeriod?.endDate,entitlement:this.data.entitlement,locationId:this.data.location?.id,subunitId:this.data.subunit?.id}).then((e=>{const{data:t}=e.data;return this.items=Array.isArray(t)?t.map((e=>({employee:`${e.firstName} ${e.lastName}`,current:e.entitlement?.current?parseFloat(e.entitlement.current).toFixed(2):"0.00",updateAs:e.entitlement?.updateAs?parseFloat(e.entitlement.updateAs).toFixed(2):"0.00"}))):[],new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))}))},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const F$=(0,i.Z)(M$,[["render",q$],["__scopeId","data-v-6f8e0531"]]);var O$=F$;const j$={class:"orangehrm-modal-header"},z$={class:"orangehrm-text-center-align"},R$={class:"orangehrm-modal-footer"};function G$(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,style:{maxWidth:"450px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",j$,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.no_matching_employees")),1)])),_:1})]),(0,a.createElementVNode)("div",z$,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.no_employees_match_filters")),1)])),_:1})]),(0,a.createElementVNode)("div",R$,[(0,a.createVNode)(s,{"display-type":"secondary",label:e.$t("general.ok"),onClick:r.onCancel},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var Z$={name:"EntitlementNoMatchModal",components:{"oxd-dialog":n.OxdDialog},data(){return{show:!1}},methods:{showDialog(){this.show=!0},onCancel(){this.show=!1}}};const Q$=(0,i.Z)(Z$,[["render",G$],["__scopeId","data-v-0233dcca"]]);var H$=Q$;const W$={bulkAssign:0,employee:null,leaveType:null,leavePeriod:null,entitlement:"",subunit:null,location:null};var Y$={components:{"leave-type-dropdown":$D,"leave-period-dropdown":_$,"employee-autocomplete":rl,"entitlement-update-modal":B$,"entitlement-bulk-update-modal":O$,"entitlement-no-match-modal":H$},props:{locations:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");return{http:e}},data(){return{isLoading:!1,leaveEntitlement:{...W$},leavePeriodDefined:!1,rules:{employee:[So,ia],leaveType:[So],leavePeriod:[So],entitlement:[So,e=>/^\d+(\.\d{1,2})?$/.test(e)||this.$t("leave.should_be_a_number_with_2_decimal_places"),Io(1e4)]},empMatchCount:0}},watch:{"leaveEntitlement.location":"fetchEmployeeCount","leaveEntitlement.subunit":"fetchEmployeeCount"},beforeMount(){this.fetchEmployeeCount(),this.leavePeriod&&(this.leaveEntitlement.leavePeriod=this.leavePeriod)},methods:{onCancel(){U("/leave/viewLeaveEntitlements")},async onSave(){let e=null;this.isLoading=!0;const t=1==this.leaveEntitlement.bulkAssign;if(t){if(0===this.empMatchCount)return this.isLoading=!1,this.$refs.noMatchModal.showDialog();e=await this.$refs.bulkUpdateModal.showDialog()}else e=await this.$refs.updateModal.showDialog();if("ok"!==e)return void(this.isLoading=!1);const o={empNumber:void 0,bulkAssign:void 0,locationId:void 0,subunitId:void 0,leaveTypeId:this.leaveEntitlement.leaveType?.id,fromDate:this.leaveEntitlement.leavePeriod?.startDate,toDate:this.leaveEntitlement.leavePeriod?.endDate,entitlement:this.leaveEntitlement.entitlement};t?(o.bulkAssign=!0,o.locationId=this.leaveEntitlement.location?.id,o.subunitId=this.leaveEntitlement.subunit?.id):o.empNumber=this.leaveEntitlement.employee?.id,this.http.create(o).then((e=>{let t=null,o=null;const{data:a}=e.data;return Array.isArray(a)?t=this.$toast.success({title:this.$t("general.success"),message:this.$t("leave.entitlement_added_to_n_employees",{count:a.length})}):(o={empNumber:a.employee.empNumber,leaveTypeId:a.leaveType.id,startDate:a.fromDate,endDate:a.toDate},t=this.$toast.saveSuccess()),new Promise((e=>{t.then((()=>{e(o)}))}))})).then((e=>{e?U("/leave/viewLeaveEntitlements",void 0,e):U("/leave/viewLeaveEntitlements")}))},async fetchEmployeeCount(){this.http.request({method:"GET",url:"/api/v2/pim/employees/count",params:{locationId:this.leaveEntitlement.location?.id,subunitId:this.leaveEntitlement.subunit?.id}}).then((e=>{const{data:t}=e.data;this.empMatchCount=parseInt(t.count)}))}}};const J$=(0,i.Z)(Y$,[["render",x$],["__scopeId","data-v-7e1993c4"]]);var X$=J$;const K$={class:"orangehrm-background-container"},eT={class:"orangehrm-card-container"};function tT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("leave-type-dropdown"),h=(0,a.resolveComponent)("oxd-input-field"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",K$,[(0,a.createElementVNode)("div",eT,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.edit_leave_entitlement")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.leaveEntitlement.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.leaveEntitlement.employee=e),disabled:"",required:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.leaveEntitlement.leaveType,"onUpdate:modelValue":t[1]||(t[1]=e=>n.leaveEntitlement.leaveType=e),"eligible-only":!1,required:"",disabled:""},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.leaveEntitlement.leavePeriod,"onUpdate:modelValue":t[2]||(t[2]=e=>n.leaveEntitlement.leavePeriod=e),type:"select",label:e.$t("leave.leave_period"),options:n.leavePeriods,rules:n.rules.leavePeriod,required:""},null,8,["modelValue","label","options","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.leaveEntitlement.entitlement,"onUpdate:modelValue":t[3]||(t[3]=e=>n.leaveEntitlement.entitlement=e),rules:n.rules.entitlement,label:e.$t("leave.entitlement"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const oT={employee:null,leaveType:null,leavePeriod:null,entitlement:""};var aT={components:{"leave-type-dropdown":$D,"employee-autocomplete":rl},props:{entitlementId:{type:String,required:!0},employee:{type:Object,default:()=>({})}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements");e.setIgnorePath("/api/v2/leave/leave-entitlements/[0-9]+/validation/entitlements");const{jsDateFormat:t}=Ae(),{locale:o}=pt();return{http:e,jsDateFormat:t,locale:o}},data(){return{isLoading:!1,leaveEntitlement:{...oT},rules:{employee:[So,ia],leaveType:[So],leavePeriod:[So],entitlement:[So,e=>/^\d+(\.\d{1,2})?$/.test(e)||this.$t("leave.should_be_a_number_with_2_decimal_places"),Io(1e4),(0,n.promiseDebounce)(this.validateEntitlement,500)]},leavePeriods:[]}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET",url:"/api/v2/leave/leave-periods"}).then((({data:e})=>(this.leavePeriods=e.data.map((e=>{const t=Ke(Xe(e.startDate),this.jsDateFormat,{locale:this.locale}),o=Ke(Xe(e.endDate),this.jsDateFormat,{locale:this.locale});return{id:`${e.startDate}_${e.endDate}`,label:`${t} - ${o}`,startDate:e.startDate,endDate:e.endDate}})),this.http.get(this.entitlementId)))).then((e=>{const{data:t}=e.data;this.leaveEntitlement.employee={id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.lastName}`,isPastEmployee:t.employee.terminationId},this.leaveEntitlement.leaveType={id:t.leaveType.id,label:t.leaveType.name},this.leaveEntitlement.leavePeriod=this.leavePeriods.find((e=>e.id===`${t.fromDate}_${t.toDate}`)),this.leaveEntitlement.entitlement=t.entitlement})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/leave/viewLeaveEntitlements",void 0,{empNumber:this.leaveEntitlement.employee?.id,leaveTypeId:this.leaveEntitlement.leaveType?.id,startDate:this.leaveEntitlement.leavePeriod?.startDate,endDate:this.leaveEntitlement.leavePeriod?.endDate})},onSave(){this.isLoading=!0;const e={fromDate:this.leaveEntitlement.leavePeriod?.startDate,toDate:this.leaveEntitlement.leavePeriod?.endDate,entitlement:this.leaveEntitlement.entitlement};this.http.update(this.entitlementId,e).then((()=>{this.$toast.updateSuccess(),this.onCancel()}))},validateEntitlement(e){const t=parseFloat(e);return new Promise((e=>{isNaN(t)?e(!0):this.http.request({method:"GET",url:`/api/v2/leave/leave-entitlements/${this.entitlementId}/validation/entitlements`,params:{entitlement:t}}).then((t=>{const{data:o}=t.data;return!0===o.valid?e(!0):e(this.$t("leave.used_amount_exceeds_the_current_amount"))}))}))}}};const lT=(0,i.Z)(aT,[["render",tT]]);var nT=lT;function rT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("leave-type-dropdown"),c=(0,a.resolveComponent)("leave-period-dropdown"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-divider"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("oxd-table-filter"),C=(0,a.resolveComponent)("leave-entitlement-table");return(0,a.openBlock)(),(0,a.createBlock)(C,{prefetch:!1},{default:(0,a.withCtx)((({filters:t,filterItems:o})=>[(0,a.createVNode)(y,{"filter-title":e.$t("leave.leave_entitlements")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.employee,"onUpdate:modelValue":e=>t.employee=e,rules:n.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","onUpdate:modelValue","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:t.leavePeriod,"onUpdate:modelValue":e=>t.leavePeriod=e,"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(p),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"])])),_:1})}const iT={class:"orangehrm-background-container"},sT=(0,a.createElementVNode)("br",null,null,-1),dT={key:0,class:"orangehrm-paper-container"},cT={class:"orangehrm-header-container"},mT={class:"orangehrm-container"},uT={class:"orangehrm-bottom-container"};function pT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-button"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",iT,[(0,a.renderSlot)(e.$slots,"default",{filters:l.filters,filterItems:r.filterItems}),sT,l.showDatatable?((0,a.openBlock)(),(0,a.createElementBlock)("div",dT,[(0,a.createElementVNode)("div",cT,[(0,a.createElementVNode)("div",null,[e.$can.create("leave_entitlements")?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(s,{tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.totalEntitlements),1)])),_:1})]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",mT,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:r.headers,items:l.items?.data,selectable:e.$can.delete("leave_entitlements"),clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),(0,a.createElementVNode)("div",uT,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var hT={name:"LeaveEntitlementTable",components:{"delete-confirmation":vo},props:{prefetch:{type:Boolean,default:!0},employee:{type:Object,required:!1,default:()=>null},leaveType:{type:Object,required:!1,default:()=>null},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(e){const t=(0,a.ref)({leaveType:e.leaveType?e.leaveType:null,leavePeriod:e.leavePeriod?e.leavePeriod:null,employee:e.employee?{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}:null}),o=(0,a.computed)((()=>({empNumber:t.value.employee?.id,leaveTypeId:t.value.leaveType?.id,fromDate:t.value.leavePeriod?.startDate,toDate:t.value.leavePeriod?.endDate}))),l=new q(window.appGlobal.baseUrl,"/api/v2/leave/leave-entitlements"),{$t:n}=Ne(),{jsDateFormat:r}=Ae(),{locale:i}=pt(),s=e=>e.map((e=>({id:e.id,leaveType:e.leaveType.name+`${e.leaveType.deleted?n("general.deleted"):""}`,entitlementType:e.entitlementType.name,fromDate:Ke(Xe(e.fromDate),r,{locale:i}),toDate:Ke(Xe(e.toDate),r,{locale:i}),days:e.entitlement,isSelectable:e.deletable}))),{showPaginator:d,currentPage:c,total:m,pages:u,pageSize:p,response:h,isLoading:g,execQuery:v}=so(l,{query:o,normalizer:s,prefetch:e.employee||e.prefetch}),f=(0,a.computed)((()=>{const e=h.value.meta?.sum?h.value.meta.sum:0;return`Total ${parseFloat(e).toFixed(2)} Day(s)`})),y=(0,a.computed)((()=>void 0!==h.value.data));return{http:l,showPaginator:d,currentPage:c,isLoading:g,total:m,pages:u,pageSize:p,execQuery:v,items:h,filters:t,totalEntitlements:f,showDatatable:y}},data(){return{checkedItems:[]}},computed:{headers(){const e=[{name:"leaveType",slot:"title",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"entitlementType",title:this.$t("leave.entitlement_type"),style:{flex:1}},{name:"fromDate",title:this.$t("leave.valid_from"),style:{flex:1}},{name:"toDate",title:this.$t("leave.valid_to"),style:{flex:1}},{name:"days",title:this.$t("leave.days"),style:{flex:1}}],t={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return this.$can.delete("leave_entitlements")&&(t.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),this.$can.update("leave_entitlements")&&(t.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),Object.keys(t.cellConfig).length>0?e.concat([t]):e}},methods:{onClickAdd(){U("/leave/addLeaveEntitlement")},onClickEdit(e){U("/leave/editLeaveEntitlement/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){if(!e.isSelectable)return this.$toast.error({title:this.$t("general.error"),message:this.$t("leave.entitlements_will_not_be_deleted_since_already_in_use")});this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const gT=(0,i.Z)(hT,[["render",pT]]);var vT=gT,fT={components:{"leave-entitlement-table":vT,"employee-autocomplete":rl,"leave-type-dropdown":$D,"leave-period-dropdown":_$},data(){return{rules:{employee:[So,ia]}}}};const yT=(0,i.Z)(fT,[["render",rT]]);var CT=yT;function bT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("leave-type-dropdown"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("leave-period-dropdown"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("leave-entitlement-table");return(0,a.openBlock)(),(0,a.createBlock)(f,null,{default:(0,a.withCtx)((({filters:t,filterItems:o})=>[(0,a.createVNode)(v,{"filter-title":e.$t("leave.my_leave_entitlements")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.leavePeriod,"onUpdate:modelValue":e=>t.leavePeriod=e,"show-empty-selector":!1},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"])])),_:1})}var VT={components:{"leave-entitlement-table":vT,"leave-type-dropdown":$D,"leave-period-dropdown":_$}};const xT=(0,i.Z)(VT,[["render",bT]]);var wT=xT;const NT={class:"orangehrm-background-container"},kT={class:"orangehrm-card-container"};function _T(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",NT,[(0,a.createElementVNode)("div",kT,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.work_week")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.monday,"onUpdate:modelValue":t[0]||(t[0]=e=>n.workWeek.monday=e),type:"select",options:o.dayTypes,rules:n.rules.monday,label:e.$t("general.monday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.tuesday,"onUpdate:modelValue":t[1]||(t[1]=e=>n.workWeek.tuesday=e),type:"select",options:o.dayTypes,rules:n.rules.tuesday,label:e.$t("general.tuesday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.wednesday,"onUpdate:modelValue":t[2]||(t[2]=e=>n.workWeek.wednesday=e),type:"select",options:o.dayTypes,rules:n.rules.wednesday,label:e.$t("general.wednesday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.thursday,"onUpdate:modelValue":t[3]||(t[3]=e=>n.workWeek.thursday=e),type:"select",options:o.dayTypes,rules:n.rules.thursday,label:e.$t("general.thursday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.friday,"onUpdate:modelValue":t[4]||(t[4]=e=>n.workWeek.friday=e),type:"select",options:o.dayTypes,rules:n.rules.friday,label:e.$t("general.friday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.saturday,"onUpdate:modelValue":t[5]||(t[5]=e=>n.workWeek.saturday=e),type:"select",options:o.dayTypes,rules:n.rules.saturday,label:e.$t("general.saturday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.workWeek.sunday,"onUpdate:modelValue":t[6]||(t[6]=e=>n.workWeek.sunday=e),type:"select",options:o.dayTypes,rules:n.rules.sunday,label:e.$t("general.sunday"),required:""},null,8,["modelValue","options","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const ST={monday:null,tuesday:null,wednesday:null,thursday:null,friday:null,saturday:null,sunday:null};var DT={props:{dayTypes:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/workweek");return{http:e}},data(){return{isLoading:!1,workWeek:{...ST},rules:{monday:[So],tuesday:[So],wednesday:[So],thursday:[So],friday:[So],saturday:[So],sunday:[So]}}},beforeMount(){this.isLoading=!0,this.http.request({method:"GET"}).then((e=>{const{data:t}=e.data;this.workWeek.monday=this.dayTypes.find((e=>e.id===t.monday)),this.workWeek.tuesday=this.dayTypes.find((e=>e.id===t.tuesday)),this.workWeek.wednesday=this.dayTypes.find((e=>e.id===t.wednesday)),this.workWeek.thursday=this.dayTypes.find((e=>e.id===t.thursday)),this.workWeek.friday=this.dayTypes.find((e=>e.id===t.friday)),this.workWeek.saturday=this.dayTypes.find((e=>e.id===t.saturday)),this.workWeek.sunday=this.dayTypes.find((e=>e.id===t.sunday))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){const e=Object.values(this.workWeek).find((e=>8!==e.id));if(void 0===e)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("leave.at_least_one_day_should_be_a_working_day")});this.isLoading=!0,this.http.request({method:"PUT",data:{monday:this.workWeek.monday.id,tuesday:this.workWeek.tuesday.id,wednesday:this.workWeek.wednesday.id,thursday:this.workWeek.thursday.id,friday:this.workWeek.friday.id,saturday:this.workWeek.saturday.id,sunday:this.workWeek.sunday.id}}).then((()=>{this.$toast.saveSuccess(),this.isLoading=!1}))}}};const $T=(0,i.Z)(DT,[["render",_T]]);var TT=$T;const ET={class:"orangehrm-background-container"},IT=(0,a.createElementVNode)("br",null,null,-1),BT={class:"orangehrm-paper-container"},LT={class:"orangehrm-header-container"},AT={class:"orangehrm-container"},UT={class:"orangehrm-bottom-container"};function PT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("date-input"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-table-filter"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("oxd-pagination"),C=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ET,[(0,a.createVNode)(g,{"filter-title":e.$t("leave.holidays")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.fromDate=e),label:e.$t("general.from"),rules:n.rules.fromDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.toDate=e),label:e.$t("general.to"),rules:n.rules.toDate,years:n.yearArray},null,8,["modelValue","label","rules","years"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(u,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),IT,(0,a.createElementVNode)("div",BT,[(0,a.createElementVNode)("div",LT,[(0,a.createVNode)(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(v,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",AT,[(0,a.createVNode)(f,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",UT,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(C,{ref:"deleteDialog"},null,512)])}var qT={components:{"delete-confirmation":vo},props:{leavePeriod:{type:Object,required:!0}},setup(e){const t=(0,a.ref)({fromDate:e.leavePeriod.startDate,toDate:e.leavePeriod.endDate}),o=(0,a.computed)((()=>({fromDate:t.value.fromDate,toDate:t.value.toDate}))),{jsDateFormat:l,userDateFormat:n}=Ae(),{locale:r}=pt(),i=e=>e.map((e=>({id:e.id,name:e.name,date:Ke(Xe(e.date),l,{locale:r}),recurring:e.recurring?"Yes":"No",length:e.lengthName}))),s=new q(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),{showPaginator:d,currentPage:c,total:m,pages:u,pageSize:p,response:h,isLoading:g,execQuery:v}=so(s,{query:o,normalizer:i});return{http:s,showPaginator:d,currentPage:c,isLoading:g,total:m,pages:u,pageSize:p,execQuery:v,items:h,filters:t,userDateFormat:n}},data(){return{yearArray:[...cy(201)],rules:{fromDate:[So,$o(this.userDateFormat)],toDate:[So,$o(this.userDateFormat),Fo((()=>this.filters.fromDate),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"date",title:this.$t("general.date"),style:{flex:2}},{name:"length",title:this.$t("leave.full_day_half_day"),style:{flex:2}},{name:"recurring",title:this.$t("leave.repeats_annually"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/leave/saveHolidays")},onClickEdit(e){U("/leave/saveHolidays/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const MT=(0,i.Z)(qT,[["render",PT]]);var FT=MT;const OT={class:"orangehrm-background-container"},jT={class:"orangehrm-card-container"};function zT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",OT,[(0,a.createElementVNode)("div",jT,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.add_holiday")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.holiday.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=e=>n.holiday.date=e),label:e.$t("general.date"),rules:n.rules.date,years:n.yearArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=e=>n.holiday.length=e),type:"select",label:e.$t("leave.full_day_half_day"),options:o.holidayLengthList,rules:n.rules.length,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const RT={name:"",date:"",recurring:!1,length:{id:0,label:"Full Day"}};var GT={props:{holidayLengthList:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),{userDateFormat:t}=Ae();return{http:e,userDateFormat:t}},data(){return{yearArray:[...cy(201)],isLoading:!1,holiday:{...RT},rules:{name:[So,Do(200)],date:[So,$o(this.userDateFormat)],length:[So]},errors:[]}},created(){this.isLoading=!0;const e=new Date,t=e.getFullYear()-100+"-"+(e.getMonth()+1)+"-"+e.getDate(),o=e.getFullYear()+100+"-"+(e.getMonth()+1)+"-"+e.getDate();this.http.getAll({fromDate:t,toDate:o,limit:0}).then((e=>{const{data:t}=e.data;this.rules.date.push((e=>{const o=t.findIndex((t=>t.date==e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((()=>this.$toast.saveSuccess())).then((()=>{this.holiday={...RT},this.onCancel()}))},onCancel(){U("/leave/viewHolidayList")}}};const ZT=(0,i.Z)(GT,[["render",zT],["__scopeId","data-v-6485b72f"]]);var QT=ZT;const HT={class:"orangehrm-background-container"},WT={class:"orangehrm-card-container"};function YT(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-input-group"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",HT,[(0,a.createElementVNode)("div",WT,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.edit_holiday")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.holiday.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.holiday.date,"onUpdate:modelValue":t[1]||(t[1]=e=>n.holiday.date=e),label:e.$t("general.date"),rules:n.rules.date,years:n.yearArray,required:""},null,8,["modelValue","label","rules","years"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.length,"onUpdate:modelValue":t[2]||(t[2]=e=>n.holiday.length=e),type:"select",label:e.$t("leave.full_day_half_day"),options:o.holidayLengthList,rules:n.rules.length,required:""},null,8,["modelValue","label","options","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{classes:{wrapper:"--status-grouped-field"},label:e.$t("leave.repeats_annually")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[3]||(t[3]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.yes"),value:!0},null,8,["modelValue","option-label"]),(0,a.createVNode)(d,{modelValue:n.holiday.recurring,"onUpdate:modelValue":t[4]||(t[4]=e=>n.holiday.recurring=e),type:"radio","option-label":e.$t("general.no"),value:!1},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const JT={id:"",name:"",date:"",recurring:!1,length:0};var XT={props:{holidayId:{type:Number,required:!0},holidayLengthList:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/leave/holidays"),{userDateFormat:t}=Ae();return{http:e,userDateFormat:t}},data(){return{yearArray:[...cy(201)],isLoading:!1,holiday:{...JT},rules:{name:[So,Do(200)],date:[So,$o(this.userDateFormat)],length:[So]}}},created(){this.isLoading=!0,this.http.get(this.holidayId).then((e=>{const{data:t}=e.data;this.holiday.id=t.id,this.holiday.name=t.name,this.holiday.date=t.date,this.holiday.recurring=t.recurring,""!==t.length&&null!==t.length&&(this.holiday.length=this.holidayLengthList.find((e=>e.id===t.length)));const o=new Date,a=o.getFullYear()-100+"-"+(o.getMonth()+1)+"-"+o.getDate(),l=o.getFullYear()+100+"-"+(o.getMonth()+1)+"-"+o.getDate();return this.http.getAll({fromDate:a,toDate:l,limit:0})})).then((e=>{const{data:t}=e.data;this.rules.date.push((e=>{const o=t.findIndex((t=>t.date===e));if(o>-1){const e=t[o].id;return e==this.holidayId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.holidayId,{name:this.holiday.name,date:this.holiday.date,recurring:this.holiday.recurring,length:this.holiday.length.id}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},onCancel(){U("/leave/viewHolidayList")}}};const KT=(0,i.Z)(XT,[["render",YT],["__scopeId","data-v-48d79cd0"]]);var eE=KT;function tE(e,t,o,l,n,r){const i=(0,a.resolveComponent)("date-input"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("leave-type-dropdown"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("employee-autocomplete"),h=(0,a.resolveComponent)("oxd-text"),g=(0,a.resolveComponent)("oxd-switch-input"),v=(0,a.resolveComponent)("oxd-divider"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("oxd-table-filter"),x=(0,a.resolveComponent)("leave-list-table");return(0,a.openBlock)(),(0,a.createBlock)(x,{"leave-statuses":o.leaveStatuses},{default:(0,a.withCtx)((({filters:t,filterItems:l,rules:n,onReset:r})=>[(0,a.createVNode)(V,{"filter-title":e.$t("leave.leave_list")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(b,{onSubmitValid:l,onReset:r},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.fromDate,"onUpdate:modelValue":e=>t.fromDate=e,label:e.$t("general.from_date"),rules:n.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.toDate,"onUpdate:modelValue":e=>t.toDate=e,label:e.$t("general.to_date"),rules:n.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.statuses,"onUpdate:modelValue":e=>t.statuses=e,value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:o.leaveStatuses,rules:n.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!1},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:t.employee,"onUpdate:modelValue":e=>t.employee=e,rules:n.employee,params:{includeEmployees:t.includePastEmps?"currentAndPast":"onlyCurrent"}},null,8,["modelValue","onUpdate:modelValue","rules","params"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.subunit,"onUpdate:modelValue":e=>t.subunit=e,type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","onUpdate:modelValue","label","options"])])),_:2},1024),(0,a.createVNode)(s,{class:"orangehrm-leave-filter --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{class:"orangehrm-leave-filter-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.include_past_employees")),1)])),_:1}),(0,a.createVNode)(g,{modelValue:t.includePastEmps,"onUpdate:modelValue":e=>t.includePastEmps=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(v),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(y,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid","onReset"])])),_:2},1032,["filter-title"])])),_:1},8,["leave-statuses"])}const oE=e=>((0,a.pushScopeId)("data-v-2e68cbb4"),e=e(),(0,a.popScopeId)(),e),aE={class:"orangehrm-background-container"},lE=oE((()=>(0,a.createElementVNode)("br",null,null,-1))),nE={class:"orangehrm-paper-container"},rE={class:"orangehrm-container"},iE={class:"orangehrm-bottom-container"};function sE(e,t,o,l,n,r){const i=(0,a.resolveComponent)("leave-list-table-header"),s=(0,a.resolveComponent)("oxd-card-table"),d=(0,a.resolveComponent)("oxd-pagination"),c=(0,a.resolveComponent)("leave-comment-modal"),m=(0,a.resolveComponent)("leave-bulk-action-modal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",aE,[(0,a.renderSlot)(e.$slots,"default",{filters:l.filters,rules:l.rules,filterItems:r.filterItems,onReset:r.onReset},void 0,!0),lE,(0,a.createElementVNode)("div",nE,[(0,a.createVNode)(i,{selected:l.checkedItems.length,total:l.total,loading:l.isLoading,"bulk-actions":l.leaveBulkActions,onOnActionClick:r.onLeaveActionBulk},null,8,["selected","total","loading","bulk-actions","onOnActionClick"]),(0,a.createElementVNode)("div",rE,[(0,a.createVNode)(s,{selected:l.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>l.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",iE,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])]),n.showCommentModal?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,id:n.commentModalState,onClose:r.onCommentModalClose},null,8,["id","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{ref:"bulkActionModal",data:n.bulkActionModalState},null,8,["data"])],64)}const dE=(e,{length:t=50,ellipsis:o="..."}={})=>"string"===typeof e?e.length>t?e.substr(0,t)+o:e:"",cE={component:"oxd-button",props:{label:"Approve",displayType:"label-success",size:"medium",onClick:null}},mE={component:"oxd-button",props:{label:"Reject",displayType:"label-danger",size:"medium",onClick:null}},uE={component:"oxd-button",props:{label:"Cancel",displayType:"label-warn",size:"medium",onClick:null}},pE={component:"oxd-table-dropdown",props:{options:[],style:{"margin-left":"auto"},onClick:null}};function hE(e,{primaryActions:t={approve:cE,reject:mE,cancel:uE,more:pE}}={}){const o=(t,o)=>e.request({method:"PUT",url:`/api/v2/leave/leaves/${t}`,data:{action:o}}),a=(t,o)=>e.request({method:"PUT",url:`/api/v2/leave/employees/leave-requests/${t}`,data:{action:o}}),l=(t,o)=>e.request({method:"PUT",url:"/api/v2/leave/employees/leave-requests/bulk",data:{data:t.map((e=>({leaveRequestId:e,action:o})))}});return{leaveActions:t,processLeaveAction:o,processLeaveRequestAction:a,processLeaveRequestBulkAction:l}}const gE={class:"orangehrm-modal-header"},vE={key:0,class:"orangehrm-modal-content"};function fE(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("leave-comment"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gE,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.leave_request_comments")),1)])),_:1})]),(0,a.createVNode)(s),n.isLoading?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",vE,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.comments,(e=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:e.id,data:e},null,8,["data"])))),128))])),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),type:"textarea",placeholder:e.$t("general.comment_here"),rules:n.rules.comment},null,8,["modelValue","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const yE={class:"orangehrm-comment"},CE={class:"orangehrm-comment-profile"},bE={class:"orangehrm-comment-profile-image-wrapper"},VE=["src"],xE={class:"orangehrm-comment-body"},wE={class:"orangehrm-comment-profile-name"},NE={class:"orangehrm-comment-message"},kE={class:"orangehrm-comment-timestamp"};function _E(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",yE,[(0,a.createElementVNode)("div",CE,[(0,a.createElementVNode)("div",bE,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"orangehrm-comment-profile-image",src:l.imgSrc},null,8,VE)])]),(0,a.createElementVNode)("div",xE,[(0,a.createElementVNode)("div",wE,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.fullName),1)])),_:1})]),(0,a.createElementVNode)("div",NE,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.data.comment),1)])),_:1})]),(0,a.createElementVNode)("div",kE,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.commentDate)+" - "+(0,a.toDisplayString)(o.data.time),1)])),_:1})])])])}const SE=`${window.appGlobal.publicPath}/images/default-photo.png`;var DE={name:"LeaveComment",props:{data:{type:Object,required:!0}},setup(e){const t=(0,a.computed)((()=>{const t=e.data.createdByEmployee;return t?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${t.empNumber}`:SE})),o=(0,a.computed)((()=>{const t=e.data.createdByEmployee;return t&&`${t.firstName} ${t.lastName}`})),{jsDateFormat:l}=Ae(),{locale:n}=pt(),r=(0,a.computed)((()=>Ke(Xe(e.data?.date),l,{locale:n})));return{imgSrc:t,fullName:o,commentDate:r}}};const $E=(0,i.Z)(DE,[["render",_E],["__scopeId","data-v-222b3933"]]);var TE=$E,EE={name:"LeaveCommentModal",components:{"oxd-dialog":n.OxdDialog,"leave-comment":TE},props:{id:{type:Number,required:!1,default:null},leaveRequest:{type:Boolean,default:!0}},emits:["close"],setup(e){const t=e.leaveRequest?"leave-requests":"leaves",o=new q(window.appGlobal.baseUrl,`/api/v2/leave/${t}/${e.id}/leave-comments`);return{http:o}},data(){return{isLoading:!1,comment:null,rules:{comment:[So,Do(255)]},comments:[]}},beforeMount(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.comments=t})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({comment:this.comment}).then((()=>{this.$toast.saveSuccess(),this.onCancel()}))},onCancel(){this.comment=null,this.$emit("close",!0)}}};const IE=(0,i.Z)(EE,[["render",fE],["__scopeId","data-v-cbb6349a"]]);var BE=IE;const LE={class:"orangehrm-modal-header"},AE={class:"orangehrm-text-center-align"},UE={class:"orangehrm-modal-footer"};function PE(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",LE,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.leave_action",{action:r.action})),1)])),_:1})]),(0,a.createElementVNode)("div",AE,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.bulk_leave_action_confirm_message_one",{action:r.action,count:r.count}))+" "+(0,a.toDisplayString)(e.$t("leave.bulk_leave_action_confirm_message_two")),1)])),_:1})]),(0,a.createElementVNode)("div",UE,[(0,a.createVNode)(s,{label:e.$t("general.no_cancel"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{label:e.$t("leave.yes_confirm"),"display-type":"secondary",onClick:r.onConfirm},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var qE={name:"LeaveBulkActionModal",components:{"oxd-dialog":n.OxdDialog},props:{data:{type:Object,default:()=>null}},data(){return{show:!1,reject:null,resolve:null}},computed:{count(){return this.data?.count?this.data.count:0},action(){return this.data?.action}},methods:{showDialog(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")}}};const ME=(0,i.Z)(qE,[["render",PE],["__scopeId","data-v-7823af8c"]]);var FE=ME;const OE={class:"orangehrm-header-container"},jE={key:0,class:"actions"};function zE(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",OE,[o.bulkActions&&o.selected>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",jE,[(0,a.createVNode)(i,{tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_selected",{count:o.selected})),1)])),_:1}),o.bulkActions.APPROVE?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,label:e.$t("general.approve"),"display-type":"label-success",onClick:t[0]||(t[0]=t=>e.$emit("onActionClick","APPROVE"))},null,8,["label"])):(0,a.createCommentVNode)("",!0),o.bulkActions.REJECT?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,label:e.$t("general.reject"),"display-type":"label-danger",onClick:t[1]||(t[1]=t=>e.$emit("onActionClick","REJECT"))},null,8,["label"])):(0,a.createCommentVNode)("",!0),o.bulkActions.CANCEL?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,label:e.$t("general.cancel"),"display-type":"label-warn",onClick:t[2]||(t[2]=t=>e.$emit("onActionClick","CANCEL"))},null,8,["label"])):(0,a.createCommentVNode)("",!0)])):((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_found",{count:o.total})),1)])),_:1}))])}var RE={name:"LeaveListTableHeader",props:{loading:{type:Boolean,required:!0},selected:{type:Number,required:!0},total:{type:Number,required:!0},bulkActions:{type:Object,required:!1,default:()=>({})}},emits:["onActionClick"]};const GE=(0,i.Z)(RE,[["render",zE],["__scopeId","data-v-78ad5c40"]]);var ZE=GE;const QE={employee:null,fromDate:null,toDate:null,statuses:[],subunit:null,includePastEmps:!1,leaveType:null};var HE={name:"LeaveListTable",components:{"leave-list-table-header":ZE,"leave-comment-modal":BE,"leave-bulk-action-modal":FE},props:{myLeaveList:{type:Boolean,default:!1},leaveStatuses:{type:Array,default:()=>[]},employee:{type:Object,required:!1,default:()=>null},leaveType:{type:Object,required:!1,default:()=>null},fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null},leaveStatus:{type:Object,required:!1,default:()=>null}},setup(e){const t=(0,a.ref)({...QE,...e.leaveType&&{leaveType:e.leaveType},...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate},...e.leaveStatus&&{statuses:[e.leaveStatus]},...e.employee&&{employee:{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}}}),o=(0,a.ref)([]),{$t:l}=Ne(),{locale:n}=pt(),{jsDateFormat:r,userDateFormat:i}=Ae(),s={fromDate:[So,$o(i)],toDate:[So,$o(i),Fo((()=>t.value.fromDate),l("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],statuses:[So],employee:[ia]},d=(0,a.computed)((()=>{const e=Array.isArray(t.value.statuses)?t.value.statuses:[];return{empNumber:t.value.employee?.id,fromDate:t.value.fromDate,toDate:t.value.toDate,subunitId:t.value.subunit?.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent",statuses:e.map((e=>e.id)),leaveTypeId:t.value.leaveType?.id}})),c=new q(window.appGlobal.baseUrl,"/api/v2/leave/"+(e.myLeaveList?"leave-requests":"employees/leave-requests")),m=e=>e.map((e=>{let t,o,a="";const i=e.dates.durationType?.type;if(e.dates.fromDate&&(t=Ke(Xe(e.dates.fromDate),r,{locale:n})),e.dates.toDate&&(t+=` to ${Ke(Xe(e.dates.toDate),r,{locale:n})}`),e.dates.startTime&&e.dates.endTime&&(t+=` (${e.dates.startTime} - ${e.dates.endTime})`),"half_day_morning"!==i&&"half_day_afternoon"!==i||(t+=` ${l("leave.half_day")}`),Array.isArray(e.leaveBreakdown)&&(o=e.leaveBreakdown.map((e=>`${e.name} (${parseFloat(e.lengthDays).toFixed(2)})`)).join(", ")),Array.isArray(e.leaveBalances))if(e.leaveBalances.length>1)a=e.leaveBalances.map((({period:e,balance:t})=>{const o=parseFloat(t.balance).toFixed(2),a=Ke(Xe(e.startDate),r,{locale:n}),l=Ke(Xe(e.endDate),r,{locale:n});return`${o} (${a} - ${l})`})).join(", ");else{const t=e.leaveBalances[0]?.balance.balance;a=t?parseFloat(t).toFixed(2):"0.00"}const s=`${e.employee?.firstName} ${e.employee?.middleName} ${e.employee?.lastName}`,d=e.leaveType?.name;return e.employee?.terminationId&&l("general.past_employee"),e.leaveType?.deleted&&l("general.deleted"),{id:e.id,empNumber:e.employee?.empNumber,date:t,employeeName:s,leaveType:d,leaveBalance:a,days:parseFloat(e.noOfDays).toFixed(2),status:o,comment:dE(e.lastComment?.comment),actions:e.allowedActions}})),{leaveActions:u,processLeaveRequestAction:p,processLeaveRequestBulkAction:h}=hE(c),{showPaginator:g,currentPage:v,total:f,pages:y,pageSize:C,response:b,isLoading:V,execQuery:x}=so(c,{query:d,normalizer:m}),w=(0,a.computed)((()=>{if(o.value.length>0&&b.value.data){const e=o.value.map((e=>b.value.data[e].actions));return{APPROVE:e.reduce(((e,t)=>e&&t.find((e=>"APPROVE"===e.action))),!0),REJECT:e.reduce(((e,t)=>e&&t.find((e=>"REJECT"===e.action))),!0),CANCEL:e.reduce(((e,t)=>e&&t.find((e=>"CANCEL"===e.action))),!0)}}return null}));return{http:c,showPaginator:g,currentPage:v,isLoading:V,total:f,pages:y,pageSize:C,execQuery:x,items:b,rules:s,filters:t,checkedItems:o,leaveActions:u,leaveBulkActions:w,processLeaveRequestAction:p,processLeaveRequestBulkAction:h}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"employeeName",title:this.$t("general.employee_name"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"days",title:this.$t("leave.number_of_days"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"5%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:this.myLeaveList?"10%":"20%"}}],showCommentModal:!1,commentModalState:null,bulkActionModalState:null}},beforeMount(){this.isLoading=!0,0===this.filters.statuses.length&&(this.filters.statuses=this.myLeaveList?this.leaveStatuses:this.leaveStatuses.filter((e=>1===e.id))),this.http.request({method:"GET",url:"/api/v2/leave/leave-periods"}).then((e=>{const{data:t,meta:o}=e.data;o.leavePeriodDefined?(this.filters.fromDate=this.filters.fromDate??o?.currentLeavePeriod.startDate,this.filters.toDate=this.filters.toDate??o?.currentLeavePeriod.endDate):(this.filters.fromDate=this.filters.fromDate??t[0]?.startDate,this.filters.toDate=this.filters.toDate??t[0]?.endDate)})).finally((()=>{this.isLoading=!1,Object.assign(QE,this.filters)}))},methods:{cellRenderer(...[,,,e]){const t={},{approve:o,reject:a,cancel:l,more:n}=this.leaveActions,r=[{label:this.$t("general.add_comment"),context:"add_comment"},{label:this.$t("leave.view_leave_details"),context:"leave_details"},{label:this.$t("leave.view_pim_info"),context:"pim_details"}];return e.actions.map((n=>{"APPROVE"===n.action&&(o.props.label=this.$t("general.approve"),o.props.onClick=()=>this.onLeaveAction(e.id,"APPROVE"),t.approve=o),"REJECT"===n.action&&(a.props.label=this.$t("general.reject"),a.props.onClick=()=>this.onLeaveAction(e.id,"REJECT"),t.reject=a),"CANCEL"===n.action&&(this.myLeaveList?(l.props.label=this.$t("general.cancel"),l.props.onClick=()=>this.onLeaveAction(e.id,"CANCEL"),t.reject=l):r.push({label:this.$t("leave.cancel_leave"),context:"cancel_leave"}))})),n.props.options=r,n.props.onClick=t=>this.onLeaveDropdownAction(t,e),t.more=n,{props:{header:{cellConfig:t}}}},onLeaveDropdownAction(e,t){switch(e.context){case"add_comment":this.commentModalState=t.id,this.showCommentModal=!0;break;case"cancel_leave":this.onLeaveAction(t.id,"CANCEL");break;case"pim_details":U("/pim/viewPersonalDetails/empNumber/{id}",{id:t.empNumber});break;default:U("/leave/viewLeaveRequest/{id}",{id:t.id},this.myLeaveList&&{mode:"my-leave"})}},onLeaveAction(e,t){this.isLoading=!0,this.processLeaveRequestAction(e,t).then((()=>{this.$toast.updateSuccess()})).finally(this.resetDataTable)},async onLeaveActionBulk(e){this.isLoading=!0,this.bulkActionModalState={count:this.checkedItems.length,action:e};const t=this.checkedItems.map((e=>this.items.data[e].id)),o=await this.$refs.bulkActionModal.showDialog();"ok"===o?this.processLeaveRequestBulkAction(t,e).then((t=>{const{data:o}=t.data;Array.isArray(o)&&this.$toast.success({title:this.$t("general.success"),message:this.$t("leave.leave_requests_action",{action:e,count:o.length})})})).finally((()=>{this.bulkActionModalState=null,this.resetDataTable()})):this.isLoading=!1},onCommentModalClose(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onReset(){this.filters={...QE},this.resetDataTable()}}};const WE=(0,i.Z)(HE,[["render",sE],["__scopeId","data-v-2e68cbb4"]]);var YE=WE,JE={components:{"leave-list-table":YE,"employee-autocomplete":rl,"oxd-switch-input":n.OxdSwitchInput,"leave-type-dropdown":$D},props:{subunits:{type:Array,default:()=>[]},leaveStatuses:{type:Array,default:()=>[]}}};const XE=(0,i.Z)(JE,[["render",tE],["__scopeId","data-v-7abe0f65"]]);var KE=XE;const eI=e=>((0,a.pushScopeId)("data-v-5cf2c6b8"),e=e(),(0,a.popScopeId)(),e),tI={class:"orangehrm-background-container"},oI={class:"orangehrm-paper-container"},aI={class:"orangehrm-header-container"},lI=eI((()=>(0,a.createElementVNode)("br",null,null,-1))),nI={class:"orangehrm-horizontal-padding"},rI=eI((()=>(0,a.createElementVNode)("br",null,null,-1))),iI={class:"orangehrm-container"},sI={class:"orangehrm-bottom-container"};function dI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("table-header"),p=(0,a.resolveComponent)("oxd-card-table"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-pagination"),v=(0,a.resolveComponent)("leave-comment-modal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",tI,[(0,a.createElementVNode)("div",oI,[(0,a.createElementVNode)("div",aI,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.myLeaveRequest?e.$t("leave.my_leave_request_details"):e.$t("leave.leave_request_details")),1)])),_:1})]),(0,a.createVNode)(s,{class:"orangehrm-horizontal-margin orangehrm-clear-margins"}),lI,(0,a.createElementVNode)("div",nI,[(0,a.createVNode)(m,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.employee_name")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-request-details-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.employeeName),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("leave.requested_for")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-request-details-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.leavePeriod),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})]),rI,(0,a.createVNode)(u,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",iI,[(0,a.createVNode)(p,{headers:n.headers,items:l.response&&l.response.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",sI,[(0,a.createElementVNode)("span",null,[(0,a.createVNode)(h,{"display-type":"ghost",label:e.$t("general.back"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(h,{class:"orangehrm-left-space","display-type":"secondary","icon-name":"chat-right-text-fill",label:e.$t("general.comments"),onClick:r.onClickComments},null,8,["label","onClick"])]),l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(g,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])]),n.showCommentModal?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,id:n.commentModalState,"leave-request":n.isLeaveRequest,onClose:r.onCommentModalClose},null,8,["id","leave-request","onClose"])):(0,a.createCommentVNode)("",!0)],64)}var cI={name:"LeaveViewRequest",components:{"leave-comment-modal":BE},props:{leaveRequestId:{type:String,required:!0},myLeaveRequest:{type:Boolean,default:!1}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/leave/leave-requests/${e.leaveRequestId}/leaves`),{leaveActions:o,processLeaveAction:a}=hE(t),{$t:l}=Ne(),{jsDateFormat:n}=Ae(),{locale:r}=pt(),{$tEmpName:i}=il(),s=e=>e.map((e=>{let t="";const o=e.dates.durationType?.type;e.dates.fromDate&&(t=Ke(Xe(e.dates.fromDate),n,{locale:r})),e.dates.startTime&&e.dates.endTime&&(t+=` (${e.dates.startTime} - ${e.dates.endTime})`),"half_day_morning"!==o&&"half_day_afternoon"!==o||(t+=` ${l("leave.half_day")}`);const a=e.leaveType?.name;return e.leaveType?.deleted&&l("general.deleted"),{id:e.id,date:t,leaveType:a,leaveBalance:e.leaveBalance?.balance.balance?parseFloat(e.leaveBalance.balance.balance).toFixed(2):void 0,duration:parseFloat(e.lengthHours).toFixed(2),status:e.leaveStatus?.name,comment:dE(e.lastComment?.comment),actions:e.allowedActions,canComment:!(5===e.leaveStatus?.id||4===e.leaveStatus?.id)}})),{showPaginator:d,currentPage:c,total:m,pages:u,pageSize:p,response:h,isLoading:g,execQuery:v}=so(t,{normalizer:s});return{http:t,showPaginator:d,currentPage:c,isLoading:g,total:m,pages:u,pageSize:p,execQuery:v,response:h,leaveActions:o,processLeaveAction:a,jsDateFormat:n,locale:r,translateEmpName:i}},data(){return{headers:[{name:"date",title:this.$t("general.date"),style:{flex:1}},{name:"leaveType",title:this.$t("leave.leave_type"),style:{flex:1}},{name:"leaveBalance",title:this.$t("leave.leave_balance_days"),style:{flex:1}},{name:"duration",title:this.$t("attendance.duration_hours"),style:{flex:1}},{name:"status",title:this.$t("general.status"),style:{flex:1}},{name:"comment",title:this.$t("general.comments"),style:{flex:"10%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer,style:{flex:"20%"}}],showCommentModal:!1,commentModalState:null,isLeaveRequest:!1}},computed:{employeeName(){const e=this.response?.meta?.employee;return e?this.translateEmpName(e,{includeMiddle:!0,excludePastEmpTag:!1}):""},leavePeriod(){const e=Ke(Xe(this.response?.meta?.startDate),this.jsDateFormat,{locale:this.locale}),t=Ke(Xe(this.response?.meta?.endDate),this.jsDateFormat,{locale:this.locale});return e===t?e:`${e} - ${t}`}},methods:{cellRenderer(...[,,,e]){const t={},o=[],{approve:a,reject:l,cancel:n,more:r}=this.leaveActions;return e.canComment&&o.push({label:"Add Comment",context:"add_comment"}),e.actions.map((r=>{"APPROVE"===r.action&&(a.props.label=this.$t("general.approve"),a.props.onClick=()=>this.onLeaveAction(e.id,"APPROVE"),t.approve=a),"REJECT"===r.action&&(l.props.label=this.$t("general.reject"),l.props.onClick=()=>this.onLeaveAction(e.id,"REJECT"),t.reject=l),"CANCEL"===r.action&&(this.myLeaveRequest?(n.props.label=this.$t("general.cancel"),n.props.onClick=()=>this.onLeaveAction(e.id,"CANCEL"),t.cancel=n):o.push({label:"Cancel Leave",context:"cancel_leave"}))})),o.length>0&&(r.props.options=o,r.props.onClick=t=>this.onLeaveDropdownAction(t,e),t.more=r),{props:{header:{cellConfig:t}}}},onClickComments(){this.commentModalState=this.leaveRequestId,this.isLeaveRequest=!0,this.showCommentModal=!0},onCommentModalClose(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},onLeaveDropdownAction(e,t){"cancel_leave"===e.context?this.onLeaveAction(t.id,"CANCEL"):(this.commentModalState=t.id,this.isLeaveRequest=!1,this.showCommentModal=!0)},onLeaveAction(e,t){this.isLoading=!0,this.processLeaveAction(e,t).then((()=>{this.$toast.updateSuccess()})).finally(this.resetDataTable)},onClickBack(){this.myLeaveRequest?U("/leave/viewMyLeaveList"):U("/leave/viewLeaveList")},async resetDataTable(){await this.execQuery()}}};const mI=(0,i.Z)(cI,[["render",dI],["__scopeId","data-v-5cf2c6b8"]]);var uI=mI;function pI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("date-input"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("leave-type-dropdown"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-divider"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("oxd-table-filter"),C=(0,a.resolveComponent)("leave-list-table");return(0,a.openBlock)(),(0,a.createBlock)(C,{"leave-statuses":o.leaveStatuses,"my-leave-list":!0},{default:(0,a.withCtx)((({filters:t,filterItems:l,rules:n,onReset:r})=>[(0,a.createVNode)(y,{"filter-title":e.$t("leave.my_leave_list")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{onSubmitValid:l,onReset:r},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.fromDate,"onUpdate:modelValue":e=>t.fromDate=e,label:e.$t("general.from_date"),rules:n.fromDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:t.toDate,"onUpdate:modelValue":e=>t.toDate=e,label:e.$t("general.to_date"),rules:n.toDate},null,8,["modelValue","onUpdate:modelValue","label","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:t.statuses,"onUpdate:modelValue":e=>t.statuses=e,value:"Select",type:"multiselect",label:e.$t("leave.show_leave_with_status"),options:o.leaveStatuses,rules:n.statuses,required:""},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:t.leaveType,"onUpdate:modelValue":e=>t.leaveType=e,"eligible-only":!0,"include-allocated":!0},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(p),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid","onReset"])])),_:2},1032,["filter-title"])])),_:1},8,["leave-statuses"])}var hI={components:{"leave-list-table":YE,"leave-type-dropdown":$D},props:{leaveStatuses:{type:Array,default:()=>[]}}};const gI=(0,i.Z)(hI,[["render",pI]]);var vI=gI;const fI=e=>((0,a.pushScopeId)("data-v-6ef58e5d"),e=e(),(0,a.popScopeId)(),e),yI=fI((()=>(0,a.createElementVNode)("br",null,null,-1)));function CI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-input-group"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("leave-type-dropdown"),p=(0,a.resolveComponent)("leave-period-dropdown"),h=(0,a.resolveComponent)("jobtitle-dropdown"),g=(0,a.resolveComponent)("oxd-text"),v=(0,a.resolveComponent)("oxd-switch-input"),f=(0,a.resolveComponent)("employee-autocomplete"),y=(0,a.resolveComponent)("oxd-divider"),C=(0,a.resolveComponent)("required-text"),b=(0,a.resolveComponent)("oxd-button"),V=(0,a.resolveComponent)("oxd-form-actions"),x=(0,a.resolveComponent)("oxd-form"),w=(0,a.resolveComponent)("oxd-table-filter"),N=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(N,{module:"leave",name:l.filters.type,filters:l.serializedFilters,"column-count":6},{default:(0,a.withCtx)((({generateReport:n})=>[(0,a.createVNode)(w,{"filter-title":e.$t("leave.leave_entitlement_and_usage_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{onSubmitValid:n},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.$t("leave.generate_for"),classes:{wrapper:"--grouped-field"}},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.type,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.type=e),type:"radio","option-label":e.$t("leave.leave_type"),value:"leave_type_leave_entitlements_and_usage"},null,8,["modelValue","option-label"]),(0,a.createVNode)(i,{modelValue:l.filters.type,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.type=e),type:"radio","option-label":e.$t("general.employee"),value:"employee_leave_entitlements_and_usage"},null,8,["modelValue","option-label"])])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),"leave_type_leave_entitlements_and_usage"===l.filters.type?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.leaveType,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.leaveType=e),"empty-text":e.$t("leave.no_leave_types_defined"),"eligible-only":!1,"show-empty-selector":!1,rules:l.rules.leaveType},null,8,["modelValue","empty-text","rules"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.location,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.location=e),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-leave-filter --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{class:"orangehrm-leave-filter-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("leave.include_past_employees")),1)])),_:1}),(0,a.createVNode)(v,{modelValue:l.filters.includePastEmps,"onUpdate:modelValue":t[7]||(t[7]=e=>l.filters.includePastEmps=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(m,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:l.filters.employee,"onUpdate:modelValue":t[8]||(t[8]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"},required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[9]||(t[9]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1})),(0,a.createVNode)(y),(0,a.createVNode)(V,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C),(0,a.createVNode)(b,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),yI])),_:1},8,["name","filters"])}const bI={type:"leave_type_leave_entitlements_and_usage",employee:null,leavePeriod:null,leaveType:null,subunit:null,location:null,jobTitle:null,includePastEmps:!1};var VI={components:{"reports-table":Ox,"oxd-switch-input":n.OxdSwitchInput,"jobtitle-dropdown":fp,"leave-type-dropdown":$D,"leave-period-dropdown":_$,"employee-autocomplete":rl},props:{locations:{type:Array,default:()=>[]},subunits:{type:Array,default:()=>[]},leavePeriod:{type:Object,required:!1,default:()=>null}},setup(e){const t=(0,a.ref)({...bI,...e.leavePeriod&&{leavePeriod:e.leavePeriod}}),o=(0,a.ref)({employee:[So,ia],leavePeriod:[So],leaveType:[So]}),l=(0,a.computed)((()=>"leave_type_leave_entitlements_and_usage"===t.value.type?{name:t.value.type,fromDate:t.value.leavePeriod?.startDate,toDate:t.value.leavePeriod?.endDate,subunitId:t.value.subunit?.id,leaveTypeId:t.value.leaveType?.id,locationId:t.value.location?.id,jobTitleId:t.value.jobTitle?.id,includeEmployees:t.value.includePastEmps?"currentAndPast":"onlyCurrent"}:{name:t.value.type,empNumber:t.value.employee?.id,fromDate:t.value.leavePeriod?.startDate,toDate:t.value.leavePeriod?.endDate}));return{rules:o,filters:t,serializedFilters:l}}};const xI=(0,i.Z)(VI,[["render",CI],["__scopeId","data-v-6ef58e5d"]]);var wI=xI;const NI=(0,a.createElementVNode)("br",null,null,-1);function kI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("leave-period-dropdown"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(f,{module:"leave",name:"my_leave_entitlements_and_usage",prefetch:!0,filters:l.serializedFilters,"column-count":6},{default:(0,a.withCtx)((({generateReport:o})=>[(0,a.createVNode)(v,{"filter-title":e.$t("leave.my_leave_entitlement_and_usage_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:o},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.leavePeriod,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.leavePeriod=e),rules:l.rules.leavePeriod,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{type:"submit","display-type":"secondary",class:"orangehrm-left-space",label:e.$t("general.generate")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),NI])),_:1},8,["filters"])}var _I={components:{"reports-table":Ox,"leave-period-dropdown":_$},props:{leavePeriod:{type:Object,required:!1,default:()=>({})}},setup(e){const t=(0,a.ref)({leavePeriod:e.leavePeriod?e.leavePeriod:null}),o=(0,a.ref)({leavePeriod:[So]}),l=(0,a.computed)((()=>({fromDate:t.value.leavePeriod?.startDate,toDate:t.value.leavePeriod?.endDate})));return{rules:o,filters:t,serializedFilters:l}}};const SI=(0,i.Z)(_I,[["render",kI]]);var DI=SI,$I={"leave-period":$S,"leave-apply":VD,"leave-assign":OD,"leave-type-edit":m$,"leave-type-list":YD,"leave-type-save":C$,"leave-add-entitlement":X$,"leave-edit-entitlement":nT,"leave-view-entitlement":CT,"leave-view-my-entitlement":wT,"work-week":TT,"holiday-list":FT,"holiday-save":QT,"holiday-edit":eE,"leave-list":KE,"leave-view-request":uI,"my-leave-list":vI,"leave-entitlement-report":wI,"my-leave-entitlement-report":DI};const TI={class:"orangehrm-background-container"},EI={class:"orangehrm-paper-container"},II={class:"orangehrm-header-container"},BI={class:"orangehrm-container"},LI={class:"orangehrm-bottom-container"};function AI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination"),u=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",TI,[(0,a.createElementVNode)("div",EI,[(0,a.createElementVNode)("div",II,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.oauth_client_list")),1)])),_:1}),(0,a.createElementVNode)("div",null,[(0,a.createVNode)(s,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])]),(0,a.createVNode)(d,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",BI,[(0,a.createVNode)(c,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",LI,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(u,{ref:"deleteDialog"},null,512)])}var UI={components:{"delete-confirmation":vo},props:{unselectableClientIds:{type:Array,default:()=>[]}},setup(e){const{$t:t}=Ne(),o=o=>o.map((o=>{const a=e.unselectableClientIds.findIndex((e=>e===o.clientId));return{id:o.id,name:o.name,redirectUri:o.redirectUri,enabled:o.enabled?t("general.enabled"):t("general.disabled"),isSelectable:-1===a,isDisabled:-1!==a}})),a=new q(window.appGlobal.baseUrl,"/api/v2/admin/oauth-clients"),{showPaginator:l,currentPage:n,total:r,pages:i,pageSize:s,response:d,isLoading:c,execQuery:m}=so(a,{normalizer:o});return{http:a,showPaginator:l,currentPage:n,isLoading:c,total:r,pages:i,pageSize:s,execQuery:m,items:d}},data(){return{headers:[{name:"name",slot:"title",title:this.$t("general.name"),style:{flex:2}},{name:"redirectUri",title:this.$t("admin.redirect_uri"),style:{flex:3}},{name:"enabled",title:this.$t("general.status"),style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[]}},methods:{onClickAdd(){U("/admin/saveOAuthClient")},onClickEdit(e){U("/admin/editOAuthClient",{},{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const PI=(0,i.Z)(UI,[["render",AI]]);var qI=PI;const MI={class:"orangehrm-background-container"},FI={class:"orangehrm-card-container"};function OI(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-alert"),u=(0,a.resolveComponent)("oxd-switch-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",MI,[(0,a.createElementVNode)("div",FI,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.editMode?e.$t("admin.edit_oauth_client"):e.$t("admin.add_oauth_client")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.oAuthClient.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.oAuthClient.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.oAuthClient.redirectUri,"onUpdate:modelValue":t[1]||(t[1]=e=>n.oAuthClient.redirectUri=e),label:e.$t("admin.redirect_uri"),rules:n.rules.redirectUri,required:""},null,8,["modelValue","label","rules"])])),_:1}),r.editMode?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(c,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.oAuthClient.clientId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.oAuthClient.clientId=e),label:e.$t("admin.client_id"),disabled:""},null,8,["modelValue","label"])])),_:1}),r.showClientSecret?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,class:"--offset-row-4"},{default:(0,a.withCtx)((()=>[n.isSecretPlain?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,type:"warn",show:!0,message:e.$t("admin.client_secret_warning_message")},null,8,["message"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{modelValue:n.oAuthClient.clientSecret,"onUpdate:modelValue":t[3]||(t[3]=e=>n.oAuthClient.clientSecret=e),label:e.$t("admin.client_secret"),disabled:""},null,8,["modelValue","label"])])),_:1})):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{class:"--offset-row-5"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-field-row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.enable_client")),1)])),_:1}),(0,a.createVNode)(u,{modelValue:n.oAuthClient.enabled,"onUpdate:modelValue":t[4]||(t[4]=e=>n.oAuthClient.enabled=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),r.editMode?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,class:"--offset-row-6"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-field-row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.confidential_client")),1)])),_:1}),(0,a.createVNode)(u,{modelValue:n.oAuthClient.confidential,"onUpdate:modelValue":t[5]||(t[5]=e=>n.oAuthClient.confidential=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const jI={id:null,name:"",redirectUri:"",enabled:!0,clientId:null,clientSecret:"********",confidential:!1};var zI={components:{"oxd-switch-input":n.OxdSwitchInput,"oxd-alert":n.OxdAlert},props:{id:{type:Number,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/admin/oauth-clients");return{http:e}},data(){return{isLoading:!1,isSecretPlain:!1,oAuthClient:{...jI},rules:{name:[So,Do(80)],redirectUri:[So,Do(2e3)]}}},computed:{editMode(){return null!==this.oAuthClient.clientId},showClientSecret(){return!0===this.oAuthClient.confidential}},created(){this.isLoading=!0,this.getClient().then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name===e));if(o>-1){const{id:e}=t[o];return e===this.id||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{getClient(){return null!==this.id?this.http.get(this.id).then((e=>{const{data:t}=e.data;return this.setDataFromResponse(t),this.http.getAll({limit:0})})):this.http.getAll({limit:0})},onCancel(){U("/admin/registerOAuthClient")},onSave(){this.isLoading=!0,(this.editMode?this.update():this.create()).finally((()=>{this.isLoading=!1}))},create(){return this.http.create({name:this.oAuthClient.name,redirectUri:this.oAuthClient.redirectUri,enabled:this.oAuthClient.enabled,confidential:this.oAuthClient.confidential}).then((e=>{const{data:t,meta:o}=e.data;return this.setDataFromResponse(t),this.oAuthClient.clientSecret=o.clientSecret,this.isSecretPlain=!0,this.$toast.saveSuccess()}))},update(){return this.http.update(this.oAuthClient.id,{name:this.oAuthClient.name,redirectUri:this.oAuthClient.redirectUri,enabled:this.oAuthClient.enabled,confidential:this.oAuthClient.confidential}).then((e=>{const{data:t,meta:o}=e.data;return this.setDataFromResponse(t),!0===t.confidential&&null!==o.clientSecret&&(this.oAuthClient.clientSecret=o.clientSecret,this.isSecretPlain=!0),this.$toast.updateSuccess()}))},setDataFromResponse(e){this.oAuthClient.id=e.id,this.oAuthClient.name=e.name,this.oAuthClient.redirectUri=e.redirectUri,this.oAuthClient.enabled=e.enabled,this.oAuthClient.clientId=e.clientId,this.oAuthClient.confidential=e.confidential}}};const RI=(0,i.Z)(zI,[["render",OI],["__scopeId","data-v-6ea3f680"]]);var GI=RI;const ZI=e=>((0,a.pushScopeId)("data-v-3810ee3c"),e=e(),(0,a.popScopeId)(),e),QI={class:"orangehrm-oauth-container"},HI={class:"orangehrm-card-container"},WI={class:"orangehrm-oauth-list"},YI=ZI((()=>(0,a.createElementVNode)("br",null,null,-1))),JI=["value"],XI=["name","value"],KI={class:"orangehrm-oauth-button-container"};function eB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("login-branding"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("oxd-form"),u=(0,a.resolveComponent)("oxd-alert");return(0,a.openBlock)(),(0,a.createElementBlock)("div",QI,[(0,a.createElementVNode)("div",HI,[(0,a.createVNode)(i,{"img-src":o.loginBannerSrc,class:"orangehrm-oauth-branding"},null,8,["img-src"]),(0,a.createVNode)(s),null===o.errorType?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.client_name_would_like_to",{clientName:o.clientName}))+": ",1)])),_:1}),(0,a.createElementVNode)("ul",WI,[(0,a.createElementVNode)("li",null,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.access_and_manage_your_data")),1)])),_:1})]),(0,a.createElementVNode)("li",null,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.perform_actions_on_your_behalf")),1)])),_:1})])]),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.do_you_want_to_allow_access")),1)])),_:1}),YI,(0,a.createVNode)(m,{ref:"authorizeForm",method:"GET",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("input",{name:"authorized",value:n.authorized,type:"hidden"},null,8,JI),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.params,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t},[(0,a.createElementVNode)("input",{name:t,value:e,type:"hidden"},null,8,XI)])))),128)),(0,a.createElementVNode)("div",KI,[(0,a.createVNode)(c,{"display-type":"ghost",size:"large",class:"orangehrm-oauth-button",label:e.$t("auth.deny"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(c,{"display-type":"secondary",class:"orangehrm-oauth-button",size:"large",label:e.$t("auth.allow_access"),type:"submit"},null,8,["label"])])])),_:1},8,["action","onSubmitValid"])],64)):"orangehrm_mobile_app"===o.params["client_id"]?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,show:!0,type:"error",message:e.$t("auth.mobile_client_disabled_error")},null,8,["message"])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createVNode)(u,{show:!0,type:"error",message:e.$t("auth.this_request_is_invalid")},null,8,["message"]),(0,a.createVNode)(d,{class:"orangehrm-oauth-error"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.error"))+": "+(0,a.toDisplayString)(o.errorType),1)])),_:1})],64))]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}const tB={class:"orangehrm-login-branding"},oB=["src"];function aB(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",tB,[(0,a.createElementVNode)("img",{src:o.imgSrc,alt:"company-branding"},null,8,oB)])}var lB={name:"LoginBranding",props:{imgSrc:{type:String,required:!0}}};const nB=(0,i.Z)(lB,[["render",aB],["__scopeId","data-v-3dda64e6"]]);var rB=nB,iB={name:"OAuthAuthorize",components:{"login-branding":rB,"oxd-alert":n.OxdAlert},props:{params:{type:Object,required:!0},clientName:{type:String,default:null},errorType:{type:String,default:null},loginBannerSrc:{type:String,required:!0}},data(){return{authorized:!0}},computed:{submitUrl(){return A("/oauth2/authorize/consent")}},methods:{onCancel(){this.authorized=!1,this.onSubmit()},onSubmit(){this.$nextTick((()=>{this.$refs.authorizeForm.$el.submit()}))}}};const sB=(0,i.Z)(iB,[["render",eB],["__scopeId","data-v-3810ee3c"]]);var dB=sB,cB={"oauth-client-list":qI,"oauth-client-save":GI,"oauth-authorize":dB};const mB={class:"orangehrm-background-container"},uB={class:"orangehrm-card-container"},pB={class:"orangehrm-paper-container"};function hB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("record-attendance");return(0,a.openBlock)(),(0,a.createElementBlock)("div",mB,[(0,a.createElementVNode)("div",uB,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.punch_in")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",pB,[(0,a.createVNode)(d,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.$attrs)),null,16)])])])}function gB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-input-group"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("date-input"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("timezone-dropdown"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createBlock)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[n.attendanceRecord.previousRecord?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(d,{class:(0,a.normalizeClass)(n.attendanceRecord.previousRecord.note?"":"--span-column-2")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.$t("attendance.punched_in_time")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.previousAttendanceRecordDate)+" - "+(0,a.toDisplayString)(r.previousAttendanceRecordTime)+" ",1),(0,a.createVNode)(i,{tag:"span",class:"orangehrm-attendance-punchedIn-timezone"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(`(GMT ${n.previousRecordTimezone})`),1)])),_:1})])),_:1})])),_:1},8,["label"])])),_:1},8,["class"]),n.attendanceRecord.previousRecord.note?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{label:e.$t("attendance.punched_in_note")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.attendanceRecord.previousRecord.note),1)])),_:1})])),_:1},8,["label"])])),_:1})):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(c,{key:n.attendanceRecord.time,modelValue:n.attendanceRecord.date,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attendanceRecord.date=e),label:e.$t("general.date"),rules:n.rules.date,disabled:!o.isEditable,required:""},null,8,["modelValue","label","rules","disabled"]))])),_:1}),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendanceRecord.time,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attendanceRecord.time=e),label:e.$t("general.time"),disabled:!o.isEditable,rules:n.rules.time,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","disabled","rules","placeholder"])])),_:1})])),_:1})])),_:1}),o.isTimezoneEditable?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,cols:2},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.attendanceRecord.timezone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.attendanceRecord.timezone=e),required:""},null,8,["modelValue"])])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendanceRecord.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.attendanceRecord.note=e),rules:n.rules.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{label:o.attendanceRecordId?e.$t("attendance.out"):e.$t("attendance.in")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])}function vB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",options:l.options,label:e.$t("attendance.timezone"),"show-empty-selector":!1},null,8,["options","label"])}var fB={name:"TimezoneDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/attendance/timezones");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.map((e=>({id:e.name,label:`(GMT${e.label}) ${e.name}`,_offset:parseFloat(e.offset)})))}))})),{options:e}}};const yB=(0,i.Z)(fB,[["render",vB]]);var CB=yB;const bB={date:null,time:null,note:null,timezone:null,previousRecord:null};var VB={name:"RecordAttendance",components:{"timezone-dropdown":CB},props:{isEditable:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1},attendanceRecordId:{type:Number,default:null},employeeId:{type:Number,default:null},date:{type:String,default:null}},setup(e){const t=e.employeeId?`/api/v2/attendance/employees/${e.employeeId}/records`:"/api/v2/attendance/records",o=new q(window.appGlobal.baseUrl,t),{jsDateFormat:a,userDateFormat:l,timeFormat:n,jsTimeFormat:r}=Ae(),{locale:i}=pt();return{http:o,locale:i,timeFormat:n,jsTimeFormat:r,jsDateFormat:a,userDateFormat:l}},data(){return{isLoading:!1,attendanceRecord:{...bB},rules:{date:[So,$o(this.userDateFormat),(0,n.promiseDebounce)(this.validateDate,500)],time:[So,(0,n.promiseDebounce)(this.validateDate,500)],note:[Do(250)]},previousRecordTimezone:null}},computed:{previousAttendanceRecordDate(){return this.attendanceRecord?.previousRecord?Ke(Xe(this.attendanceRecord.previousRecord.userDate),this.jsDateFormat,{locale:this.locale}):null},previousAttendanceRecordTime(){return this.attendanceRecord?.previousRecord?lt(at(this.attendanceRecord.previousRecord.userTime,this.timeFormat),this.jsTimeFormat):null}},beforeMount(){if(this.isLoading=!0,this.isTimezoneEditable){const e=ut();this.attendanceRecord.timezone={id:e.name,label:e.label,_name:e.name,_offset:e.offset}}this.setCurrentDateTime().then((()=>{!this.date&&!this.isEditable&&ct(this.setCurrentDateTime,6e4);let e="/api/v2/attendance/records/latest";return this.employeeId&&(e=`/api/v2/attendance/records/latest?empNumber=${this.employeeId}`),this.attendanceRecordId?this.http.request({method:"GET",url:e}):null})).then((e=>{if(e){const{data:t}=e.data;this.attendanceRecord.previousRecord=t.punchIn}})).then((()=>{this.previousRecordTimezone=mt(this.attendanceRecord.previousRecord?.offset)})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e=ut();this.http.request({method:this.attendanceRecordId?"PUT":"POST",data:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,note:this.attendanceRecord.note,timezoneOffset:this.attendanceRecord.timezone?._offset??e.offset,timezoneName:this.attendanceRecord.timezone?.id??e.name}}).then((()=>this.$toast.saveSuccess())).then((()=>{this.employeeId?U("/attendance/viewAttendanceRecord",void 0,{employeeId:this.employeeId,date:this.date}):P()}))},setCurrentDateTime(){return new Promise(((e,t)=>{this.http.request({method:"GET",url:"/api/v2/attendance/current-datetime"}).then((t=>{const{utcDate:o,utcTime:a}=t.data.data,l=Xe(`${o} ${a} +00:00`,"yyyy-MM-dd HH:mm xxx");this.attendanceRecord.date=this.date??Ke(l,"yyyy-MM-dd"),this.attendanceRecord.time=Ke(l,"HH:mm"),e()})).catch((e=>t(e)))}))},validateDate(){if(!this.attendanceRecord.date||!this.attendanceRecord.time)return!0;if(null===Xe(this.attendanceRecord.date))return!0;const e=(new Date).getTimezoneOffset()/60*-1;return new Promise((t=>{this.http.request({method:"GET",url:`/api/v2/attendance/${this.attendanceRecordId?"punch-out":"punch-in"}/overlaps`,params:{date:this.attendanceRecord.date,time:this.attendanceRecord.time,timezoneOffset:this.attendanceRecord.timezone?._offset??e,empNumber:this.employeeId},validateStatus:e=>e>=200&&e<300||400==e}).then((e=>{const{data:o,error:a}=e.data;return a?t(a.message):!0===o.valid?t(!0):t(this.$t("attendance.overlapping_records_found"))}))}))}}};const xB=(0,i.Z)(VB,[["render",gB],["__scopeId","data-v-3d5e6918"]]);var wB=xB,NB={components:{"record-attendance":wB},inheritAttrs:!1};const kB=(0,i.Z)(NB,[["render",hB]]);var _B=kB;const SB={class:"orangehrm-background-container"},DB={class:"orangehrm-card-container"},$B={class:"orangehrm-paper-container"};function TB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("record-attendance");return(0,a.openBlock)(),(0,a.createElementBlock)("div",SB,[(0,a.createElementVNode)("div",DB,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.punch_out")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",$B,[(0,a.createVNode)(d,(0,a.normalizeProps)((0,a.guardReactiveProps)(e.$attrs)),null,16)])])])}var EB={components:{"record-attendance":wB},inheritAttrs:!1};const IB=(0,i.Z)(EB,[["render",TB]]);var BB=IB;const LB={class:"orangehrm-background-container"},AB={class:"orangehrm-card-container"},UB={class:"orangehrm-header"},PB={class:"orangehrm-paper-container"};function qB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("date-input"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("timezone-dropdown"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",LB,[(0,a.createElementVNode)("div",AB,[(0,a.createElementVNode)("div",UB,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.edit_attendance_records")),1)])),_:1}),r.totalDuration?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,tag:"span",class:"orangehrm-header-total"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(r.totalDuration),1)])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(s),(0,a.createElementVNode)("div",PB,[(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid no-gap"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.punch_in")),1)])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.attendance.punchIn.userDate,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attendance.punchIn.userDate=e),label:e.$t("general.date"),rules:n.rules.punchIn.userDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendance.punchIn.userTime,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attendance.punchIn.userTime=e),label:e.$t("general.time"),rules:n.rules.punchIn.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])])),_:1}),o.isTimezoneEditable?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.attendance.punchIn.timezone,"onUpdate:modelValue":t[2]||(t[2]=e=>n.attendance.punchIn.timezone=e),required:""},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendance.punchIn.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.attendance.punchIn.note=e),rules:n.rules.punchIn.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),n.attendance.punchOut?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-punch-out-record"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.punch_out")),1)])),_:1})])),_:1}),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.attendance.punchOut.userDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.attendance.punchOut.userDate=e),label:e.$t("general.date"),rules:n.rules.punchOut.userDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(d,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendance.punchOut.userTime,"onUpdate:modelValue":t[5]||(t[5]=e=>n.attendance.punchOut.userTime=e),label:e.$t("general.time"),rules:n.rules.punchOut.userTime,type:"time",placeholder:e.$t("attendance.hh_mm"),required:""},null,8,["modelValue","label","rules","placeholder"])])),_:1}),o.isTimezoneEditable?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"--offset-row-3 --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.attendance.punchOut.timezone,"onUpdate:modelValue":t[6]||(t[6]=e=>n.attendance.punchOut.timezone=e),required:""},null,8,["modelValue"])])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.attendance.punchOut.note,"onUpdate:modelValue":t[7]||(t[7]=e=>n.attendance.punchOut.note=e),rules:n.rules.punchOut.note,label:e.$t("general.note"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])])}const MB={userDate:null,userTime:null,utcDate:null,utcTime:null,note:null,timezone:null,timezoneOffset:null};var FB={components:{"timezone-dropdown":CB},props:{attendanceId:{type:Number,required:!0},isEmployeeEdit:{type:Boolean,default:!1},isTimezoneEditable:{type:Boolean,default:!1}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/attendance/records"),{userDateFormat:t}=Ae();return{http:e,userDateFormat:t}},data(){return{isLoading:!1,attendance:{employee:null,punchIn:{...MB},punchOut:{...MB}},rules:{punchIn:{userDate:[So,$o(this.userDateFormat),(0,n.promiseDebounce)((()=>this.validateRecord("punch-in-overlaps")),500)],userTime:[So,(0,n.promiseDebounce)((()=>this.validateRecord("punch-in-overlaps")),500)],note:[Do(250)]},punchOut:{userDate:[So,$o(this.userDateFormat),(0,n.promiseDebounce)((()=>this.validateRecord("punch-out-overlaps")),500)],userTime:[So,(0,n.promiseDebounce)((()=>this.validateRecord("punch-out-overlaps")),500)],note:[Do(250)]}}}},computed:{totalDuration(){if(!this.attendance.punchOut?.userDate)return null;if(null===Xe(this.attendance.punchIn.userDate)||null===Xe(this.attendance.punchOut.userDate))return null;const e=`${this.attendance.punchIn.userDate} ${this.attendance.punchIn.userTime}`,t=this.attendance.punchIn.timezone?._offset??parseFloat(this.attendance.punchIn.timezoneOffset),o=(t>0?" +":" -")+st(3600*Math.abs(t)),a=`${this.attendance.punchOut.userDate} ${this.attendance.punchOut.userTime}`,l=this.attendance.punchOut.timezone?._offset??parseFloat(this.attendance.punchOut.timezoneOffset),n=(l>0?" +":" -")+st(3600*Math.abs(l));return parseFloat(it(e+o,a+n,"yyyy-MM-dd HH:mm xxx")/3600).toFixed(2)}},beforeMount(){this.isLoading=!0,this.http.get(this.attendanceId).then((e=>{const{data:t}=e.data;this.attendance.employee=t.employee,this.attendance.punchIn={...t.punchIn,timezone:{id:t.punchIn.timezone.name,label:t.punchIn.timezone.label,_offset:t.punchIn.timezoneOffset}},this.attendance.punchOut=t.punchOut?.userDate?{...t.punchOut,timezone:{id:t.punchOut.timezone.name,label:t.punchOut.timezone.label,_offset:t.punchOut.timezoneOffset}}:null})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){this.isEmployeeEdit?U("/attendance/viewAttendanceRecord",void 0,{employeeId:this.attendance.employee?.empNumber,date:this.attendance.punchIn?.userDate}):U("/attendance/viewMyAttendanceRecord",void 0,{date:this.attendance.punchIn?.userDate})},onSave(){this.isLoading=!0;const e={punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchInNote:this.attendance.punchIn.note,...this.isTimezoneEditable&&{punchInOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInTimezoneName:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone.id:this.attendance.punchIn.timezone.name}};this.attendance.punchOut&&(e.punchOutDate=this.attendance.punchOut.userDate,e.punchOutTime=this.attendance.punchOut.userTime,e.punchOutNote=this.attendance.punchOut.note,this.isTimezoneEditable&&(e.punchOutOffset=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone._offset:this.attendance.punchOut.timezoneOffset,e.punchOutTimezoneName=this.attendance.punchOut.timezone?this.attendance.punchOut.timezone.id:this.attendance.punchOut.timezone.name)),this.http.update(this.attendanceId,e).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))},validateRecord(e){return null===Xe(this.attendance.punchIn.userDate)||(!(!this.attendance.punchOut||null!==Xe(this.attendance.punchOut.userDate))||new Promise((t=>{this.http.request({method:"GET",url:`/api/v2/attendance/records/${e}`,params:{recordId:this.attendanceId,punchInTimezoneOffset:this.attendance.punchIn.timezone?this.attendance.punchIn.timezone._offset:this.attendance.punchIn.timezoneOffset,punchInDate:this.attendance.punchIn.userDate,punchInTime:this.attendance.punchIn.userTime,punchOutTimezoneOffset:this.attendance.punchOut?.timezone?this.attendance.punchOut.timezone._offset:this.attendance.punchOut?.timezoneOffset,punchOutDate:this.attendance.punchOut?.userDate,punchOutTime:this.attendance.punchOut?.userTime},validateStatus:e=>e>=200&&e<300||400==e}).then((e=>{const{data:o,error:a}=e.data;return a?t(a.message):!0===o.valid?t(!0):t(this.$t("attendance.overlapping_records_found"))}))})))}}};const OB=(0,i.Z)(FB,[["render",qB],["__scopeId","data-v-40838874"]]);var jB=OB;const zB=e=>((0,a.pushScopeId)("data-v-50a2ff8a"),e=e(),(0,a.popScopeId)(),e),RB=zB((()=>(0,a.createElementVNode)("br",null,null,-1))),GB={class:"orangehrm-paper-container"},ZB={class:"orangehrm-header-container"},QB={class:"orangehrm-container"},HB={class:"orangehrm-bottom-container"};function WB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("date-input"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("oxd-text"),y=(0,a.resolveComponent)("table-header"),C=(0,a.resolveComponent)("oxd-card-table"),b=(0,a.resolveComponent)("oxd-pagination"),V=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(v,{"filter-title":e.$t("attendance.my_attendance_records")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.date,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.date=e),rules:l.rules.date,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),RB,(0,a.createElementVNode)("div",GB,[(0,a.createElementVNode)("div",ZB,[(0,a.createVNode)(f,{class:"orangehrm-header-total",tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(l.totalDuration),1)])),_:1})]),(0,a.createVNode)(y,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),(0,a.createElementVNode)("div",QB,[(0,a.createVNode)(C,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:o.isEditable,clickable:!1,loading:l.isLoading,class:"orangehrm-my-attendance","row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),(0,a.createElementVNode)("div",HB,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(V,{ref:"deleteDialog"},null,512)])],64)}const YB={class:"oxd-table-card-cell"},JB={class:"data"};function XB(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",YB,[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"header"},(0,a.toDisplayString)(o.header.title),513),[[a.vShow,r.showHeader]]),(0,a.createElementVNode)("div",JB,[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.date)+" "+(0,a.toDisplayString)(o.time)+" ",1),(0,a.createVNode)(i,{tag:"span",class:"timezone"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" GMT "+(0,a.toDisplayString)(o.offset?o.offset:"00:00"),1)])),_:1})])),_:1})])],512)),[[a.vShow,o.date]])}var KB={name:"RecordCell",props:{header:{type:Object,required:!0},date:{type:String,default:null},time:{type:String,default:null},offset:{type:String,default:null}},setup(){const{screenState:e}=(0,n.useInjectTableProps)();return{screenState:e}},computed:{showHeader(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};const eL=(0,i.Z)(KB,[["render",XB],["__scopeId","data-v-8f3074ce"]]);var tL=eL,oL={components:{"delete-confirmation":vo},props:{date:{type:String,default:null},isEditable:{type:Boolean,default:!1}},setup(e){const{locale:t}=pt(),{jsDateFormat:o,userDateFormat:l,timeFormat:n,jsTimeFormat:r}=Ae(),i={date:[So,$o(l)]},s=(0,a.ref)({date:e.date?e.date:Ke(Je(),"yyyy-MM-dd")}),d=(0,a.computed)((()=>({date:s.value.date}))),c=new q(window.appGlobal.baseUrl,"/api/v2/attendance/records"),m=e=>e.map((e=>{const{punchIn:a,punchOut:l}=e,i=Ke(Xe(a?.userDate),o,{locale:t}),s=lt(at(a?.userTime,n),r),d=Ke(Xe(l?.userDate),o,{locale:t}),c=lt(at(l?.userTime,n),r);return{id:e.id,punchIn:{...a,userTime:s,userDate:i},punchOut:{...l,userTime:c,userDate:d},punchInNote:a.note,punchOutNote:l.note,duration:e.duration}})),{total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f,currentPage:y,showPaginator:C}=so(c,{query:d,normalizer:m}),b=(0,a.computed)((()=>{const e=g.value?.meta;return e?e.sum.label:"0.00"}));return{http:c,rules:i,total:u,pages:p,filters:s,pageSize:h,isLoading:v,execQuery:f,currentPage:y,showPaginator:C,items:g,totalDuration:b}},data(){return{headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",cellType:"oxd-table-cell-truncate",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",cellType:"oxd-table-cell-truncate",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},{...this.isEditable&&{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}}],checkedItems:[]}},methods:{cellRenderer(...e){const t=e[1];return{component:tL,props:{date:t.userDate,time:t.userTime,offset:mt(t.offset)}}},onClickEdit(e){U("/attendance/editAttendanceRecord/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()}}};const aL=(0,i.Z)(oL,[["render",WB],["__scopeId","data-v-50a2ff8a"]]);var lL=aL;const nL={class:"orangehrm-background-container"},rL={class:"orangehrm-card-container"},iL={class:"orangehrm-attendance-field-row"},sL={class:"orangehrm-attendance-field-row"},dL={class:"orangehrm-attendance-field-row"};function cL(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-switch-input"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("submit-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nL,[(0,a.createElementVNode)("div",rL,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.attendance_configuration")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iL,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.employee_can_change_current_time_when_punching_in_out")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.config.canUserChangeCurrentTime,"onUpdate:modelValue":t[0]||(t[0]=e=>n.config.canUserChangeCurrentTime=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",sL,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.employee_can_edit_delete_own_attendance_records")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.config.canUserModifyAttendance,"onUpdate:modelValue":t[1]||(t[1]=e=>n.config.canUserModifyAttendance=e)},null,8,["modelValue"])]),(0,a.createElementVNode)("div",dL,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("attendance.supervisor_can_add_edit_delete_attendance_records_of_subordinates")),1)])),_:1}),(0,a.createVNode)(d,{modelValue:n.config.canSupervisorModifyAttendance,"onUpdate:modelValue":t[2]||(t[2]=e=>n.config.canSupervisorModifyAttendance=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const mL={canUserChangeCurrentTime:!1,canUserModifyAttendance:!1,canSupervisorModifyAttendance:!1};var uL={components:{"oxd-switch-input":n.OxdSwitchInput},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/attendance/configs");return{http:e}},data(){return{config:{...mL},isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.config={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{...this.config}}).then((e=>{const{data:t}=e.data;return this.config={...t},this.$toast.saveSuccess()})).finally((()=>{this.isLoading=!1}))}}};const pL=(0,i.Z)(uL,[["render",cL],["__scopeId","data-v-026fb4c8"]]);var hL=pL;const gL=(0,a.createElementVNode)("br",null,null,-1);function vL(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("jobtitle-dropdown"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("employment-status-dropdown"),u=(0,a.resolveComponent)("date-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("oxd-table-filter"),b=(0,a.resolveComponent)("reports-table");return(0,a.openBlock)(),(0,a.createBlock)(b,{module:"time",name:"attendance",prefetch:!1,filters:l.serializedFilters,"column-count":2},{default:(0,a.withCtx)((({generateReport:n})=>[(0,a.createVNode)(C,{"filter-title":e.$t("attendance.attendance_total_summary_report")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{onSubmitValid:n},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.subunit=e),type:"select",label:e.$t("general.sub_unit"),options:o.subunits},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.empStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.empStatus=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.fromDate=e),placeholder:e.$t("general.from"),rules:l.rules.fromDate,label:e.$t("general.date_range")},null,8,["modelValue","placeholder","rules","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.toDate=e),label:"",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{type:"submit","display-type":"secondary",label:e.$t("general.view")},null,8,["label"])])),_:1})])),_:2},1032,["onSubmitValid"])])),_:2},1032,["filter-title"]),gL])),footer:(0,a.withCtx)((({data:t})=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(t.meta?t.meta.sum.label:"0.00"),1)])),_:1},8,["filters"])}const fL={employee:null,fromDate:null,toDate:null,jobTitle:null,subunit:null,empStatus:null};var yL={components:{"reports-table":Ox,"jobtitle-dropdown":fp,"employee-autocomplete":rl,"employment-status-dropdown":kp},props:{subunits:{type:Array,default:()=>[]}},setup(){const e=(0,a.ref)({...fL}),{$t:t}=Ne(),{userDateFormat:o}=Ae(),l={fromDate:[$o(o),Wo((()=>e.value.toDate),t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(o),Fo((()=>e.value.fromDate),t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})],employee:[ia]},n=(0,a.computed)((()=>({empNumber:e.value.employee?.id,fromDate:e.value.fromDate,toDate:e.value.toDate,jobTitleId:e.value.jobTitle?.id,subunitId:e.value.subunit?.id,employmentStatusId:e.value.empStatus?.id})));return{rules:l,filters:e,serializedFilters:n}}};const CL=(0,i.Z)(yL,[["render",vL]]);var bL=CL;const VL=e=>((0,a.pushScopeId)("data-v-22f945c4"),e=e(),(0,a.popScopeId)(),e),xL=VL((()=>(0,a.createElementVNode)("br",null,null,-1))),wL={class:"orangehrm-paper-container"},NL={class:"orangehrm-container"},kL={class:"orangehrm-bottom-container"};function _L(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("date-input"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("oxd-table-filter"),y=(0,a.resolveComponent)("table-header"),C=(0,a.resolveComponent)("oxd-card-table"),b=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(f,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.date,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.date=e),rules:l.rules.date,years:n.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),xL,(0,a.createElementVNode)("div",wL,[(0,a.createVNode)(y,{total:l.total,selected:0,loading:l.isLoading,"show-divider":!1},null,8,["total","loading"]),(0,a.createElementVNode)("div",NL,[(0,a.createVNode)(C,{headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",kL,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])],64)}var SL={components:{"employee-autocomplete":rl},props:{date:{type:String,default:null}},setup(e){const{$tEmpName:t}=il(),{userDateFormat:o}=Ae(),l={date:[So,$o(o)]},n=(0,a.ref)({date:e.date?e.date:Ke(Je(),"yyyy-MM-dd"),employee:null}),r=(0,a.computed)((()=>({date:n.value.date,empNumber:n.value.employee?.id}))),i=e=>e.map((e=>({id:e.empNumber,empName:t(e,{includeMiddle:!1,excludePastEmpTag:!1}),duration:e.sum?.label}))),s=new q(window.appGlobal.baseUrl,"/api/v2/attendance/employees/summary"),{total:d,pages:c,response:m,isLoading:u,execQuery:p,currentPage:h,showPaginator:g}=so(s,{query:r,normalizer:i});return{http:s,rules:l,total:d,pages:c,filters:n,isLoading:u,execQuery:p,currentPage:h,showPaginator:g,items:m}},data(){return{yearArray:[...cy()],headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),style:{flex:"40%"}},{name:"duration",title:this.$t("time.total_duration"),style:{flex:"40%"}},{name:"actions",slot:"footer",title:this.$t("general.actions"),style:{flex:"20%"},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{label:this.$t("general.view"),displayType:"text",size:"medium"}}}}]}},methods:{async resetDataTable(){await this.execQuery()},async filterItems(){if(this.filters.employee&&this.filters.date)return U("/attendance/viewAttendanceRecord",void 0,{employeeId:this.filters.employee.id,date:this.filters.date});await this.execQuery()},onClickView(e){U("/attendance/viewAttendanceRecord",void 0,{employeeId:e.id,date:this.filters.date})}}};const DL=(0,i.Z)(SL,[["render",_L],["__scopeId","data-v-22f945c4"]]);var $L=DL;const TL=(0,a.createElementVNode)("br",null,null,-1),EL={class:"orangehrm-paper-container"},IL={key:0,class:"orangehrm-header-container"},BL={class:"orangehrm-container"},LL={class:"orangehrm-bottom-container"};function AL(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("date-input"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("oxd-table-filter"),y=(0,a.resolveComponent)("oxd-text"),C=(0,a.resolveComponent)("table-header"),b=(0,a.resolveComponent)("oxd-card-table"),V=(0,a.resolveComponent)("oxd-pagination"),x=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(f,{"filter-title":e.$t("attendance.employee_attendance_records")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{onSubmitValid:r.onClickView},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:l.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.date,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.date=e),rules:l.rules.date,years:n.yearArray,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","years","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"secondary",label:e.$t("general.view"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),TL,(0,a.createElementVNode)("div",EL,[o.isEditable&&l.filters.employee?((0,a.openBlock)(),(0,a.createElementBlock)("div",IL,[(0,a.createVNode)(h,{"icon-name":"plus","display-type":"secondary",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"]),(0,a.createVNode)(y,{class:"orangehrm-header-total",tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("time.total_duration"))+": "+(0,a.toDisplayString)(l.totalDuration),1)])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(C,{total:l.total,loading:l.isLoading,"show-divider":o.isEditable,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","show-divider","selected","onDelete"]),(0,a.createElementVNode)("div",BL,[(0,a.createVNode)(b,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,selectable:o.isEditable,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","selectable","loading"])]),(0,a.createElementVNode)("div",LL,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(x,{ref:"deleteDialog"},null,512)])],64)}var UL={components:{"employee-autocomplete":rl,"delete-confirmation":vo},props:{date:{type:String,default:null},employee:{type:Object,required:!0},isEditable:{type:Boolean,default:!1}},setup(e){const t=(0,a.ref)({date:e.date?e.date:Ke(Je(),"yyyy-MM-dd"),employee:e.employee?{id:e.employee.empNumber,label:`${e.employee.firstName} ${e.employee.middleName} ${e.employee.lastName}`,isPastEmployee:e.employee.terminationId}:null}),o=(0,a.computed)((()=>({date:t.value.date,empNumber:t.value.employee?.id}))),l=new q(window.appGlobal.baseUrl,`/api/v2/attendance/employees/${e.employee.empNumber}/records`),{locale:n}=pt(),{jsDateFormat:r,userDateFormat:i,timeFormat:s,jsTimeFormat:d}=Ae(),c={date:[So,$o(i)],employee:[ia]},m=e=>e.map((e=>{const{punchIn:t,punchOut:o}=e,a=Ke(Xe(t?.userDate),r,{locale:n}),l=lt(at(t?.userTime,s),d),i=Ke(Xe(o?.userDate),r,{locale:n}),c=lt(at(o?.userTime,s),d);return{id:e.id,punchIn:{...t,userTime:l,userDate:a},punchOut:{...o,userTime:c,userDate:i},duration:e.duration,punchInNote:t.note,punchOutNote:o.note}})),{total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f,currentPage:y,showPaginator:C}=so(l,{query:o,normalizer:m,prefetch:!0}),b=(0,a.computed)((()=>{const e=g.value?.meta;return e?e.sum.label:"0.00"}));return{http:l,rules:c,total:u,pages:p,filters:t,pageSize:h,isLoading:v,execQuery:f,currentPage:y,showPaginator:C,items:g,totalDuration:b}},data(){return{yearArray:[...cy()],headers:[{name:"punchIn",slot:"title",title:this.$t("attendance.punch_in"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchInNote",slot:"title",cellType:"oxd-table-cell-truncate",title:this.$t("attendance.punch_in_note"),style:{flex:1}},{name:"punchOut",slot:"title",title:this.$t("attendance.punch_out"),style:{flex:1},cellRenderer:this.cellRenderer},{name:"punchOutNote",slot:"title",cellType:"oxd-table-cell-truncate",title:this.$t("attendance.punch_out_note"),style:{flex:1}},{name:"duration",slot:"title",title:this.$t("attendance.duration_hours"),style:{flex:1}},{...this.isEditable&&{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}}],checkedItems:[]}},methods:{cellRenderer(...e){const t=e[1];return{component:tL,props:{date:t.userDate,time:t.userTime,offset:mt(t.offset)}}},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickView(){return U("/attendance/viewAttendanceRecord",void 0,{employeeId:this.filters.employee?.id,date:this.filters?.date})},onClickAdd(){return U("/attendance/proxyPunchInPunchOut",void 0,{employeeId:this.filters.employee?.id,date:this.filters?.date})},onClickEdit(e){return U("/attendance/editEmployeeAttendanceRecord/{id}",{id:e.id})}}};const PL=(0,i.Z)(UL,[["render",AL]]);var qL=PL,ML={"attendance-punch-in":_B,"attendance-punch-out":BB,"edit-attendance":jB,"view-my-attendance":lL,"attendance-configuration":hL,"attendance-summary-report":bL,"view-employee-attendance-summary":$L,"view-employee-attendance-detailed":qL};const FL={class:"orangehrm-background-container"},OL=(0,a.createElementVNode)("br",null,null,-1),jL={key:1};function zL(e,t,o,l,n,r){const i=(0,a.resolveComponent)("purge-employee-records"),s=(0,a.resolveComponent)("selected-employee"),d=(0,a.resolveComponent)("maintenance-note"),c=(0,a.resolveComponent)("purge-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",FL,[(0,a.createVNode)(i,{"include-employees-param":"onlyPast","title-label":e.$t("maintenance.purge_employee_records"),"autocomplete-label":e.$t("maintenance.past_employee"),onSearch:r.onClickSearch},null,8,["title-label","autocomplete-label","onSearch"]),OL,n.showPurgeableEmployee?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,loading:n.isLoading,"selected-employee":n.selectedEmployee,"button-label":e.$t("maintenance.purge"),onSubmit:r.onClickPurge},null,8,["loading","selected-employee","button-label","onSubmit"])):(0,a.createCommentVNode)("",!0),n.showPurgeableEmployee?((0,a.openBlock)(),(0,a.createElementBlock)("br",jL)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"]),(0,a.createVNode)(c,{ref:"purgeDialog",title:e.$t("maintenance.purge_employee"),subtitle:e.$t("maintenance.purge_employee_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}const RL={class:"orangehrm-card-container"},GL={class:"orangehrm-selected-employee"},ZL={class:"orangehrm-selected-employee-imagesection"},QL={class:"orangehrm-selected-employee-image-wrapper"},HL={class:"orangehrm-selected-employee-image"},WL=["src"],YL={class:"orangehrm-selected-employee-content"};function JL(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("full-name-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-input-field"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",RL,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("maintenance.selected_employee")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:o.loading,onSubmit:r.emitEmpNumber},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",GL,[(0,a.createElementVNode)("div",ZL,[(0,a.createElementVNode)("div",QL,[(0,a.createElementVNode)("div",HL,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,WL)])])]),(0,a.createElementVNode)("div",YL,[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"first-name":o.selectedEmployee.firstName,"middle-name":o.selectedEmployee.middleName,"last-name":o.selectedEmployee.lastName,rules:n.rules,"show-middle-name-placeholder":!1,disabled:""},null,8,["first-name","middle-name","last-name","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"model-value":o.selectedEmployee.employeeId,label:e.$t("general.employee_id"),rules:n.rules.employeeId,disabled:""},null,8,["model-value","label","rules"])])),_:1})])),_:1})])),_:1})])]),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{"display-type":"secondary",label:o.buttonLabel,type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmit"])])}var XL={name:"SelectedEmployee",components:{"full-name-input":Ku},props:{selectedEmployee:{type:Object,required:!0},buttonLabel:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["submit"],setup(e){const t=(0,a.computed)((()=>`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.selectedEmployee.empNumber}`));return{imgSrc:t}},data(){return{rules:{firstName:[Do(30)],middleName:[Do(30)],lastName:[Do(30)],employeeId:[Do(10)]}}},methods:{emitEmpNumber(){this.$emit("submit",this.selectedEmployee.empNumber)}}};const KL=(0,i.Z)(XL,[["render",JL],["__scopeId","data-v-6ea34be5"]]);var eA=KL;const tA={class:"orangehrm-card-container"};function oA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",tA,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.titleLabel),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{onSubmit:r.emitEmployee},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employee=e),rules:n.rules.employee,params:{includeEmployees:o.includeEmployeesParam},label:o.autocompleteLabel,required:""},null,8,["modelValue","rules","params","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])}var aA={name:"EmployeeRecords",components:{"required-text":b,"employee-autocomplete":rl},props:{includeEmployeesParam:{type:String,required:!0},titleLabel:{type:String,required:!0},autocompleteLabel:{type:String,required:!0}},emits:["search"],data(){return{employee:null,rules:{employee:[So,ia]}}},methods:{emitEmployee(){this.$emit("search",this.employee?._employee)}}};const lA=(0,i.Z)(aA,[["render",oA]]);var nA=lA;const rA={class:"orangehrm-modal-header"},iA={class:"orangehrm-text-center-align"},sA={class:"orangehrm-modal-footer"};function dA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",rA,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1})]),(0,a.createElementVNode)("div",iA,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.subtitle),1)])),_:1})]),(0,a.createElementVNode)("div",sA,[(0,a.createVNode)(s,{label:o.cancelLabel,"display-type":o.cancelButtonType,class:"orangehrm-button-margin",onClick:r.onCancel},null,8,["label","display-type","onClick"]),(0,a.createVNode)(s,{"icon-name":o.icon,label:o.confirmLabel,"display-type":o.confirmButtonType,class:"orangehrm-button-margin",onClick:r.onConfirm},null,8,["icon-name","label","display-type","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var cA={components:{"oxd-dialog":n.OxdDialog},props:{title:{type:String,required:!0},subtitle:{type:String,required:!0},cancelLabel:{type:String,required:!0},confirmLabel:{type:String,required:!0},icon:{type:String,required:!1,default:""},confirmButtonType:{type:String,required:!1,default:"label-danger"},cancelButtonType:{type:String,required:!1,default:"text"}},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const mA=(0,i.Z)(cA,[["render",dA],["__scopeId","data-v-2766d99a"]]);var uA=mA;const pA={key:0,class:"orangehrm-maintenance-note"},hA={class:"orangehrm-maintenance-note-header"};function gA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return null!==o.instanceIdentifier?((0,a.openBlock)(),(0,a.createElementBlock)("div",pA,[(0,a.createElementVNode)("div",hA,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.note")),1)])),_:1})]),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("maintenance.gdpr_note",{instanceIdentifier:o.instanceIdentifier})),1)])),_:1})])):(0,a.createCommentVNode)("",!0)}var vA={name:"MaintenanceNote",props:{instanceIdentifier:{type:String,required:!0}}};const fA=(0,i.Z)(vA,[["render",gA],["__scopeId","data-v-23b16e4f"]]);var yA=fA;const CA={firstName:"",middleName:"",lastName:"",employeeId:"",empNumber:""};var bA={name:"PurgeEmployee",components:{"purge-confirmation":uA,"purge-employee-records":nA,"selected-employee":eA,"maintenance-note":yA},props:{instanceIdentifier:{type:String,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/maintenance/purge");return{http:e}},data(){return{isLoading:!1,showPurgeableEmployee:!1,selectedEmployee:{...CA}}},methods:{onClickSearch(e){this.selectedEmployee={...CA},e?(this.selectedEmployee={...e},this.showPurgeableEmployee=!0):this.showPurgeableEmployee=!1},onClickPurge(e){this.$refs.purgeDialog.showDialog().then((t=>{"ok"===t&&this.purgeEmployee(e)}))},purgeEmployee(e){this.isLoading=!0,this.http.deleteAll({empNumber:e}).then((()=>this.$toast.success({title:this.$t("general.success"),message:this.$t("maintenance.purge_success")}))).then((()=>{this.showPurgeableEmployee=!1,this.selectedEmployee={...CA},this.isLoading=!1,U("/maintenance/purgeEmployee")}))}}};const VA=(0,i.Z)(bA,[["render",zL]]);var xA=VA;const wA={class:"orangehrm-background-container"},NA=(0,a.createElementVNode)("br",null,null,-1);function kA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("selected-candidates"),s=(0,a.resolveComponent)("maintenance-note"),d=(0,a.resolveComponent)("purge-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wA,[(0,a.createVNode)(i,{loading:n.isLoading,onPurge:r.onClickPurge},null,8,["loading","onPurge"]),NA,(0,a.createVNode)(s,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"]),(0,a.createVNode)(d,{ref:"purgeDialog",title:e.$t("maintenance.purge_candidates"),subtitle:e.$t("maintenance.purge_candidates_warning"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("maintenance.yes_purge")},null,8,["title","subtitle","cancel-label","confirm-label"])])}const _A={key:0,class:"orangehrm-paper-container"},SA={class:"orangehrm-header-container"},DA={class:"orangehrm-container"},$A={class:"orangehrm-bottom-container"};function TA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("purge-candidate-records"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("table-header"),c=(0,a.resolveComponent)("oxd-card-table"),m=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(i,{onSearch:r.onClickSearch},null,8,["onSearch"]),l.vacancy?((0,a.openBlock)(),(0,a.createElementBlock)("div",_A,[(0,a.withDirectives)((0,a.createElementVNode)("div",SA,[(0,a.createVNode)(s,{label:e.$t("maintenance.purge_all"),"display-type":"secondary",onClick:r.onClickPurge},null,8,["label","onClick"])],512),[[a.vShow,l.total>0]]),(0,a.createVNode)(d,{total:l.total,selected:0,"show-divider":l.total>0,loading:l.isLoading||o.loading},null,8,["total","show-divider","loading"]),(0,a.createElementVNode)("div",DA,[(0,a.createVNode)(c,{headers:n.headers,clickable:!1,selectable:!1,loading:l.isLoading||o.loading,items:l.items.data,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","loading","items"])]),(0,a.createElementVNode)("div",$A,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0)],64)}const EA={class:"orangehrm-card-container"};function IA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("vacancy-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",EA,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("maintenance.purge_candidate_records")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{onSubmitValid:t[1]||(t[1]=t=>e.$emit("search",n.vacancy.id))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy=e),rules:n.rules.vacancy,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1})])}function BA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:e.$t("recruitment.vacancy"),clear:!1,"create-options":r.loadVacancies},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var LA={name:"VacancyAutocomplete",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancies");return{http:e}},methods:{async loadVacancies(e){return new Promise((t=>{e.trim()?this.http.getAll({name:e.trim()}).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:e.name}))))})):t([])}))}}};const AA=(0,i.Z)(LA,[["render",BA]]);var UA=AA,PA={name:"CandidateRecords",components:{"required-text":b,"vacancy-autocomplete":UA},emits:["search"],data(){return{vacancy:null,rules:{vacancy:[So,ia]}}}};const qA=(0,i.Z)(PA,[["render",IA]]);var MA=qA,FA={name:"SelectedCandidates",components:{"purge-candidate-records":MA},props:{loading:{type:Boolean,default:!1}},emits:["purge"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/maintenance/candidates"),t=(0,a.ref)(null),{locale:o}=pt(),{jsDateFormat:l}=Ae(),{$tEmpName:n}=il(),r=(0,a.computed)((()=>({vacancyId:t.value}))),i=e=>e.map((e=>({name:n({firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,terminationId:null},{includeMiddle:!0}),date:Ke(Xe(e.dateOfApplication),l,{locale:o}),status:e.status.label}))),{total:s,pages:d,response:c,isLoading:m,currentPage:u,showPaginator:p,execQuery:h}=so(e,{prefetch:!1,query:r,normalizer:i});return{http:e,total:s,pages:d,vacancy:t,isLoading:m,currentPage:u,showPaginator:p,items:c,execQuery:h}},data(){return{headers:[{name:"name",title:this.$t("recruitment.candidate_name"),style:{flex:"45%"}},{name:"date",title:this.$t("recruitment.date_of_application"),style:{flex:"45%"}},{name:"status",title:this.$t("general.status"),style:{flex:"10%"}}]}},methods:{onClickSearch(e){this.vacancy=e,this.execQuery()},onClickPurge(){this.vacancy&&this.$emit("purge",this.vacancy)}}};const OA=(0,i.Z)(FA,[["render",TA],["__scopeId","data-v-3c1da283"]]);var jA=OA,zA={name:"PurgeCandidate",components:{"maintenance-note":yA,"purge-confirmation":uA,"selected-candidates":jA},props:{instanceIdentifier:{type:String,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/maintenance/candidates/purge");return{http:e}},data(){return{isLoading:!1}},methods:{onClickPurge(e){const t=e;this.$refs.purgeDialog.showDialog().then((e=>{"ok"===e&&this.purgeCandidates(t)}))},purgeCandidates(e){this.isLoading=!0,this.http.deleteAll({vacancyId:e}).then((()=>this.$toast.success({title:this.$t("general.success"),message:this.$t("maintenance.purge_success")}))).then((()=>{P()}))}}};const RA=(0,i.Z)(zA,[["render",kA]]);var GA=RA;const ZA={key:0,class:"orangehrm-background-container"},QA={key:1};function HA(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-records"),s=(0,a.resolveComponent)("selected-employee"),d=(0,a.resolveComponent)("maintenance-note");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(i,{"title-label":e.$t("maintenance.download_personal_data"),"include-employees-param":"currentAndPast","autocomplete-label":e.$t("general.employee_name"),onSearch:r.search},null,8,["title-label","autocomplete-label","onSearch"]),n.employee?((0,a.openBlock)(),(0,a.createElementBlock)("div",ZA,[(0,a.createVNode)(s,{"button-label":e.$t("general.download"),"selected-employee":n.employee,onSubmit:r.downloadEmployeeData},null,8,["button-label","selected-employee","onSubmit"])])):(0,a.createCommentVNode)("",!0),n.employee?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("br",QA)),(0,a.createVNode)(d,{"instance-identifier":o.instanceIdentifier},null,8,["instance-identifier"])],64)}var WA={components:{"employee-records":nA,"selected-employee":eA,"maintenance-note":yA},props:{instanceIdentifier:{type:String,default:null}},data(){return{employee:null}},methods:{search(e){this.employee=e},downloadEmployeeData(e){const t=`${window.appGlobal.baseUrl}/maintenance/accessEmployeeData/${e}`;window.open(t,"_blank")}}};const YA=(0,i.Z)(WA,[["render",HA]]);var JA=YA,XA={"purge-employee":xA,"purge-candidate":GA,"access-employee-search":JA};const KA=e=>((0,a.pushScopeId)("data-v-65c21a19"),e=e(),(0,a.popScopeId)(),e),eU={class:"orangehrm-background-container"},tU=KA((()=>(0,a.createElementVNode)("br",null,null,-1))),oU={class:"orangehrm-paper-container"},aU={class:"orangehrm-header-container"},lU={class:"orangehrm-container"},nU={class:"orangehrm-bottom-container"};function rU(e,t,o,l,n,r){const i=(0,a.resolveComponent)("jobtitle-dropdown"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("vacancy-dropdown"),c=(0,a.resolveComponent)("hiring-manager-dropdown"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-divider"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("oxd-table-filter"),C=(0,a.resolveComponent)("table-header"),b=(0,a.resolveComponent)("oxd-card-table"),V=(0,a.resolveComponent)("oxd-pagination"),x=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",eU,[(0,a.createVNode)(y,{"filter-title":e.$t("general.vacancies")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.vacancyId,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.vacancyId=e),label:e.$t("recruitment.vacancy")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.hiringManagerId,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.hiringManagerId=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),clear:!1,options:n.statusOptions},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(h),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),tU,(0,a.createElementVNode)("div",oU,[(0,a.createElementVNode)("div",aU,[(0,a.createVNode)(g,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(C,{selected:n.checkedItems.length,loading:l.isLoading,total:l.total,onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),(0,a.createElementVNode)("div",lU,[(0,a.createVNode)(b,{selected:n.checkedItems,"onUpdate:selected":t[4]||(t[4]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[5]||(t[5]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card",class:"orangehrm-vacancy-list"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",nU,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,current:l.currentPage,"onUpdate:current":t[6]||(t[6]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(x,{ref:"deleteDialog"},null,512)])}function iU(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("recruitment.vacancy"),options:l.options},null,8,["label","options"])}var sU={name:"VacancyDropdown",props:{status:{type:Boolean,required:!1,default:null},excludeInterviewers:{type:Boolean,required:!1,default:!1}},setup(e){const t=(0,a.ref)([]),{$t:o}=Ne(),l=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancies");return(0,a.onBeforeMount)((()=>{const a={model:"summary",limit:0};null!==e.status&&(a.status=e.status),a.excludeInterviewers=e.excludeInterviewers,l.getAll(a).then((({data:e})=>{t.value=e.data.map((e=>({id:e.id,label:!1===e.status?`${e.name} (${o("general.closed")})`:e.name})))}))})),{options:t}}};const dU=(0,i.Z)(sU,[["render",iU]]);var cU=dU;function mU(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("recruitment.hiring_manager"),options:l.options},null,8,["label","options"])}var uU={name:"HiringManagerDropdown",setup(){const e=(0,a.ref)([]),{$tEmpName:t}=il(),o=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/hiring-managers");return(0,a.onBeforeMount)((()=>{o.getAll({limit:0}).then((({data:o})=>{e.value=o.data.map((e=>({id:e.empNumber,label:t(e,{includeMiddle:!1,excludePastEmpTag:!1})})))}))})),{options:e}}};const pU=(0,i.Z)(uU,[["render",mU]]);var hU=pU;const gU={jobTitleId:null,hiringManagerId:null,vacancyId:null,status:null},vU={"vacancy.name":"ASC","vacancy.status":"DEFAULT","jobTitle.jobTitleName":"DEFAULT","hiringManager.lastName":"DEFAULT"};var fU={name:"ViewJobVacancy",components:{"delete-confirmation":vo,"jobtitle-dropdown":fp,"vacancy-dropdown":cU,"hiring-manager-dropdown":hU},setup(){const{$t:e}=Ne(),{$tEmpName:t}=il(),o=(0,a.ref)({...gU}),{sortDefinition:l,sortField:n,sortOrder:r,onSort:i}=fo({sortDefinition:vU}),s=(0,a.computed)((()=>({vacancyId:o.value.vacancyId?.id,jobTitleId:o.value.jobTitleId?.id,hiringManagerId:o.value.hiringManagerId?.id,status:o.value.status?.id,sortField:n.value,sortOrder:r.value,model:"detailed"}))),d=o=>o.map((o=>({id:o.id,vacancy:o.name,jobTitle:o.jobTitle?.isDeleted?o.jobTitle.title+e("general.deleted"):o.jobTitle?.title,hiringManager:t(o.hiringManager),status:o.status?e("general.active"):e("general.closed")}))),c=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancies"),{showPaginator:m,currentPage:u,total:p,pages:h,pageSize:g,response:v,isLoading:f,execQuery:y}=so(c,{query:s,normalizer:d});return i(y),{http:c,showPaginator:m,currentPage:u,isLoading:f,total:p,pages:h,pageSize:g,execQuery:y,items:v,filters:o,sortDefinition:l}},data(){return{headers:[{name:"vacancy",slot:"title",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:3}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:3}},{name:"hiringManager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:3}},{name:"status",title:this.$t("general.status"),sortField:"vacancy.status",style:{flex:2}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],statusOptions:[{id:!0,param:"active",label:this.$t("general.active")},{id:!1,param:"closed",label:this.$t("general.closed")}],vacancies:[],checkedItems:[]}},methods:{onClickAdd(){U("/recruitment/addJobVacancy")},onClickEdit(e){U("/recruitment/addJobVacancy/{id}",{id:e.id})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData([e.id])}))},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData(e)}))},async deleteData(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...gU},this.filterItems()}}};const yU=(0,i.Z)(fU,[["render",rU],["__scopeId","data-v-65c21a19"]]);var CU=yU;const bU=e=>((0,a.pushScopeId)("data-v-00048e4c"),e=e(),(0,a.popScopeId)(),e),VU={class:"orangehrm-background-container"},xU={class:"orangehrm-card-container"},wU=bU((()=>(0,a.createElementVNode)("br",null,null,-1))),NU=bU((()=>(0,a.createElementVNode)("br",null,null,-1))),kU={class:"orangehrm-vacancy-links"},_U=bU((()=>(0,a.createElementVNode)("br",null,null,-1)));function SU(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("jobtitle-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("employee-autocomplete"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("vacancy-link-card"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",VU,[(0,a.createElementVNode)("div",xU,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.add_vacancy")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy.name=e),label:e.$t("recruitment.vacancy_name"),required:"",rules:n.rules.name},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.vacancy.jobTitle=e),rules:n.rules.jobTitle,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-grid-item-span-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.vacancy.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=e=>n.vacancy.hiringManager=e),params:{includeEmployees:"onlyCurrent"},required:"",rules:n.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy.numOfPositions=e),label:e.$t("recruitment.num_of_positions"),rules:n.rules.numOfPositions},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangerhrm-switch-wrapper"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.vacancy.status=e)},null,8,["modelValue"])])),_:1})])),_:1}),wU,(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangerhrm-switch-wrapper"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=e=>n.vacancy.isPublished=e)},null,8,["modelValue"])])),_:1})])),_:1}),NU,(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-grid-item-span-2"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",kU,[(0,a.createVNode)(g,{label:e.$t("recruitment.rss_feed_url"),url:n.rssFeedUrl},null,8,["label","url"]),(0,a.createVNode)(g,{label:e.$t("recruitment.web_page_url"),url:n.webUrl},null,8,["label","url"])])])),_:1})])),_:1}),_U,(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const DU={class:"orangehrm-label-link-wrapper"},$U=["href"];function TU(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",DU,[(0,a.createVNode)(i,{class:"orangehrm-text-label",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.label)+" : ",1)])),_:1}),(0,a.createElementVNode)("a",{href:o.url,target:"_blank",class:"orangehrm-vacancy-link"},(0,a.toDisplayString)(o.url),9,$U)])}var EU={name:"VacancyLinkCard",props:{label:{type:String,required:!0},url:{type:String,required:!0}}};const IU=(0,i.Z)(EU,[["render",TU],["__scopeId","data-v-7a7e694e"]]);var BU=IU;const LU={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!0,isPublished:!0},AU=`${window.location.protocol}//${window.location.host}${window.appGlobal.baseUrl}`;var UU={components:{"oxd-switch-input":n.OxdSwitchInput,"employee-autocomplete":rl,"jobtitle-dropdown":fp,"vacancy-link-card":BU},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancies");return{http:e}},data(){return{isLoading:!1,vacancy:{...LU},rules:{jobTitle:[So],name:[So,Do(50)],hiringManager:[So,ia],numOfPositions:[e=>null===e||""===e||("string"===typeof Lo(e)?Lo(e):ta(1,99)(e))],description:[],status:[So],isPublished:[So]},rssFeedUrl:`${AU}/recruitmentApply/jobs.rss`,webUrl:`${AU}/recruitmentApply/jobs.html`}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/recruitment/viewJobVacancy")},onSave(){this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.create({...this.vacancy}).then((e=>{const{data:t}=e.data;this.$toast.saveSuccess(),U("/recruitment/addJobVacancy/{id}",{id:t.id})}))}}};const PU=(0,i.Z)(UU,[["render",SU],["__scopeId","data-v-00048e4c"]]);var qU=PU;const MU=e=>((0,a.pushScopeId)("data-v-d4ce637a"),e=e(),(0,a.popScopeId)(),e),FU={class:"orangehrm-background-container"},OU={class:"orangehrm-card-container"},jU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),zU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),RU={class:"orangehrm-vacancy-links"},GU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),ZU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),QU={key:0,class:"orangehrm-card-container"},HU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),WU={key:1,class:"orangehrm-card-container"},YU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),JU=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),XU={class:"orangehrm-paper-container"},KU={class:"orangehrm-header-container orangehrm-attachment-header"},eP={class:"orangehrm-container"},tP=MU((()=>(0,a.createElementVNode)("br",null,null,-1))),oP=MU((()=>(0,a.createElementVNode)("br",null,null,-1)));function aP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("jobtitle-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("employee-autocomplete"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("vacancy-link-card"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("oxd-button"),y=(0,a.resolveComponent)("submit-button"),C=(0,a.resolveComponent)("oxd-form-actions"),b=(0,a.resolveComponent)("oxd-form"),V=(0,a.resolveComponent)("file-upload-input"),x=(0,a.resolveComponent)("table-header"),w=(0,a.resolveComponent)("oxd-card-table"),N=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",FU,[(0,a.createElementVNode)("div",OU,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.edit_vacancy")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.vacancy.name=e),label:e.$t("recruitment.vacancy_name"),required:"",rules:n.rules.name},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.vacancy.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.vacancy.jobTitle=e),rules:n.rules.jobTitle,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-grid-item-span-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.description,"onUpdate:modelValue":t[2]||(t[2]=e=>n.vacancy.description=e),type:"textarea",label:e.$t("general.description"),placeholder:e.$t("general.type_description_here"),rules:n.rules.description},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.vacancy.hiringManager,"onUpdate:modelValue":t[3]||(t[3]=e=>n.vacancy.hiringManager=e),params:{includeEmployees:"onlyCurrent"},required:"",rules:n.rules.hiringManager,label:e.$t("recruitment.hiring_manager")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancy.numOfPositions,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy.numOfPositions=e),label:e.$t("recruitment.num_of_positions"),rules:n.rules.numOfPositions},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangerhrm-switch-wrapper"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.vacancy.status,"onUpdate:modelValue":t[5]||(t[5]=e=>n.vacancy.status=e)},null,8,["modelValue"])])),_:1})])),_:1}),jU,(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangerhrm-switch-wrapper"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-text",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.publish_in_rss_feed_and_web_page")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.vacancy.isPublished,"onUpdate:modelValue":t[6]||(t[6]=e=>n.vacancy.isPublished=e)},null,8,["modelValue"])])),_:1})])),_:1}),zU,(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-grid-item-span-2"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RU,[(0,a.createVNode)(g,{label:e.$t("recruitment.rss_feed_url"),url:n.rssFeedUrl},null,8,["label","url"]),(0,a.createVNode)(g,{label:e.$t("recruitment.web_page_url"),url:n.webUrl},null,8,["label","url"])])])),_:1})])),_:1}),GU,(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(y)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),ZU,n.isAddClicked&&!n.isEditClicked?((0,a.openBlock)(),(0,a.createElementBlock)("div",QU,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoadingAttachment,onSubmitValid:r.onSaveAttachment},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{newFile:n.vacancyAttachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=e=>n.vacancyAttachment.newAttachment=e),method:n.vacancyAttachment.method,"onUpdate:method":t[8]||(t[8]=e=>n.vacancyAttachment.method=e),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:n.vacancyAttachment.oldAttachment,rules:n.rules.addAttachment,url:"recruitment/vacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancyAttachment.comment,"onUpdate:modelValue":t[9]||(t[9]=e=>n.vacancyAttachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1}),HU,(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.updateVisibility},null,8,["label","onClick"]),(0,a.createVNode)(y,{label:e.$t("general.save")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])):(0,a.createCommentVNode)("",!0),n.isEditClicked&&!n.isAddClicked?((0,a.openBlock)(),(0,a.createElementBlock)("div",WU,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,{loading:n.isLoadingAttachment,onSubmitValid:r.onUpdateAttachment},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{newFile:n.vacancyAttachment.newAttachment,"onUpdate:newFile":t[10]||(t[10]=e=>n.vacancyAttachment.newAttachment=e),method:n.vacancyAttachment.method,"onUpdate:method":t[11]||(t[11]=e=>n.vacancyAttachment.method=e),label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),file:n.vacancyAttachment.oldAttachment,rules:n.rules.updateAttachment,url:"recruitment/viewVacancyAttachment/attachId",hint:e.$t("general.accepts_up_to_1mb"),deletable:!1,required:""},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.vacancyAttachment.comment,"onUpdate:modelValue":t[12]||(t[12]=e=>n.vacancyAttachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1}),YU,(0,a.createVNode)(s),(0,a.createVNode)(C,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v),(0,a.createVNode)(f,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.updateVisibility},null,8,["label","onClick"]),(0,a.createVNode)(y,{label:e.$t("general.save")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])):(0,a.createCommentVNode)("",!0),JU,(0,a.createElementVNode)("div",XU,[(0,a.createElementVNode)("div",KU,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title orangehrm-attachment-header__title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.attachments")),1)])),_:1}),n.isAddClicked||n.isEditClicked?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,label:e.$t("general.add"),"icon-name":"plus","display-type":"text",onClick:r.onClickAdd},null,8,["label","onClick"]))]),(0,a.createVNode)(x,{selected:n.checkedItems.length,loading:n.isLoadingTable,total:n.attachments.length,onDelete:r.onClickDeleteSelected},null,8,["selected","loading","total","onDelete"]),(0,a.createElementVNode)("div",eP,[(0,a.createVNode)(w,{selected:n.checkedItems,"onUpdate:selected":t[13]||(t[13]=e=>n.checkedItems=e),headers:n.headers,items:n.attachments,selectable:!0,clickable:!1,loading:n.isLoadingTable,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createVNode)(N,{ref:"deleteDialog"},null,512),tP,oP])])}const lP={jobTitle:null,name:"",hiringManager:null,numOfPositions:"",description:"",status:!1,isPublished:!1},nP={id:null,comment:"",oldAttachment:{},newAttachment:null,method:"keepCurrent"},rP=`${window.location.protocol}//${window.location.host}${window.appGlobal.baseUrl}`,iP=e=>e.map((e=>({id:e.id,vacancyId:e.vacancyId,fileName:e.attachment.fileName,fileSize:+(e.attachment.fileSize/1024).toFixed(2)+" kb",fileType:e.attachment.fileType,comment:e.comment,attachmentType:e.attachmentType})));var sP={components:{"oxd-switch-input":n.OxdSwitchInput,"employee-autocomplete":rl,"jobtitle-dropdown":fp,"vacancy-link-card":BU,"delete-confirmation":vo,"file-upload-input":va},props:{vacancyId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancies"),t=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/vacancy/attachments");return{http:e,httpAttachments:t}},data(){return{isLoading:!1,isLoadingAttachment:!1,isLoadingTable:!1,isAddClicked:!1,isEditClicked:!1,currentName:"",vacancy:{...lP},vacancyAttachment:{...nP},rules:{jobTitle:[So],name:[So,Do(50)],hiringManager:[So,ia,e=>!e?.isPastEmployee||this.$t("general.invalid")],numOfPositions:[e=>null===e||""===e||("string"===typeof Lo(e)?Lo(e):ta(1,99)(e))],description:[],status:[So],isPublished:[So],addAttachment:[So,Go(this.maxFileSize),Zo(this.allowedFileTypes)],updateAttachment:[e=>"replaceCurrent"!=this.vacancyAttachment.method||So(e),Zo(this.allowedFileTypes),Go(this.maxFileSize)],comment:[Do(200)]},headers:[{name:"fileName",slot:"title",title:this.$t("general.file_name"),style:{flex:3}},{name:"fileSize",title:this.$t("general.file_size"),style:{flex:2}},{name:"fileType",title:this.$t("general.file_type"),style:{flex:2}},{name:"comment",title:this.$t("general.comment"),style:{flex:4}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:2},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.downloadFile,props:{name:"download"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],attachments:[],checkedItems:[],rssFeedUrl:`${rP}/recruitmentApply/jobs.rss`,webUrl:`${rP}/recruitmentApply/jobs.html`}},created(){this.isLoading=!0,this.isLoadingTable=!0,this.http.get(this.vacancyId).then((e=>{const{data:t}=e.data;return this.currentName=t.name,this.vacancy.name=t.name,this.vacancy.description=t.description,this.vacancy.numOfPositions=t.numOfPositions||"",this.vacancy.status=t.status,this.vacancy.isPublished=t.isPublished,this.vacancy.hiringManager={id:t.hiringManager.id,label:`${t.hiringManager.firstName} ${t.hiringManager.middleName} ${t.hiringManager.lastName}`,isPastEmployee:!!t.hiringManager.terminationId},this.vacancy.jobTitle=t.jobTitle.isDeleted?null:{id:t.jobTitle.id,label:t.jobTitle.title},this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name==e&&t.name!=this.currentName));return-1===o||this.$t("general.already_exists")}))})).then((()=>{this.httpAttachments.request({method:"GET",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments`}).then((e=>{const{data:t}=e.data;this.attachments=iP(t)}))})).finally((()=>{this.isLoadingTable=!1,this.isLoading=!1}))},methods:{onCancel(){U("/recruitment/viewJobVacancy")},onSave(){this.isLoading=!0,this.vacancy={name:this.vacancy.name,jobTitleId:this.vacancy.jobTitle.id,employeeId:this.vacancy.hiringManager.id,numOfPositions:this.vacancy.numOfPositions?parseInt(this.vacancy.numOfPositions):null,description:this.vacancy.description,status:this.vacancy.status,isPublished:this.vacancy.isPublished},this.http.update(this.vacancyId,{...this.vacancy}).then((()=>this.$toast.saveSuccess())).then((()=>{U("/recruitment/addJobVacancy/{id}",{id:this.vacancyId})}))},onSaveAttachment(){this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.create({vacancyId:parseInt(this.vacancyId),attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}).then((()=>this.$toast.saveSuccess())).then((()=>{this.updateVisibility(),this.resetDataTable(),this.isLoadingAttachment=!1,this.isLoadingTable=!1}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData([e.id])}))},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.attachments[e]?.id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteData(e)}))},async deleteData(e){e instanceof Array&&(this.isLoadingTable=!0,this.httpAttachments.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.resetDataTable(),this.isLoadingTable=!1})))},resetDataTable(){this.checkedItems=[],this.httpAttachments.request({method:"GET",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments`}).then((e=>{const{data:t}=e.data;this.attachments=iP(t)}))},onClickAdd(){this.isEditClicked=!1,this.isAddClicked=!0},onClickEdit(e){this.vacancyAttachment.id=e.id,this.vacancyAttachment.comment=e.comment,this.vacancyAttachment.oldAttachment={id:e.id,filename:e.fileName,fileType:e.fileType,fileSize:e.filefileSize},this.vacancyAttachment.newAttachment=null,this.vacancyAttachment.method="keepCurrent",this.isAddClicked=!1,this.isEditClicked=!0},onUpdateAttachment(){this.isLoadingAttachment=!0,this.isLoadingTable=!0,this.httpAttachments.request({method:"PUT",url:`/api/v2/recruitment/vacancies/${this.vacancyId}/attachments/${this.vacancyAttachment.id}`,data:{vacancyId:parseInt(this.vacancyId),currentAttachment:this.vacancyAttachment.oldAttachment?this.vacancyAttachment.method:void 0,attachment:this.vacancyAttachment.newAttachment?this.vacancyAttachment.newAttachment:void 0,comment:this.vacancyAttachment.comment,attachmentType:1}}).then((()=>this.$toast.saveSuccess())).then((()=>{this.updateVisibility(),this.resetDataTable(),this.isLoadingAttachment=!1,this.isLoadingTable=!1}))},updateVisibility(){this.isAddClicked=!1,this.isEditClicked=!1,this.vacancyAttachment={...nP}},downloadFile(e){if(!e?.id)return;const t="recruitment/viewVacancyAttachment/attachId",o=`${window.appGlobal.baseUrl}/${t}/${e.id}`;window.open(o,"_blank")}}};const dP=(0,i.Z)(sP,[["render",aP],["__scopeId","data-v-d4ce637a"]]);var cP=dP;const mP={class:"orangehrm-background-container"};function uP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",mP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.hire_candidate"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const pP={class:"orangehrm-card-container"};function hP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",pP,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(p,(0,a.mergeProps)({loading:o.loading},e.$attrs),{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.candidate.candidateName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.candidate.candidateName=e),label:e.$t("recruitment.candidate"),readonly:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.candidate.vacancyName,"onUpdate:modelValue":t[1]||(t[1]=e=>n.candidate.vacancyName=e),label:e.$t("recruitment.vacancy"),readonly:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.candidate.hiringManagerName,"onUpdate:modelValue":t[2]||(t[2]=e=>n.candidate.hiringManagerName=e),label:e.$t("recruitment.hiring_manager"),readonly:""},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.recruitmentStatus,"onUpdate:modelValue":t[3]||(t[3]=e=>r.recruitmentStatus=e),label:e.$t("recruitment.current_status"),readonly:""},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1}),(0,a.renderSlot)(e.$slots,"default")])),_:3},16,["loading"])])}const gP={candidateName:"",vacancyName:"",hiringManagerName:"",status:null};var vP={name:"CandidateActionLayout",inheritAttrs:!1,props:{candidateId:{type:Number,required:!0},title:{type:String,required:!0},loading:{type:Boolean,required:!0}},emits:["update:loading"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{$tEmpName:t}=il();return{http:e,translateEmpName:t}},data(){return{candidate:{...gP},statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}]}},computed:{recruitmentStatus(){return this.statuses.find((e=>e.id===this.candidate.status?.id))?.label||null}},beforeMount(){this.$emit("update:loading",!0),this.http.get(this.candidateId).then((e=>{const{data:t}=e.data;this.candidate.status=t.status,this.candidate.candidateName=`${t?.firstName} ${t?.middleName||""} ${t?.lastName}`,t?.vacancy&&(this.candidate.vacancyName=t?.vacancy.name),t?.vacancy?.hiringManager&&(this.candidate.hiringManagerName=this.translateEmpName(t.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}))})).finally((()=>{this.$emit("update:loading",!1)}))}};const fP=(0,i.Z)(vP,[["render",hP]]);var yP=fP,CP={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/hire`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const bP=(0,i.Z)(CP,[["render",uP]]);var VP=bP;const xP={class:"orangehrm-background-container"};function wP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",xP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.mark_interview_failed"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var NP={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/interviews/${e.interviewId}/fail`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const kP=(0,i.Z)(NP,[["render",wP]]);var _P=kP;const SP={class:"orangehrm-background-container"};function DP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",SP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.mark_interview_passed"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var $P={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0},interviewId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/interviews/${e.interviewId}/pass`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const TP=(0,i.Z)($P,[["render",DP]]);var EP=TP;const IP={class:"orangehrm-background-container"};function BP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("interviewer-autocomplete"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("date-input"),u=(0,a.resolveComponent)("time-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("required-text"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",IP,[(0,a.createVNode)(C,{loading:n.isLoading,"onUpdate:loading":t[4]||(t[4]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.schedule_interview"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.interview.interviewName=e),rules:n.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.interviewers,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:t,modelValue:n.interviewers[t],"onUpdate:modelValue":e=>n.interviewers[t]=e,"show-delete":t>0,rules:n.rules.interviewerName.filter(((e,o)=>0===t||o>0)),"include-employees":"onlyCurrent",required:"",onRemove:e=>r.onRemoveInterviewer(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","onRemove"])))),128)),n.interviewers.length<5?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.interview.interviewDate=e),rules:n.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:n.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.interview.interviewTime=e),rules:n.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-3 --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.interview.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.interview.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(v),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const LP={class:"orangehrm-recruitment-interviewer-input"};function AP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",LP,[(0,a.createVNode)(i,(0,a.mergeProps)({label:o.showDelete?null:e.$t("recruitment.interviewer"),disabled:o.disabled},e.$attrs,{"api-path":"/api/v2/recruitment/interviewers"}),null,16,["label","disabled"]),o.showDelete&&!o.disabled?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,name:"trash-fill",class:"orangehrm-recruitment-delete-icon","with-container":!1,onClick:r.remove},null,8,["onClick"])):(0,a.createCommentVNode)("",!0)])}var UP={name:"InterviewerAutocomplete",components:{"employee-autocomplete":rl},inheritAttrs:!1,props:{showDelete:{type:Boolean,required:!0},includeEmployee:{type:String,default:"currentAndPast"},disabled:{type:Boolean,required:!1,default:!1}},emits:["remove"],methods:{remove(){this.$emit("remove")}}};const PP=(0,i.Z)(UP,[["render",AP],["__scopeId","data-v-73842d23"]]);var qP=PP;const MP={interviewName:null,interviewDate:null,interviewTime:null,note:null};var FP={components:{"candidate-action-layout":yP,"interviewer-autocomplete":qP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/shedule-interview`),{userDateFormat:o}=Ae();return{http:t,userDateFormat:o}},data(){return{isLoading:!1,interview:{...MP},interviewers:[null],rules:{interviewName:[So,Do(100)],interviewDate:[So,$o(this.userDateFormat)],interviewTime:[Eo],interviewerName:[So,ia,e=>this.interviewers.filter((t=>t&&t.id===e?.id)).length<2||this.$t("general.already_exists")],note:[Do(2e3)]}}},methods:{onAddAnother(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer(e){this.interviewers.splice(e,1)},onSave(){this.isLoading=!0,this.http.create({...this.interview,interviewerEmpNumbers:this.interviewers.map((e=>e?.id)).filter(Number)}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const OP=(0,i.Z)(FP,[["render",BP]]);var jP=OP;const zP={class:"orangehrm-background-container"};function RP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",zP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.offer_job"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var GP={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/job/offer`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const ZP=(0,i.Z)(GP,[["render",RP]]);var QP=ZP;const HP={class:"orangehrm-background-container"};function WP(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",HP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.decline_offer"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var YP={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/job/decline`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const JP=(0,i.Z)(YP,[["render",WP]]);var XP=JP;const KP={class:"orangehrm-background-container"};function eq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",KP,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.reject_candidate"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var tq={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/reject`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const oq=(0,i.Z)(tq,[["render",eq]]);var aq=oq;const lq={class:"orangehrm-background-container"};function nq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",lq,[(0,a.createVNode)(g,{loading:n.isLoading,"onUpdate:loading":t[1]||(t[1]=e=>n.isLoading=e),"candidate-id":o.candidateId,title:e.$t("recruitment.shortlist_candidate"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.note,"onUpdate:modelValue":t[0]||(t[0]=e=>n.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea"},null,8,["modelValue","rules","label","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickBack},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}var rq={components:{"candidate-action-layout":yP},props:{candidateId:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/shortlist`);return{http:t}},data(){return{isLoading:!1,note:null,rules:{note:[Do(2e3)]}}},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{note:this.note}}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:this.candidateId})}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const iq=(0,i.Z)(rq,[["render",nq]]);var sq=iq;const dq={class:"orangehrm-background-container orangehrm-save-candidate-page"},cq={class:"orangehrm-card-container"};function mq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("full-name-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("vacancy-dropdown"),h=(0,a.resolveComponent)("oxd-input-field"),g=(0,a.resolveComponent)("file-upload-input"),v=(0,a.resolveComponent)("date-input"),f=(0,a.resolveComponent)("required-text"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",dq,[(0,a.createElementVNode)("div",cq,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.add_candidate")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"first-name":n.candidate.firstName,"onUpdate:firstName":t[0]||(t[0]=e=>n.candidate.firstName=e),"middle-name":n.candidate.middleName,"onUpdate:middleName":t[1]||(t[1]=e=>n.candidate.middleName=e),"last-name":n.candidate.lastName,"onUpdate:lastName":t[2]||(t[2]=e=>n.candidate.lastName=e),label:e.$t("general.full_name"),rules:n.rules,required:""},null,8,["first-name","middle-name","last-name","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.candidate.vacancyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.candidate.vacancyId=e),"exclude-interviewers":!0,status:!0},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.candidate.email,"onUpdate:modelValue":t[4]||(t[4]=e=>n.candidate.email=e),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.candidate.contactNumber,"onUpdate:modelValue":t[5]||(t[5]=e=>n.candidate.contactNumber=e),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{newFile:n.resume.newAttachment,"onUpdate:newFile":t[6]||(t[6]=e=>n.resume.newAttachment=e),method:n.resume.method,"onUpdate:method":t[7]||(t[7]=e=>n.resume.method=e),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:n.resume.oldAttachment,rules:n.rules.resume,hint:e.$t("general.accept_custom_format_file"),url:"recruitment/candidateAttachment/attachId"},null,8,["newFile","method","label","button-label","file","rules","hint"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-save-candidate-page-full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.candidate.keywords,"onUpdate:modelValue":t[8]||(t[8]=e=>n.candidate.keywords=e),label:e.$t("recruitment.keywords"),placeholder:`${e.$t("recruitment.enter_comma_seperated_words")}...`,rules:n.rules.keywords},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:n.candidate.dateOfApplication,"onUpdate:modelValue":t[9]||(t[9]=e=>n.candidate.dateOfApplication=e),label:e.$t("recruitment.date_of_application"),rules:n.rules.applyDate},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-save-candidate-page-full-width"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.candidate.comment,"onUpdate:modelValue":t[10]||(t[10]=e=>n.candidate.comment=e),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:n.rules.notes},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-save-candidate-page-full-width orangehrm-save-candidate-page-grid-checkbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.candidate.consentToKeepData,"onUpdate:modelValue":t[11]||(t[11]=e=>n.candidate.consentToKeepData=e),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data")},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f),(0,a.createVNode)(y,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(C)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}var uq={name:"SaveCandidate",components:{"submit-button":d,"full-name-input":Ku,"vacancy-dropdown":cU,"file-upload-input":va},props:{maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{userDateFormat:t}=Ae();return{http:e,userDateFormat:t}},data(){return{isLoading:!1,candidate:{firstName:null,middleName:null,lastName:null,email:null,contactNumber:null,keywords:null,comment:null,dateOfApplication:Ke(Je(),"yyyy-MM-dd"),consentToKeepData:!1,vacancyId:null},resume:{id:null,oldAttachment:null,newAttachment:null,method:"keepCurrent"},rules:{firstName:[So,Do(30)],lastName:[So,Do(30)],middleName:[Do(30)],email:[So,Qo,Do(50)],contactNumber:[Ho,Do(25)],notes:[Do(250)],keywords:[Do(250)],resume:[Go(this.maxFileSize),Zo(this.allowedFileTypes)],applyDate:[$o(this.userDateFormat),To()]}}},methods:{onSave(){let e;this.isLoading=!0,this.http.create({...this.candidate,vacancyId:this.candidate.vacancyId?.id}).then((({data:{data:t}})=>{if(e=parseInt(t.id),this.resume.newAttachment)return this.http.request({method:"POST",url:"/api/v2/recruitment/candidate/attachments",data:{candidateId:e,attachment:this.resume.newAttachment}})})).then((()=>this.$toast.saveSuccess())).then((()=>{U("/recruitment/addCandidate/{id}",{id:e})}))},onCancel(){U("/recruitment/viewCandidates")}}};const pq=(0,i.Z)(uq,[["render",mq],["__scopeId","data-v-e75f8a7a"]]);var hq=pq;const gq={class:"orangehrm-candidate-page"},vq=(0,a.createElementVNode)("br",null,null,-1),fq={class:"orangehrm-paper-container"},yq={key:0,class:"orangehrm-header-container"},Cq={class:"orangehrm-container"},bq={class:"orangehrm-bottom-container"};function Vq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("jobtitle-dropdown"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("vacancy-dropdown"),c=(0,a.resolveComponent)("hiring-manager-dropdown"),m=(0,a.resolveComponent)("candidate-status-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("candidate-autocomplete"),g=(0,a.resolveComponent)("oxd-input-field"),v=(0,a.resolveComponent)("date-input"),f=(0,a.resolveComponent)("oxd-divider"),y=(0,a.resolveComponent)("oxd-button"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form"),x=(0,a.resolveComponent)("oxd-table-filter"),w=(0,a.resolveComponent)("table-header"),N=(0,a.resolveComponent)("oxd-card-table"),k=(0,a.resolveComponent)("oxd-pagination"),_=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gq,[(0,a.createVNode)(x,{"filter-title":e.$t("general.candidates")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(V,{onSubmitValid:r.filterItems,onReset:r.onReset},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.vacancy,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.vacancy=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.hiringManager,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.hiringManager=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.status,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.status=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:l.filters.candidate,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.candidate=e),rules:l.rules.candidate},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:l.filters.keywords,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.keywords=e),label:e.$t("recruitment.keywords"),placeholder:`${e.$t("recruitment.enter_comma_seperated_words")}...`},null,8,["modelValue","label","placeholder"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.fromDate=e),label:e.$t("recruitment.date_of_application"),placeholder:e.$t("general.from"),rules:l.rules.fromDate},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[7]||(t[7]=e=>l.filters.toDate=e),label:"",placeholder:e.$t("general.to"),rules:l.rules.toDate},null,8,["modelValue","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:l.filters.methodOfApplication,"onUpdate:modelValue":t[8]||(t[8]=e=>l.filters.methodOfApplication=e),label:e.$t("recruitment.method_of_application"),type:"select",options:n.applications},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(f),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{type:"reset","display-type":"ghost",label:e.$t("general.reset")},null,8,["label"]),(0,a.createVNode)(C,{label:e.$t("general.search")},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),vq,(0,a.createElementVNode)("div",fq,[e.$can.create("recruitment_candidates")?((0,a.openBlock)(),(0,a.createElementBlock)("div",yq,[(0,a.createVNode)(y,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(w,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,"show-divider":e.$can.create("recruitment_candidates"),onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","show-divider","onDelete"]),(0,a.createElementVNode)("div",Cq,[(0,a.createVNode)(N,{selected:n.checkedItems,"onUpdate:selected":t[9]||(t[9]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[10]||(t[10]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",bq,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(k,{key:0,current:l.currentPage,"onUpdate:current":t[11]||(t[11]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(_,{ref:"deleteDialog"},null,512)])}function xq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:e.$t("recruitment.candidate_name"),clear:!1,"create-options":r.loadCandidates},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var wq={name:"CandidateAutocomplete",props:{params:{type:Object,default:()=>({})}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},methods:{async loadCandidates(e){return new Promise((t=>{e.trim()?this.http.getAll({candidateName:e.trim(),...this.params}).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:`${e.firstName} ${e.middleName||""} ${e.lastName}`,_candidate:e}))))})):t([])}))}}};const Nq=(0,i.Z)(wq,[["render",xq],["__scopeId","data-v-5c755293"]]);var kq=Nq;function _q(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("general.status"),options:l.options},null,8,["label","options"])}var Sq={name:"CandidateStatusDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates/statuses");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.label})))}))})),{options:e}}};const Dq=(0,i.Z)(Sq,[["render",_q]]);var $q=Dq;const Tq={jobTitle:null,vacancy:null,hiringManager:null,status:null,keywords:null,application:null,candidate:null,fromDate:null,toDate:null},Eq={"vacancy.name":"DEFAULT","candidate.lastName":"DEFAULT","hiringManager.lastName":"DEFAULT","candidate.dateOfApplication":"DESC","candidateVacancy.status":"DEFAULT"};var Iq={components:{"vacancy-dropdown":cU,"jobtitle-dropdown":fp,"delete-confirmation":vo,"candidate-autocomplete":kq,"hiring-manager-dropdown":hU,"candidate-status-dropdown":$q},props:{status:{type:Object,required:!1,default:null}},setup(e){const{$t:t}=Ne(),{locale:o}=pt(),{jsDateFormat:l,userDateFormat:n}=Ae(),{$tEmpName:r}=il(),i=e=>e.map((e=>({id:e.id,vacancy:!1===e.vacancy?.status?`${e.vacancy?.name} (${t("general.closed")})`:e.vacancy?.name,candidate:`${e.firstName} ${e.middleName||""} ${e.lastName}`,manager:e?.vacancy?.hiringManager?r(e.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):"",dateOfApplication:Ke(Xe(e.dateOfApplication),l,{locale:o}),status:e.status?.label,resume:e.hasAttachment,isSelectable:e.deletable}))),s=(0,a.ref)({...Tq,...e.status&&{status:e.status}}),d={candidate:[ia],fromDate:[$o(n),Wo((()=>s.value.toDate),t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(n),Fo((()=>s.value.fromDate),t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]},{sortDefinition:c,sortField:m,sortOrder:u,onSort:p}=fo({sortDefinition:Eq}),h=(0,a.computed)((()=>({jobTitleId:s.value.jobTitle?.id,vacancyId:s.value.vacancy?.id,hiringManagerId:s.value.hiringManager?.id,keywords:s.value.keywords,candidateId:s.value.candidate?.id,fromDate:s.value.fromDate,toDate:s.value.toDate,status:s.value.status?.id,methodOfApplication:s.value.methodOfApplication?.id,model:"list",sortField:m.value,sortOrder:u.value}))),g=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{showPaginator:v,currentPage:f,total:y,pages:C,pageSize:b,response:V,isLoading:x,execQuery:w}=so(g,{query:h,normalizer:i});return p(w),{http:g,showPaginator:v,currentPage:f,isLoading:x,total:y,pages:C,pageSize:b,execQuery:w,items:V,filters:s,sortDefinition:c,rules:d}},data(){return{checkedItems:[],headers:[{name:"vacancy",title:this.$t("recruitment.vacancy"),sortField:"vacancy.name",style:{flex:1}},{name:"candidate",slot:"title",title:this.$t("recruitment.candidate"),sortField:"candidate.lastName",style:{flex:1}},{name:"manager",title:this.$t("recruitment.hiring_manager"),sortField:"hiringManager.lastName",style:{flex:1}},{name:"dateOfApplication",title:this.$t("recruitment.date_of_application"),sortField:"candidate.dateOfApplication",style:{flex:1}},{name:"status",title:this.$t("general.status"),sortField:"candidateVacancy.status",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],applications:[{id:1,label:this.$t("recruitment.manual")},{id:2,label:this.$t("recruitment.online")}]}},methods:{cellRenderer(...[,,,e]){const t={view:{onClick:this.onClickEdit,props:{name:"eye-fill"}}};return e.isSelectable&&(t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),e.resume&&(t.download={onClick:this.onDownload,props:{name:"download"}}),{props:{header:{cellConfig:t}}}},onClickAdd(){U("/recruitment/addCandidate")},onClickEdit(e){U("/recruitment/addCandidate/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},onDownload(e){if(!e?.id)return;const t="recruitment/viewCandidateAttachment/candidateId",o=`${window.appGlobal.baseUrl}/${t}/${e.id}`;window.open(o,"_blank")},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})).catch((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onReset(){this.filters={...Tq},this.filterItems()}}};const Bq=(0,i.Z)(Iq,[["render",Vq]]);var Lq=Bq;function Aq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("recruitment-status"),s=(0,a.resolveComponent)("candidate-profile"),d=(0,a.resolveComponent)("history-table");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[n.candidate?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,candidate:n.candidate},null,8,["candidate"])):(0,a.createCommentVNode)("",!0),n.candidate?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,candidate:n.candidate,"max-file-size":o.maxFileSize,updatable:o.updatable,onUpdate:r.onCandidateUpdate},null,8,["candidate","max-file-size","updatable","onUpdate"])):(0,a.createCommentVNode)("",!0),n.candidate?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,candidate:n.candidate},null,8,["candidate"])):(0,a.createCommentVNode)("",!0)],64)}const Uq={class:"orangehrm-card-container"},Pq={class:"orangehrm-recruitment"},qq={key:0,class:"orangehrm-recruitment-status"},Mq={class:"orangehrm-recruitment-actions"};function Fq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Uq,[(0,a.createVNode)(p,{loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.application_stage")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.name")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.candidateName),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("recruitment.vacancy")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.vacancyName?r.vacancyName:"N/A"),1)])),_:1})])),_:1},8,["label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("recruitment.hiring_manager")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.hiringManagerName?r.hiringManagerName:"N/A"),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",Pq,[r.recruitmentStatus?((0,a.openBlock)(),(0,a.createElementBlock)("div",qq,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.status"))+": "+(0,a.toDisplayString)(r.recruitmentStatus),1)])),_:1})])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",Mq,[r.hasWorkflow(3)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,label:e.$t("general.reject"),"display-type":"danger",onClick:t[0]||(t[0]=e=>r.doWorkflow(3))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(8)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,label:e.$t("recruitment.offer_declined"),"display-type":"danger",onClick:t[1]||(t[1]=e=>r.doWorkflow(8))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(6)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,label:e.$t("recruitment.mark_interview_failed"),"display-type":"danger",onClick:t[2]||(t[2]=e=>r.doWorkflow(6))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(2)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:3,label:e.$t("recruitment.shortlist"),"display-type":"success",onClick:t[3]||(t[3]=e=>r.doWorkflow(2))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(4)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:4,label:e.$t("recruitment.schedule_interview"),"display-type":"success",onClick:t[4]||(t[4]=e=>r.doWorkflow(4))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(5)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:5,label:e.$t("recruitment.mark_interview_passed"),"display-type":"success",onClick:t[5]||(t[5]=e=>r.doWorkflow(5))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(7)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:6,label:e.$t("recruitment.offer_job"),"display-type":"success",onClick:t[6]||(t[6]=e=>r.doWorkflow(7))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasWorkflow(9)?((0,a.openBlock)(),(0,a.createBlock)(u,{key:7,label:e.$t("recruitment.hire"),"display-type":"success",onClick:t[7]||(t[7]=e=>r.doWorkflow(9))},null,8,["label"])):(0,a.createCommentVNode)("",!0)])])])),_:1},8,["loading"])])}var Oq={name:"RecruitmentStatus",props:{candidate:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates"),{$tEmpName:t}=il();return{http:e,translateEmpName:t}},data(){return{isLoading:!1,statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlisted")},{id:3,label:this.$t("leave.rejected")},{id:4,label:this.$t("recruitment.interview_scheduled")},{id:5,label:this.$t("recruitment.interview_passed")},{id:6,label:this.$t("recruitment.interview_failed")},{id:7,label:this.$t("recruitment.job_offered")},{id:8,label:this.$t("recruitment.offer_declined")},{id:9,label:this.$t("recruitment.hired")}],actions:[]}},computed:{recruitmentStatus(){return this.statuses.find((e=>e.id===this.candidate.status?.id))?.label||null},candidateName(){return`${this.candidate.firstName} ${this.candidate?.middleName||""} ${this.candidate.lastName}`},vacancyName(){const{vacancy:e}=this.candidate;return e?!1===e.status?e.name+` (${this.$t("general.closed")})`:e.name:null},hiringManagerName(){return this.candidate.vacancy?.hiringManager?this.translateEmpName(this.candidate.vacancy.hiringManager,{includeMiddle:!0,excludePastEmpTag:!1}):void 0}},watch:{candidate(){this.getAllowedActions()}},beforeMount(){this.getAllowedActions()},methods:{hasWorkflow(e){return this.actions.findIndex((t=>t.id==e))>-1},doWorkflow(e){U("/recruitment/changeCandidateVacancyStatus",{},{candidateId:this.candidate?.id,selectedAction:e})},getAllowedActions(){this.isLoading=!0,this.http.request({method:"GET",url:`/api/v2/recruitment/candidates/${this.candidate?.id}/actions/allowed`}).then((e=>{const{data:t}=e.data;this.actions=[...t]})).finally((()=>{this.isLoading=!1}))}}};const jq=(0,i.Z)(Oq,[["render",Fq],["__scopeId","data-v-2d6dc297"]]);var zq=jq;const Rq={class:"orangehrm-background-container"},Gq={class:"orangehrm-card-container"},Zq={class:"orangehrm-header-container"};function Qq(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-switch-input"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("full-name-input"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("vacancy-dropdown"),g=(0,a.resolveComponent)("oxd-input-field"),v=(0,a.resolveComponent)("file-upload-input"),f=(0,a.resolveComponent)("date-input"),y=(0,a.resolveComponent)("required-text"),C=(0,a.resolveComponent)("submit-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form"),x=(0,a.resolveComponent)("confirmation-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Rq,[(0,a.createElementVNode)("div",Gq,[(0,a.createElementVNode)("div",Zq,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.candidate_profile")),1)])),_:1}),!n.isLoading&&o.updatable?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,modelValue:n.editable,"onUpdate:modelValue":t[0]||(t[0]=e=>n.editable=e),"option-label":e.$t("general.edit"),"label-position":"left"},null,8,["modelValue","option-label"])):(0,a.createCommentVNode)("",!0)]),(0,a.withDirectives)((0,a.createVNode)(d,null,null,512),[[a.vShow,!n.isLoading]]),(0,a.createVNode)(V,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"first-name":n.profile.firstName,"onUpdate:firstName":t[1]||(t[1]=e=>n.profile.firstName=e),"middle-name":n.profile.middleName,"onUpdate:middleName":t[2]||(t[2]=e=>n.profile.middleName=e),"last-name":n.profile.lastName,"onUpdate:lastName":t[3]||(t[3]=e=>n.profile.lastName=e),rules:n.rules,label:e.$t("general.full_name"),disabled:!n.editable,required:""},null,8,["first-name","middle-name","last-name","rules","label","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.vacancy,"onUpdate:modelValue":t[4]||(t[4]=e=>n.vacancy=e),label:e.$t("recruitment.job_vacancy"),readonly:!n.editable,"exclude-interviewers":!0,status:!0},null,8,["modelValue","label","readonly"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.profile.email,"onUpdate:modelValue":t[5]||(t[5]=e=>n.profile.email=e),label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,disabled:!n.editable,required:""},null,8,["modelValue","label","placeholder","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.profile.contactNumber,"onUpdate:modelValue":t[6]||(t[6]=e=>n.profile.contactNumber=e),label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber,disabled:!n.editable},null,8,["modelValue","label","placeholder","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{newFile:n.attachment.newAttachment,"onUpdate:newFile":t[7]||(t[7]=e=>n.attachment.newAttachment=e),method:n.attachment.method,"onUpdate:method":t[8]||(t[8]=e=>n.attachment.method=e),label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),file:n.attachment.oldAttachment,rules:n.rules.resume,hint:e.$t("general.accept_custom_format_file"),disabled:!n.editable,url:r.getResumeUrl},null,8,["newFile","method","label","button-label","file","rules","hint","disabled","url"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-save-candidate-page --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.profile.keywords,"onUpdate:modelValue":t[9]||(t[9]=e=>n.profile.keywords=e),label:e.$t("recruitment.keywords"),placeholder:`${e.$t("recruitment.enter_comma_seperated_words")}...`,rules:n.rules.keywords,disabled:!n.editable},null,8,["modelValue","label","placeholder","rules","disabled"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{modelValue:n.profile.dateOfApplication,"onUpdate:modelValue":t[10]||(t[10]=e=>n.profile.dateOfApplication=e),label:e.$t("recruitment.date_of_application"),rules:n.rules.applicationDate,disabled:!n.editable},null,8,["modelValue","label","rules","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-save-candidate-page --span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.profile.comment,"onUpdate:modelValue":t[11]||(t[11]=e=>n.profile.comment=e),label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),disabled:!n.editable},null,8,["modelValue","label","placeholder","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-candidate-grid-checkbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{modelValue:n.profile.consentToKeepData,"onUpdate:modelValue":t[12]||(t[12]=e=>n.profile.consentToKeepData=e),type:"checkbox",label:e.$t("recruitment.consent_to_keep_data"),disabled:!n.editable},null,8,["modelValue","label","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.withDirectives)((0,a.createVNode)(d,null,null,512),[[a.vShow,n.editable]]),n.editable?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y),(0,a.createVNode)(C,{label:e.$t("general.save")},null,8,["label"])])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(x,{ref:"confirmDialog",title:e.$t("general.confirmation_required"),subtitle:e.$t("recruitment.candidate_vacancy_change_message"),"cancel-label":e.$t("general.no_cancel"),"confirm-label":e.$t("leave.yes_confirm"),"confirm-button-type":"secondary"},null,8,["title","subtitle","cancel-label","confirm-label"])])}const Hq={firstName:"",middleName:"",lastName:"",email:"",contactNumber:"",comment:"",keywords:"",dateOfApplication:null,consentToKeepData:!1},Wq={id:null,oldAttachment:{},newAttachment:null,method:"replaceCurrent"},Yq={id:null,label:""};var Jq={name:"CandidateProfile",components:{DateInput:vt,"oxd-switch-input":n.OxdSwitchInput,"full-name-input":Ku,"vacancy-dropdown":cU,"file-upload-input":va,"confirmation-dialog":uA},props:{candidate:{type:Object,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},updatable:{type:Boolean,required:!1,default:!0}},emits:["update"],setup(){const e=new q(window.appGlobal.baseUrl,"/"),{userDateFormat:t}=Ae();return{http:e,userDateFormat:t}},data(){return{editable:!1,isLoading:!1,profile:{...Hq},vacancy:{...Yq},attachment:{...Wq},rules:{firstName:[So,Do(30)],lastName:[So,Do(30)],middleName:[Do(30)],email:[So,Qo,Do(50)],contactNumber:[Ho,Do(25)],keywords:[Do(250)],applicationDate:[$o(this.userDateFormat)],resume:[Go(this.maxFileSize),Zo(this.allowedFileTypes)]}}},watch:{candidate(){this.fetchCandidate()}},beforeMount(){this.fetchCandidate()},methods:{onSave(){this.candidate.vacancy?.id&&this.candidate.vacancy?.id!==this.vacancy?.id?this.$refs.confirmDialog.showDialog().then((e=>{"ok"===e&&this.updateCandidate()})):this.updateCandidate()},updateCandidate(){this.isLoading=!0,this.http.request({method:"PUT",url:`/api/v2/recruitment/candidates/${this.candidate.id}`,data:{...this.profile,vacancyId:this.vacancy?.id}}).then((()=>!this.attachment.newAttachment&&!this.candidate.hasAttachment||this.http.request({method:"PUT",url:`/api/v2/recruitment/candidate/${this.candidate.id}/attachment`,data:{currentAttachment:this.attachment.oldAttachment?this.attachment.method:void 0,attachment:this.attachment.newAttachment?this.attachment.newAttachment:void 0}}))).then((()=>this.$toast.updateSuccess())).then((()=>{this.$emit("update"),this.isLoading=!1,this.editable=!1}))},getResumeUrl(){return A("/recruitment/viewCandidateAttachment/candidateId/{candidateId}",{candidateId:this.candidate.id})},fetchCandidate(){this.isLoading=!0,this.profile.firstName=this.candidate.firstName,this.profile.middleName=this.candidate.middleName,this.profile.lastName=this.candidate.lastName,this.profile.email=this.candidate.email,this.profile.contactNumber=this.candidate.contactNumber,this.profile.keywords=this.candidate.keywords,this.profile.dateOfApplication=this.candidate.dateOfApplication,this.profile.comment=this.candidate.comment,this.profile.consentToKeepData=this.candidate.consentToKeepData;const{vacancy:e}=this.candidate;e&&(this.vacancy={id:e.id,label:!1===e.status?e.name+` (${this.$t("general.closed")})`:e.name}),this.candidate.hasAttachment?this.http.request({method:"GET",url:`/api/v2/recruitment/candidate/${this.candidate.id}/attachment`}).then((({data:{data:e}})=>{this.attachment.id=e.id,this.attachment.newAttachment=null,this.attachment.oldAttachment={id:e.id,filename:e.attachment.fileName,fileType:e.attachment.fileType,fileSize:e.attachment.fileSize},this.attachment.method="keepCurrent"})):this.attachment={...Wq},this.isLoading=!1}}};const Xq=(0,i.Z)(Jq,[["render",Qq],["__scopeId","data-v-fa8534b2"]]);var Kq=Xq;const eM={class:"orangehrm-paper-container"},tM={class:"orangehrm-header-container"},oM={class:"orangehrm-container"},aM={class:"orangehrm-bottom-container"};function lM(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",eM,[(0,a.createElementVNode)("div",tM,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.candidate_history")),1)])),_:1})]),(0,a.createVNode)(s,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",oM,[(0,a.createVNode)(d,{headers:n.headers,items:l.items?.data,clickable:!1,selectable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",aM,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])}const nM=1,rM=2,iM=3,sM=4,dM=5,cM=6,mM=7,uM=8,pM=9,hM=15,gM=16,vM=17;var fM={name:"HistoryTable",props:{candidate:{type:Object,required:!0}},setup(e){const{$t:t}=Ne(),{locale:o}=pt(),{jsDateFormat:a}=Ae(),{$tEmpName:l}=il(),n=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidate?.id}/history`),r=n=>{const r=`${e.candidate?.firstName} ${e.candidate?.middleName||""} ${e.candidate?.lastName}`;return n.map((e=>{let n=null;const i={name:"",data:"",interviewers:""},s=l(e.performedBy,{includeMiddle:!0,excludePastEmpTag:!1});if(e.interview){i.name=e.interview.name,i.date=e.interview.date;const t=e.interview.interviewers.map((e=>l(e,{includeMiddle:!0,excludePastEmpTag:!1})));i.interviewers=t.join(", ")}switch(e?.action.id){case vM:n=t("recruitment.candidate_applied_for_the_vacancy",{candidate:r,vacancy:e.vacancyName});break;case gM:n=t("recruitment.employee_added_candidate",{employee:s,candidate:r});break;case nM:n=t("recruitment.employee_assigned_vacancy_to_candidate",{employee:s,vacancy:e.vacancyName});break;case rM:n=t("recruitment.candidate_shortlisted_for_vacancy_by_employee",{vacancy:e.vacancyName,employee:s});break;case iM:n=t("recruitment.employee_rejected_the_candidate",{employee:s,candidate:r,vacancy:e.vacancyName});break;case sM:n=t("recruitment.employee_schedule_interview_with_interviewers",{employee:s,interview:i.name,interviewDate:i.date,interviewers:i.interviewers,vacancy:e.vacancyName});break;case dM:n=t("recruitment.employee_marked_interveiw_passed",{employee:s,interview:i.name,vacancy:e.vacancyName});break;case cM:n=t("recruitment.employee_marked_interveiw_failed",{employee:s,interview:i.name,vacancy:e.vacancyName});break;case mM:n=t("recruitment.employee_offered_the_job",{employee:s,vacancy:e.vacancyName});break;case uM:n=t("recruitment.employee_marked_the_offer_declined",{employee:s,vacancy:e.vacancyName});break;case pM:n=t("recruitment.employee_hired_the_candidate",{employee:s,candidate:r,vacancy:e.vacancyName});break;case hM:n=t("recruitment.employee_removed_candidate_from_vacancy",{employee:s,candidate:r,vacancy:e.vacancyName});break}return{...e,description:n,performedDate:Ke(Xe(e.performedDate),a,{locale:o})}}))},{showPaginator:i,currentPage:s,total:d,pages:c,pageSize:m,response:u,isLoading:p,execQuery:h}=so(n,{normalizer:r});return{http:n,showPaginator:i,currentPage:s,isLoading:p,total:d,pages:c,pageSize:m,execQuery:h,items:u}},data(){return{headers:[{name:"performedDate",slot:"title",title:this.$t("recruitment.performed_date"),style:{flex:"20%"}},{name:"description",title:this.$t("general.description"),style:{flex:"65%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"15%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}]}},watch:{candidate(){this.execQuery()}},methods:{cellRenderer(...[,,,e]){const t={};return e.action?.id!=nM&&e.action?.id!=gM&&e.action?.id!=hM&&e.action?.id!=vM&&e.editable&&(t.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}}),e.action?.id!==sM&&e.action?.id!==dM&&e.action?.id!==cM||!e.editable||(t.attachment={onClick:this.onClickAttachment,props:{name:"paperclip"}}),{props:{header:{cellConfig:t}}}},onClickEdit(e){U("/recruitment/candidateHistory/{candidateId}/{historyId}",{candidateId:this.candidate.id,historyId:e.id})},onClickAttachment(e){U("/recruitment/interviewAttachments/{interviewId}",{interviewId:e.interview?.id})}}};const yM=(0,i.Z)(fM,[["render",lM],["__scopeId","data-v-5829e84c"]]);var CM=yM,bM={components:{"history-table":CM,"candidate-profile":Kq,"recruitment-status":zq},props:{candidateId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0},updatable:{type:Boolean,required:!1,default:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/candidates");return{http:e}},data(){return{candidate:null}},beforeMount(){this.onCandidateUpdate()},methods:{onCandidateUpdate(){this.http.get(this.candidateId).then((({data:{data:e}})=>{this.candidate=e}))}}};const VM=(0,i.Z)(bM,[["render",Aq]]);var xM=VM;const wM={class:"orangehrm-background-container"};function NM(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("interviewer-autocomplete"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("time-input"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("candidate-action-layout");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wM,[(0,a.createVNode)(y,{loading:n.isLoading,"candidate-id":o.candidateId,title:e.$t("recruitment.view_action_history"),onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:e.$t("recruitment.performed_action"),value:r.performedAction,readonly:""},null,8,["label","value"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:e.$t("general.performed_by"),value:r.performedBy,readonly:""},null,8,["label","value"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{label:e.$t("recruitment.performed_date"),value:r.performedDate,readonly:""},null,8,["label","value"])])),_:1})])),_:1})])),_:1}),r.isScheduleInterview?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.interview.interviewName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.interview.interviewName=e),rules:n.rules.interviewName,label:e.$t("recruitment.interview_title"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.interviewers,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:t,modelValue:n.interviewers[t],"onUpdate:modelValue":e=>n.interviewers[t]=e,"show-delete":t>0,rules:n.rules.interviewerName.filter(((e,o)=>0===t||o>0)),"include-employees":"onlyCurrent",required:"",disabled:!o.editable,onRemove:e=>r.onRemoveInterviewer(t)},null,8,["modelValue","onUpdate:modelValue","show-delete","rules","disabled","onRemove"])))),128)),n.interviewers.length<5&&o.editable?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"icon-name":"plus","display-type":"text",class:"orangehrm-input-field-bottom-space",label:e.$t("general.add_another"),onClick:r.onAddAnother},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.interview.interviewDate,"onUpdate:modelValue":t[1]||(t[1]=e=>n.interview.interviewDate=e),rules:n.rules.interviewDate,label:e.$t("general.date"),required:""},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.interview.interviewTime,"onUpdate:modelValue":t[2]||(t[2]=e=>n.interview.interviewTime=e),rules:n.rules.interviewTime,label:e.$t("general.time")},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:n.history.note,"onUpdate:modelValue":t[3]||(t[3]=e=>n.history.note=e),rules:n.rules.note,label:e.$t("general.notes"),placeholder:e.$t("general.type_here"),type:"textarea",disabled:n.disabled},null,8,["modelValue","rules","label","placeholder","disabled"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.back"),onClick:r.onClickBack},null,8,["label","onClick"]),n.disabled?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,label:e.$t("general.save")},null,8,["label"]))])),_:1})])),_:1},8,["loading","candidate-id","title","onSubmitValid"])])}const kM={id:null,action:{id:null,label:null},performedBy:{empNumber:null,lastName:null,firstName:null,middleName:null,terminationId:null},interview:{id:null},performedDate:null,note:null},_M={interviewName:null,interviewDate:null,interviewTime:null};var SM={components:{"candidate-action-layout":yP,"interviewer-autocomplete":qP},props:{candidateId:{type:Number,required:!0},historyId:{type:Number,required:!0},editable:{type:Boolean,required:!1,default:!0}},setup(e){const{locale:t}=pt(),{jsDateFormat:o,userDateFormat:a}=Ae(),{$tEmpName:l}=il(),n=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/candidates/${e.candidateId}/history`);return{http:n,locale:t,jsDateFormat:o,userDateFormat:a,translateEmpName:l}},data(){return{isLoading:!1,history:{...kM},interview:{..._M},interviewers:[],rules:{interviewName:[So,Do(100)],interviewDate:[So,$o(this.userDateFormat)],interviewTime:[Eo],interviewerName:[So,ia,e=>this.interviewers.filter((t=>t&&t.id===e?.id)).length<2||this.$t("general.already_exists")],note:[Do(2e3)]},statuses:[{id:1,label:this.$t("recruitment.application_initiated")},{id:2,label:this.$t("recruitment.shortlist")},{id:3,label:this.$t("general.reject")},{id:4,label:this.$t("recruitment.schedule_interview")},{id:5,label:this.$t("recruitment.mark_interview_passed")},{id:6,label:this.$t("recruitment.mark_interview_failed")},{id:7,label:this.$t("recruitment.offer_job")},{id:8,label:this.$t("recruitment.decline_offer")},{id:9,label:this.$t("recruitment.hire")}],disabled:!1}},computed:{performedBy(){return this.translateEmpName(this.history.performedBy,{includeMiddle:!0,excludePastEmpTag:!1})},performedDate(){return Ke(Xe(this.history.performedDate),this.jsDateFormat,{locale:this.locale})},performedAction(){return this.statuses.find((e=>e.id===this.history.action.id))?.label||null},isScheduleInterview(){return this.history.interview?.id&&4===this.history.action?.id}},beforeMount(){this.isLoading=!0,this.http.get(this.historyId).then((e=>{const{data:t,meta:o}=e.data;return this.history={...t},this.disabled=o.disabled,this.isScheduleInterview?this.http.request({method:"GET",url:`/api/v2/recruitment/candidates/${this.candidateId}/interviews/${this.history.interview.id}`}):null})).then((e=>{if(e){const{data:t}=e.data;this.interview.interviewName=t.name,this.interview.interviewDate=t.interviewDate,this.interview.interviewTime=t.interviewTime,this.history.note=t.note,Array.isArray(t.interviewers)&&(this.interviewers=t.interviewers.map((e=>({id:e.empNumber,label:this.translateEmpName(e,{includeMiddle:!0,excludePastEmpTag:!0}),isPastEmployee:!!e.terminationId}))))}})).finally((()=>{this.isLoading=!1}))},methods:{onAddAnother(){this.interviewers.length<5&&this.interviewers.push(null)},onRemoveInterviewer(e){this.interviewers.splice(e,1)},onSave(){this.loading=!0,this.http.update(this.historyId,{note:this.history.note}).then((()=>this.isScheduleInterview?this.http.request({method:"PUT",url:`/api/v2/recruitment/candidates/${this.candidateId}/interviews/${this.history.interview.id}`,data:{...this.interview,note:this.history.note,interviewerEmpNumbers:this.interviewers.map((e=>e?.id)).filter(Number)}}):null)).then((()=>{this.loading=!1,this.$toast.saveSuccess()}))},onClickBack(){U("/recruitment/addCandidate/{id}",{id:this.candidateId})}}};const DM=(0,i.Z)(SM,[["render",NM]]);var $M=DM;const TM={class:"orangehrm-container"},EM={key:1,class:"orangehrm-bottom-container"},IM={class:"orangehrm-paper-container"},BM=["src"];function LM(e,t,o,l,n,r){const i=(0,a.resolveComponent)("vacancy-card"),s=(0,a.resolveComponent)("oxd-loading-spinner"),d=(0,a.resolveComponent)("oxd-pagination"),c=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",TM,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.vacancies?.data,(e=>((0,a.openBlock)(),(0,a.createBlock)(i,{key:e,"vacancy-id":e.vacancyId,"vacancy-title":e.vacancyTitle,"vacancy-description":e.vacancyDescription},null,8,["vacancy-id","vacancy-title","vacancy-description"])))),128)),l.isLoading?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-container-loader"})):(0,a.createCommentVNode)("",!0),l.showPaginator?((0,a.openBlock)(),(0,a.createElementBlock)("div",EM,[(0,a.createVNode)(d,{current:l.currentPage,"onUpdate:current":t[0]||(t[0]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",IM,[(0,a.createVNode)(c,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.powered_by")),1)])),_:1}),(0,a.createElementVNode)("img",{src:l.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,BM),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])],64)}const AM={class:"orangehrm-card-container"},UM={class:"orangehrm-vacancy-card-header"},PM={key:0,class:"orangehrm-vacancy-card-pre-tag"},qM={key:0,class:"orangehrm-vacancy-card-footer"};function MM(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-divider");return(0,a.openBlock)(),(0,a.createElementBlock)("div",AM,[(0,a.createElementVNode)("div",UM,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.vacancyTitle),1)])),_:1}),(0,a.createVNode)(s,{label:e.$t("general.apply"),"display-type":"secondary",class:"oxd-button",onClick:r.apply},null,8,["label","onClick"])]),(0,a.withDirectives)((0,a.createVNode)(d,null,null,512),[[a.vShow,o.vacancyDescription]]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)({"orangehrm-vacancy-card-body":r.isViewDetails})},[(0,a.createVNode)(i,{type:"toast-message"},{default:(0,a.withCtx)((()=>[o.vacancyDescription?((0,a.openBlock)(),(0,a.createElementBlock)("pre",PM,(0,a.toDisplayString)(o.vacancyDescription),1)):(0,a.createCommentVNode)("",!0)])),_:1})],2),o.vacancyDescription&&o.vacancyDescription.length>r.descriptionLength?((0,a.openBlock)(),(0,a.createElementBlock)("div",qM,[(0,a.createElementVNode)("a",{onClick:t[0]||(t[0]=(...e)=>r.viewDetails&&r.viewDetails(...e))},[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.isViewDetails?e.$t("general.show_more"):e.$t("general.show_less")),1)])),_:1})])])):(0,a.createCommentVNode)("",!0)])}var FM={name:"VacancyCard",props:{vacancyId:{type:Number,required:!0},vacancyTitle:{type:String,required:!0},vacancyDescription:{type:String,required:!0}},setup(){const e=(0,n.useResponsive)();return{...(0,a.toRefs)(e)}},data(){return{viewMore:!1}},computed:{isMobile(){return this.windowWidth<600},isViewDetails(){return!this.viewMore},descriptionLength(){return this.isMobile?150:this.windowWidth<1920?250:400}},methods:{viewDetails(){this.viewMore=!this.viewMore},apply(){U("/recruitmentApply/applyVacancy/id/{id}",{id:this.vacancyId})}}};const OM=(0,i.Z)(FM,[["render",MM],["__scopeId","data-v-251847f9"]]);var jM=OM,zM={name:"VacancyList",components:{"vacancy-card":jM,"oxd-loading-spinner":n.OxdSpinner},setup(){const e=`${window.appGlobal.publicPath}/images/ohrm_branding.png`,t=e=>e.map((e=>({vacancyId:e.id,vacancyTitle:e.name,vacancyDescription:e.description}))),o=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/public/vacancies"),{showPaginator:a,currentPage:l,total:n,pages:r,response:i,isLoading:s}=so(o,{normalizer:t,pageSize:8});return{defaultPic:e,showPaginator:a,currentPage:l,isLoading:s,total:n,pages:r,vacancies:i}}};const RM=(0,i.Z)(zM,[["render",LM],["__scopeId","data-v-68e0eff5"]]);var GM=RM;const ZM={class:"orangehrm-container"},QM={class:"orangehrm-card-container"},HM={class:"orangehrm-card-container-header"},WM=["src"],YM={class:"orangehrm-applicant-card-pre-tag"},JM={key:0,class:"orangehrm-vacancy-card-footer"},XM=["value"],KM=["value"],eF={class:"orangehrm-applicant-container"},tF={class:"orangehrm-paper-container"},oF=["src"];function aF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("full-name-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-input-field"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("success-dialogue");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",ZM,[(0,a.createElementVNode)("div",QM,[(0,a.createElementVNode)("div",HM,[(0,a.createVNode)(i,{class:"orangehrm-main-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.apply_for_n_vacancy",{vacancyName:n.vacancyName})),1)])),_:1}),(0,a.createElementVNode)("img",{class:"oxd-brand-banner",src:o.bannerSrc},null,8,WM)]),n.vacancyDescription?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(s),(0,a.createVNode)(i,{class:"orangehrm-vacancy-description",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.description")),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:(0,a.normalizeClass)(r.descriptionClasses)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("pre",YM,(0,a.toDisplayString)(n.vacancyDescription)+"\n        ",1)])),_:1},8,["class"]),n.vacancyDescription.length>r.descriptionLength?((0,a.openBlock)(),(0,a.createElementBlock)("div",JM,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-vacancy-card-anchor-tag",onClick:r.onToggleMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.isViewDetails?e.$t("general.show_less"):e.$t("general.show_more")),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s),(0,a.createVNode)(y,{ref:"applicantForm",method:"post",enctype:"multipart/form-data",loading:n.isLoading,action:r.submitUrl,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,XM),(0,a.createElementVNode)("input",{name:"vacancyId",value:o.vacancyId,type:"hidden"},null,8,KM),(0,a.createElementVNode)("div",eF,[(0,a.createVNode)(u,{class:"orangehrm-applicant-container-row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:1,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{firstName:l.applicant.firstName,"onUpdate:firstName":t[0]||(t[0]=e=>l.applicant.firstName=e),lastName:l.applicant.lastName,"onUpdate:lastName":t[1]||(t[1]=e=>l.applicant.lastName=e),middleName:l.applicant.middleName,"onUpdate:middleName":t[2]||(t[2]=e=>l.applicant.middleName=e),label:e.$t("general.full_name"),rules:n.rules,required:""},null,8,["firstName","lastName","middleName","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,{class:"orangehrm-applicant-container-row"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-applicant-container-colspan-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.email,"onUpdate:modelValue":t[3]||(t[3]=e=>l.applicant.email=e),name:"email",label:e.$t("general.email"),placeholder:e.$t("general.type_here"),rules:n.rules.email,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.contactNumber,"onUpdate:modelValue":t[4]||(t[4]=e=>l.applicant.contactNumber=e),name:"contactNumber",label:e.$t("recruitment.contact_number"),placeholder:e.$t("general.type_here"),rules:n.rules.contactNumber},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.resume,"onUpdate:modelValue":t[5]||(t[5]=e=>l.applicant.resume=e),name:"resume",type:"file",label:e.$t("recruitment.resume"),"button-label":e.$t("general.browse"),rules:n.rules.resume,required:""},null,8,["modelValue","label","button-label","rules"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accept_custom_format_file")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-applicant-container-colspan-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.keywords,"onUpdate:modelValue":t[6]||(t[6]=e=>l.applicant.keywords=e),name:"keywords",label:e.$t("recruitment.keywords"),placeholder:`${e.$t("recruitment.enter_comma_seperated_words")}...`,rules:n.rules.keywords},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-applicant-container-colspan-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.comment,"onUpdate:modelValue":t[7]||(t[7]=e=>l.applicant.comment=e),name:"comment",label:e.$t("general.notes"),type:"textarea",placeholder:e.$t("general.type_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-applicant-container-colspan-2 orangehrm-applicant-container-grid-checkbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.applicant.consentToKeepData,"onUpdate:modelValue":t[8]||(t[8]=e=>l.applicant.consentToKeepData=e),name:"consentToKeepData",label:e.$t("recruitment.consent_to_keep_data"),type:"checkbox"},null,8,["modelValue","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{label:e.$t("general.back"),"display-type":"ghost",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v,{label:e.$t("general.submit")},null,8,["label"])])),_:1})])])),_:1},8,["loading","action","onSubmitValid"])])]),(0,a.createElementVNode)("div",tF,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-vacancy-list-poweredby"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.powered_by")),1)])),_:1}),(0,a.createElementVNode)("img",{src:l.defaultPic,alt:"OrangeHRM Picture",class:"orangehrm-container-img"},null,8,oF),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)]),(0,a.createVNode)(C,{ref:"showDialogueModal"},null,512)],64)}const lF={class:"orangehrm-modal-header"},nF={class:"orangehrm-text-center-align"},rF={class:"orangehrm-modal-footer"};function iF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("simple-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"with-close":!1,class:"orangehrm-confirmation-dialog orangehrm-dialog-popup","onUpdate:show":r.onSuccess},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lF,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.application_received")),1)])),_:1})]),(0,a.createElementVNode)("div",nF,[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("recruitment.your_application_has_been_submitted_successfully")),1)])),_:1})]),(0,a.createElementVNode)("div",rF,[(0,a.createVNode)(s,{label:e.$t("general.ok"),"display-type":"text",class:"orangehrm-button-margin",onClick:r.onSuccess},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var sF={name:"SuccessDialog",components:{"simple-dialog":n.OxdDialog},data(){return{show:!1,resolve:null}},methods:{showSuccessDialog(){return new Promise((e=>{this.resolve=e,this.show=!0}))},onSuccess(){this.show=!1,this.resolve&&this.resolve("ok")}}};const dF=(0,i.Z)(sF,[["render",iF],["__scopeId","data-v-76269556"]]);var cF=dF;const mF={firstName:"",middleName:"",lastName:"",contactNumber:"",email:"",consentToKeepData:!1,resume:null,keywords:null,comment:null};var uF={name:"ApplyJobVacancy",components:{"submit-button":d,"full-name-input":Ku,"success-dialogue":cF},props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0},vacancyId:{type:Number,required:!0},success:{type:Boolean,default:!1},bannerSrc:{type:String,required:!0},token:{type:String,required:!0}},setup(){const e=`${window.appGlobal.publicPath}/images/ohrm_branding.png`,t=(0,a.ref)({...mF}),o=(0,n.useResponsive)(),l=new q(window.appGlobal.baseUrl,"/api/v2/recruitment/public/vacancies");return{http:l,applicant:t,defaultPic:e,...(0,a.toRefs)(o)}},data(){return{title:null,subtitle:null,successLabel:null,isLoading:!1,vacancyName:"",vacancyDescription:null,rules:{firstName:[So,Do(30)],middleName:[Do(30)],lastName:[So,Do(30)],resume:[So,Go(this.maxFileSize),Zo(this.allowedFileTypes)],comment:[Do(250)],keywords:[Do(250)],contactNumber:[Do(25),Ho],email:[So,Qo,Do(50)]},isViewDetails:!0}},computed:{submitUrl(){return A("/recruitment/public/applicants")},descriptionClasses(){return{"orangehrm-vacancy-description":!0,"orangehrm-vacancy-card-body":!this.isViewDetails}},isMobile(){return this.windowWidth<600},descriptionLength(){return this.isMobile?150:this.windowWidth<1920?250:400}},beforeMount(){this.http.get(this.vacancyId).then((e=>{const{data:t}=e.data;this.vacancyName=t?.name??"",this.vacancyDescription=t?.description}))},mounted(){this.success&&this.showDialogue()},methods:{onSave(){this.$refs.applicantForm.$el.submit()},onCancel(){U("/recruitmentApply/jobs.html")},showDialogue(){this.$refs.showDialogueModal.showSuccessDialog().then((e=>{"ok"===e&&U("/recruitmentApply/jobs.html")}))},onToggleMore(){this.isViewDetails=!this.isViewDetails}}};const pF=(0,i.Z)(uF,[["render",aF],["__scopeId","data-v-316ef8c9"]]);var hF=pF;const gF={class:"orangehrm-attachment"},vF={class:"orangehrm-attachment-header"},fF={class:"orangehrm-container"},yF={class:"orangehrm-bottom-container"};function CF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("save-interview-attachment"),s=(0,a.resolveComponent)("edit-interview-attachment"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("table-header"),u=(0,a.resolveComponent)("oxd-card-table"),p=(0,a.resolveComponent)("oxd-pagination"),h=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gF,[n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,http:l.http,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes,onClose:r.closeModel},null,8,["http","max-file-size","allowed-file-types","onClose"])):n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,http:l.http,data:n.editModalState,"max-file-size":o.maxFileSize,"allowed-file-types":o.allowedFileTypes,onClose:r.closeModel},null,8,["http","data","max-file-size","allowed-file-types","onClose"])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:2},[(0,a.createElementVNode)("div",vF,[(0,a.createVNode)(d,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.attachments")),1)])),_:1}),(0,a.createVNode)(c,{"icon-name":"plus","display-type":"text",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(m,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",fF,[(0,a.createVNode)(u,{selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),headers:n.headers,items:l.items?.data,clickable:!1,selectable:!0,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"])]),(0,a.createElementVNode)("div",yF,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])],64)),(0,a.createVNode)(h,{ref:"deleteDialog"},null,512)])}const bF={class:"orangehrm-card-container"};function VF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",bF,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.add_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.select_file"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected"),required:""},null,8,["modelValue","label","button-label","rules","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const xF={attachment:null,comment:""};var wF={name:"SaveInterviewAttachment",props:{http:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,attachment:{...xF},rules:{comment:[Do(200)],attachment:[So,Go(this.maxFileSize),Zo(this.allowedFileTypes)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.attachment}).then((()=>this.$toast.saveSuccess())).then((()=>{this.attachment={...xF},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const NF=(0,i.Z)(wF,[["render",VF]]);var kF=NF;const _F={class:"orangehrm-card-container"};function SF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-group"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-input-field"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_F,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit_attachment")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{label:e.$t("general.current_file")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.currentFile),1)])),_:1})])),_:1},8,["label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.attachment.attachment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.attachment.attachment=e),type:"file",label:e.$t("general.replace_with"),"button-label":e.$t("general.browse"),rules:n.rules.attachment,placeholder:e.$t("general.no_file_selected")},null,8,["modelValue","label","button-label","rules","placeholder"]),(0,a.createVNode)(i,{class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.accepts_up_to_1mb")),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.attachment.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.attachment.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_comment_here"),rules:n.rules.comment},null,8,["modelValue","label","placeholder","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])}const DF={attachment:null,comment:""};var $F={name:"EditInterviewAttachment",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},emits:["close"],data(){return{isLoading:!1,currentFile:"",attachment:{...DF},rules:{comment:[Do(200)],attachment:[Go(this.maxFileSize),Zo(this.allowedFileTypes)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.data.id).then((e=>{const{data:t}=e.data;this.currentFile=t.attachment.fileName,this.attachment.comment=t.comment})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.update(this.data.id,{comment:this.attachment.comment,currentAttachment:null!==this.attachment.attachment?"replaceCurrent":"keepCurrent",attachment:null!==this.attachment.attachment?this.attachment.attachment:void 0}).then((()=>this.$toast.updateSuccess())).then((()=>{this.attachment={...DF},this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const TF=(0,i.Z)($F,[["render",SF]]);var EF=TF;const IF=e=>e.map((e=>({id:e.id,interviewId:e.interviewId,filename:e.attachment?.fileName,size:ih(e.attachment?.fileSize||0,2),fileType:e.attachment?.fileType,comment:e.comment})));var BF={components:{"delete-confirmation":vo,"save-interview-attachment":kF,"edit-interview-attachment":EF},props:{interviewId:{type:Number,required:!0},maxFileSize:{type:Number,required:!0},allowedFileTypes:{type:Array,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/recruitment/interviews/${e.interviewId}/attachments`),{showPaginator:o,currentPage:a,total:l,pages:n,pageSize:r,response:i,isLoading:s,execQuery:d}=so(t,{normalizer:IF,toastNoRecords:!1});return{http:t,showPaginator:o,currentPage:a,isLoading:s,total:l,pages:n,pageSize:r,execQuery:d,items:i}},data(){return{headers:[{name:"filename",slot:"title",title:this.$t("general.file_name"),style:{flex:1}},{name:"size",title:this.$t("general.size"),style:{flex:1}},{name:"fileType",title:this.$t("general.type"),style:{flex:1}},{name:"comment",title:this.$t("general.comment"),style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}},delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},download:{onClick:this.onClickDownload,props:{name:"download"}}}}],checkedItems:[],showSaveModal:!1,showEditModal:!1,editModalState:null}},methods:{onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.items?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){this.showSaveModal=!0,this.showEditModal=!1},onClickEdit(e){this.showSaveModal=!1,this.showEditModal=!0,this.editModalState=e},closeModel(){this.showSaveModal=!1,this.showEditModal=!1,this.resetDataTable()},onClickDownload(e){const t=`${window.appGlobal.baseUrl}/recruitment/viewInterviewAttachment/interview/${this.interviewId}/attachment/${e.id}`;window.open(t,"_blank")}}};const LF=(0,i.Z)(BF,[["render",CF],["__scopeId","data-v-451febef"]]);var AF=LF,UF={"view-job-vacancy":CU,"add-job-vacancy":qU,"edit-job-vacancy":cP,"save-candidate":hq,"view-candidates-list":Lq,"view-candidate-profile":xM,"shortlist-action":sq,"reject-action":aq,"interview-schedule-action":jP,"interview-passed-action":EP,"interview-failed-action":_P,"offer-job-action":QP,"offer-decline-action":XP,"hire-action":VP,"view-action-history":$M,"vacancy-list":GM,"apply-job-vacancy":hF,"view-interview-attachments":AF};const PF={class:"orangehrm-background-container"},qF={class:"orangehrm-paper-container"},MF={class:"orangehrm-header-container"},FF={class:"orangehrm-container"},OF={class:"orangehrm-bottom-container"};function jF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",PF,[(0,a.createElementVNode)("div",qF,[(0,a.createElementVNode)("div",MF,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.my_performance_trackers")),1)])),_:1})]),(0,a.createVNode)(s,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",FF,[(0,a.createVNode)(d,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),(0,a.createElementVNode)("div",OF,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])])}const zF={"performanceTracker.trackerName":"DEFAULT","performanceTracker.addedDate":"DEFAULT","performanceTracker.modifiedDate":"DESC"};var RF={setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=fo({sortDefinition:zF}),n=(0,a.computed)((()=>({sortField:t.value,sortOrder:o.value}))),r=new q(window.appGlobal.baseUrl,"/api/v2/performance/trackers"),{jsDateFormat:i}=Ae(),{locale:s}=pt(),d=e=>e.map((e=>({id:e.id,tracker:e.trackerName,addedDate:Ke(Xe(e.addedDate),i,{locale:s}),modifiedDate:Ke(Xe(e.modifiedDate),i,{locale:s})}))),{currentPage:c,total:m,showPaginator:u,pages:p,pageSize:h,response:g,execQuery:v,isLoading:f}=so(r,{query:n,normalizer:d});return l(v),{http:r,total:m,isLoading:f,items:g,execQuery:v,sortDefinition:e,showPaginator:u,pages:p,pageSize:h,currentPage:c}},data(){return{headers:[{name:"tracker",slot:"title",title:this.$t("performance.tracker"),sortField:"performanceTracker.trackerName",style:{flex:"30%"}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"action",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),displayType:"text"}}}}]}},methods:{onClickView(e){U("/performance/addPerformanceTrackerLog/trackId/{id}?mode=my",{id:e.id})}}};const GF=(0,i.Z)(RF,[["render",jF]]);var ZF=GF;const QF={class:"orangehrm-background-container"},HF=(0,a.createElementVNode)("br",null,null,-1),WF={class:"orangehrm-paper-container"},YF={class:"orangehrm-container"},JF={class:"orangehrm-bottom-container"};function XF(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("include-employee-dropdown"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("table-header"),y=(0,a.resolveComponent)("oxd-card-table"),C=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",QF,[(0,a.createVNode)(v,{"filter-title":e.$t("performance.employee_performance_trackers")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.empName,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.empName=e),rules:n.rules.employee,"api-path":"/api/v2/performance/trackers/reviewers",params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),HF,(0,a.createElementVNode)("div",WF,[(0,a.createVNode)(f,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",YF,[(0,a.createVNode)(y,{order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!1,clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),(0,a.createElementVNode)("div",JF,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])])}const KF={empName:null,includeEmployees:{id:1,param:"onlyCurrent",label:"Current Employees Only"}},eO={"employee.lastName":"DEFAULT","tracker.trackerName":"DEFAULT","tracker.modifiedDate":"DESC","tracker.addedDate":"DEFAULT"};var tO={components:{"include-employee-dropdown":$p,"employee-autocomplete":rl},setup(){const{$t:e}=Ne(),{jsDateFormat:t}=Ae(),{locale:o}=pt(),l=a=>a.map((a=>({id:a.id,title:a.title,empName:`${a.employee?.firstName} ${a.employee?.lastName} ${a.employee?.terminationId?` ${e("general.past_employee")}`:""}`,modifiedDate:Ke(Xe(a.modifiedDate),t,{locale:o}),addedDate:Ke(Xe(a.addedDate),t,{locale:o})}))),n=(0,a.ref)({...KF}),{sortDefinition:r,sortField:i,sortOrder:s,onSort:d}=fo({sortDefinition:eO}),c=(0,a.computed)((()=>({sortField:i.value,sortOrder:s.value,empNumber:n.value.empName?.id,includeEmployees:n.value.includeEmployees?.param}))),m="/api/v2/performance/employees/trackers",u=new q(window.appGlobal.baseUrl,m),{showPaginator:p,currentPage:h,total:g,pages:v,pageSize:f,isLoading:y,response:C,execQuery:b}=so(u,{query:c,normalizer:l});return d(b),{total:g,showPaginator:p,currentPage:h,pages:v,pageSize:f,isLoading:y,items:C,api:m,http:u,execQuery:b,sortDefinition:r,filters:n}},data(){return{headers:[{name:"empName",slot:"title",title:this.$t("general.employee_name"),sortField:"employee.lastName",style:{flex:2}},{name:"title",title:this.$t("general.trackers"),sortField:"tracker.trackerName",style:{flex:2}},{name:"addedDate",title:this.$t("performance.added_date"),sortField:"tracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"tracker.modifiedDate",style:{flex:1}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{view:{onClick:this.onClickView,component:"oxd-button",props:{name:"view",label:this.$t("general.view"),class:"orangehrm-left-space",displayType:"text"}}}}],rules:{employee:[ia]}}},methods:{async resetDataTable(){await this.execQuery()},async filterItems(){await this.execQuery()},onClickView(e){U("/performance/addPerformanceTrackerLog/trackId/{id}",{id:e.id})}}};const oO=(0,i.Z)(tO,[["render",XF]]);var aO=oO;const lO=e=>((0,a.pushScopeId)("data-v-7cf38636"),e=e(),(0,a.popScopeId)(),e),nO={class:"orangehrm-background-container"},rO={class:"orangehrm-card-container"},iO={class:"orangehrm-module-field-row"},sO=lO((()=>(0,a.createElementVNode)("br",null,null,-1)));function dO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("jobtitle-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nO,[(0,a.createElementVNode)("div",rO,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.edit_key_performance_indicator")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.kpi.title=e),label:e.$t("performance.key_performance_indicator"),required:"",rules:n.rules.title,autcomplete:"off",readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.kpi.jobTitle=e),required:"",rules:n.rules.jobTitle},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=e=>n.kpi.minRating=e),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:n.rules.minRating,readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.kpi.maxRating=e),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:n.rules.maxRating,readonly:n.isReadOnly},null,8,["modelValue","label","rules","readonly"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",iO,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.make_default_scale")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=e=>n.kpi.isDefault=e)},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),sO,(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const cO={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1};var mO={name:"KpiSave",components:{"oxd-switch-input":n.OxdSwitchInput,"jobtitle-dropdown":fp},props:{kpiId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/kpis");return{http:e}},data(){return{isLoading:!1,kpi:{...cO},isReadOnly:!1,rules:{title:[So,Do(100)],jobTitle:[So],minRating:[So,ta(0,100),ea((()=>this.kpi.maxRating),this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[So,ta(0,100),Ko((()=>this.kpi.minRating),this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},created(){this.isLoading=!0,this.http.get(this.kpiId).then((e=>{const{data:t}=e.data,{meta:o}=e.data;this.isReadOnly=!1===o.editable,this.kpi.title=t.title,this.kpi.jobTitle=t.jobTitle.deleted?null:{id:t.jobTitle.id,label:t.jobTitle.name},this.kpi.minRating=t.minRating,this.kpi.maxRating=t.maxRating,this.kpi.isDefault=t.isDefault})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/performance/searchKpi")},onSave(){this.isLoading=!0,this.http.update(this.kpiId,{title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const uO=(0,i.Z)(mO,[["render",dO],["__scopeId","data-v-7cf38636"]]);var pO=uO;const hO=e=>((0,a.pushScopeId)("data-v-f93b79d6"),e=e(),(0,a.popScopeId)(),e),gO={class:"orangehrm-background-container"},vO={class:"orangehrm-card-container"},fO={class:"orangehrm-module-field-row"},yO=hO((()=>(0,a.createElementVNode)("br",null,null,-1)));function CO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("jobtitle-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("oxd-switch-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",gO,[(0,a.createElementVNode)("div",vO,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.add_key_performance_indicator")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.kpi.title=e),label:e.$t("performance.key_performance_indicator"),required:"",rules:n.rules.title,autcomplete:"off"},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.kpi.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>n.kpi.jobTitle=e),required:"",rules:n.rules.jobTitle},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.minRating,"onUpdate:modelValue":t[2]||(t[2]=e=>n.kpi.minRating=e),modelModifiers:{number:!0},label:e.$t("performance.minimum_rating"),required:"",autcomplete:"off",rules:n.rules.minRating},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.kpi.maxRating,"onUpdate:modelValue":t[3]||(t[3]=e=>n.kpi.maxRating=e),modelModifiers:{number:!0},label:e.$t("performance.maximum_rating"),required:"",autcomplete:"off",rules:n.rules.maxRating},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fO,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-module-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.make_default_scale")),1)])),_:1}),(0,a.createVNode)(h,{modelValue:n.kpi.isDefault,"onUpdate:modelValue":t[4]||(t[4]=e=>n.kpi.isDefault=e)},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),yO,(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const bO={title:"",jobTitle:null,minRating:null,maxRating:null,isDefault:!1};var VO={name:"KpiSave",components:{"oxd-switch-input":n.OxdSwitchInput,"jobtitle-dropdown":fp},props:{defaultMinRating:{type:Number,required:!1,default:null},defaultMaxRating:{type:Number,required:!1,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/kpis");return{http:e}},data(){return{isLoading:!1,kpi:{...bO},rules:{title:[So,Do(100)],jobTitle:[So],minRating:[So,ta(0,100),ea((()=>this.kpi.maxRating),this.$t("performance.minimum_rating_should_be_less_than_maximum_rating"))],maxRating:[So,ta(0,100),Ko((()=>this.kpi.minRating),this.$t("performance.maximum_rating_should_be_greater_than_minimum_rating"))]}}},beforeMount(){this.kpi.minRating=this.defaultMinRating,this.kpi.maxRating=this.defaultMaxRating},methods:{onCancel(){U("/performance/searchKpi")},onSave(){this.isLoading=!0,this.http.create({title:this.kpi.title,jobTitleId:this.kpi.jobTitle.id,minRating:this.kpi.minRating,maxRating:this.kpi.maxRating,isDefault:this.kpi.isDefault}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const xO=(0,i.Z)(VO,[["render",CO],["__scopeId","data-v-f93b79d6"]]);var wO=xO;const NO={class:"orangehrm-background-container"},kO=(0,a.createElementVNode)("br",null,null,-1),_O={class:"orangehrm-paper-container"},SO={class:"orangehrm-header-container"},DO={class:"orangehrm-container"},$O={class:"orangehrm-bottom-container"};function TO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("jobtitle-dropdown"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-table-filter"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("oxd-pagination"),C=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",NO,[(0,a.createVNode)(g,{"filter-title":e.$t("performance.key_performance_indicators_for_job_title")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.jobTitleId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.jobTitleId=e)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(u,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),kO,(0,a.createElementVNode)("div",_O,[(0,a.createElementVNode)("div",SO,[(0,a.createVNode)(u,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(v,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",DO,[(0,a.createVNode)(f,{selected:n.checkedItems,"onUpdate:selected":t[1]||(t[1]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[2]||(t[2]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",$O,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(C,{ref:"deleteDialog"},null,512)])}const EO={jobTitleId:null},IO={"kpi.title":"ASC","jobTitle.jobTitleName":"DEFAULT"};var BO={name:"KpiSearch",components:{"delete-confirmation":vo,"jobtitle-dropdown":fp},setup(){const{$t:e}=Ne(),t=t=>t.map((t=>({id:t.id,title:t.title,jobTitleName:t.jobTitle.name,jobTitleId:t.jobTitle.id,minRating:t.minRating,maxRating:t.maxRating,isDefault:t.isDefault?e("general.yes"):"",isDeletable:t.deletable}))),o=(0,a.ref)({...EO}),{sortDefinition:l,sortField:n,sortOrder:r,onSort:i}=fo({sortDefinition:IO}),s=(0,a.computed)((()=>({sortField:n.value,sortOrder:r.value,jobTitleId:o.value.jobTitleId?.id}))),d=new q(window.appGlobal.baseUrl,"/api/v2/performance/kpis"),{showPaginator:c,currentPage:m,total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f}=so(d,{query:s,normalizer:t});return i(f),{http:d,showPaginator:c,currentPage:m,total:u,pages:p,pageSize:h,items:g,isLoading:v,execQuery:f,filters:o,sortDefinition:l}},data(){return{headers:[{name:"title",title:this.$t("performance.key_performance_indicator"),slot:"title",sortField:"kpi.title",style:{flex:"30%"}},{name:"jobTitleName",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"30%"}},{name:"minRating",title:this.$t("performance.min_rate"),style:{flex:"10%"}},{name:"maxRating",title:this.$t("performance.max_rate"),style:{flex:"10%"}},{name:"isDefault",title:this.$t("performance.is_default"),style:{flex:"10%"}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:"10%"},cellType:"oxd-table-cell-actions",cellRenderer:this.cellRenderer}],checkedItems:[]}},methods:{cellRenderer(...[,,,e]){const t={};return t.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}},e.isDeletable&&(t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}}),{props:{header:{cellConfig:t}}}},onClickAdd(){U("/performance/saveKpi")},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},onClickEdit(e){U("/performance/saveKpi/{id}",{id:e.id})},async filterItems(){await this.execQuery()},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const LO=(0,i.Z)(BO,[["render",TO]]);var AO=LO;const UO={class:"orangehrm-background-container"},PO={class:"orangehrm-card-container"},qO={class:"orangehrm-button-row"};function MO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("supervisor-autocomplete"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",UO,[(0,a.createElementVNode)("div",PO,[(0,a.createVNode)(i,{class:"orangehrm-main-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.add_review")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.review.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.review.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.review.supervisorReviewer=e),rules:n.rules.supervisorReviewer,subordinate:n.review.employee,required:""},null,8,["modelValue","rules","subordinate"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.review.startDate=e),label:e.$t("performance.review_period_start_date"),rules:n.rules.startDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.review.endDate=e),label:e.$t("performance.review_period_end_date"),rules:n.rules.endDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.review.dueDate=e),label:e.$t("performance.due_date"),rules:n.rules.dueDate,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createElementVNode)("div",qO,[(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=e=>r.onSave(!1))},null,8,["label"]),(0,a.createVNode)(v,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=e=>r.onSave(!0))},null,8,["label"])])])),_:1})])),_:1},8,["loading"])])])}function FO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete");return(0,a.openBlock)(),(0,a.createBlock)(i,{label:e.$t("performance.supervisor_reviewer"),clear:!1,"create-options":r.loadEmployees,required:""},null,8,["label","create-options"])}var OO={name:"SupervisorAutoComplete",components:{"employee-autocomplete":rl},props:{subordinate:{type:Object,required:!1,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/supervisors");return{http:e}},methods:{async loadEmployees(e){return new Promise((t=>{e.trim()&&this.subordinate?this.http.getAll({nameOrId:e.trim(),empNumber:this.subordinate.id}).then((({data:e})=>{t(e.data.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))))})):t([])}))}}};const jO=(0,i.Z)(OO,[["render",FO]]);var zO=jO;const RO={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null};var GO={components:{"employee-autocomplete":rl,"supervisor-autocomplete":zO},setup(){const{formRef:e,invalid:t,validate:o}=vm(),{userDateFormat:a}=Ae(),l=new q(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews"),{formRef:e,invalid:t,validate:o,http:l,userDateFormat:a}},data(){return{isLoading:!1,review:{...RO},rules:{employee:[So,ia],supervisorReviewer:[So,ia],startDate:[So,$o(this.userDateFormat),Wo((()=>this.review.endDate),this.$t("performance.review_period_start_date_should_be_before_end_date"))],endDate:[So,$o(this.userDateFormat),Fo((()=>this.review.startDate),this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[So,$o(),Fo((()=>this.review.endDate),this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},methods:{onCancel(){U("/performance/searchPerformanceReview")},onSave(e=!1){this.validate().then((()=>{!0!==this.invalid&&(this.isLoading=!0,this.http.create({empNumber:this.review.employee.id,reviewerEmpNumber:this.review.supervisorReviewer.id,startDate:this.review.startDate,endDate:this.review.endDate,dueDate:this.review.dueDate,activate:e}).then((()=>!0===e?this.$toast.success({title:this.$t("general.success"),message:this.$t("general.successfully_activated")}):this.$toast.updateSuccess())).then((()=>{this.onCancel()})).catch((e=>this.$toast.warn({title:this.$t("general.warning"),message:e?.data.error.message}))).finally((()=>{this.isLoading=!1})))}))}}};const ZO=(0,i.Z)(GO,[["render",MO],["__scopeId","data-v-07c0323b"]]);var QO=ZO;const HO={class:"orangehrm-background-container"},WO={class:"orangehrm-card-container"},YO={class:"orangehrm-button-row"};function JO(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("supervisor-autocomplete"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",HO,[(0,a.createElementVNode)("div",WO,[(0,a.createVNode)(i,{class:"orangehrm-main-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.edit_review")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.review.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>n.review.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.review.supervisorReviewer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.review.supervisorReviewer=e),rules:n.rules.supervisorReviewer,required:"",subordinate:n.review.employee},null,8,["modelValue","rules","subordinate"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.startDate,"onUpdate:modelValue":t[2]||(t[2]=e=>n.review.startDate=e),label:e.$t("performance.review_period_start_date"),rules:n.rules.startDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.endDate,"onUpdate:modelValue":t[3]||(t[3]=e=>n.review.endDate=e),label:e.$t("performance.review_period_end_date"),rules:n.rules.endDate,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.review.dueDate,"onUpdate:modelValue":t[4]||(t[4]=e=>n.review.dueDate=e),label:e.$t("performance.due_date"),rules:n.rules.dueDate,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createElementVNode)("div",YO,[(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.save"),type:"submit",onClick:t[5]||(t[5]=e=>r.onSave(!1))},null,8,["label"]),(0,a.createVNode)(v,{"display-type":"secondary",label:e.$t("performance.activate"),type:"button",onClick:t[6]||(t[6]=e=>r.onSave(!0))},null,8,["label"])])])),_:1})])),_:1},8,["loading"])])])}const XO={employee:null,supervisorReviewer:null,startDate:null,endDate:null,dueDate:null};var KO={components:{"employee-autocomplete":rl,"supervisor-autocomplete":zO},props:{reviewId:{type:Number,required:!0}},setup(){const{formRef:e,invalid:t,validate:o}=vm(),{userDateFormat:a}=Ae(),l=new q(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews");return l.setIgnorePath("/api/v2/performance/manage/reviews/[0-9]+"),{formRef:e,invalid:t,validate:o,http:l,userDateFormat:a}},data(){return{isLoading:!1,review:{...XO},rules:{employee:[So,ia],supervisorReviewer:[So,ia],startDate:[So,$o(this.userDateFormat),Wo((()=>this.review.endDate),this.$t("general.review_period_start_date_should_be_before_end_date"))],endDate:[So,$o(this.userDateFormat),Fo((()=>this.review.startDate),this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[So,$o(),Fo((()=>this.review.endDate),this.$t("performance.due_date_should_be_after_review_period_end_date"))]}}},created(){this.isLoading=!0,this.http.get(this.reviewId).then((e=>{const{data:t}=e.data;this.review.employee=t.employee?{id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName?t.employee.middleName:""} ${t.employee.lastName}`,isPastEmployee:!!t.employee.terminationId}:null,this.review.supervisorReviewer=t.reviewer.employee?{id:t.reviewer.employee.empNumber,label:`${t.reviewer.employee.firstName} ${t.reviewer.employee.middleName?t.reviewer.employee.middleName:""} ${t.reviewer.employee.lastName}`,isPastEmployee:!!t.reviewer.employee.terminationId}:null,this.review.startDate=t.reviewPeriodStart,this.review.endDate=t.reviewPeriodEnd,this.review.dueDate=t.dueDate})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/performance/searchPerformanceReview")},onSave(e=!1){this.validate().then((()=>{if(!0!==this.invalid){if(this.review.supervisorReviewer.isPastEmployee)return this.$toast.warn({title:this.$t("general.warning"),message:this.$t("performance.cannot_add_a_past_employee_as_a_reviewer")});this.isLoading=!0,this.http.update(this.reviewId,{empNumber:this.review.employee.id,reviewerEmpNumber:this.review.supervisorReviewer.id,startDate:this.review.startDate,endDate:this.review.endDate,dueDate:this.review.dueDate,activate:e}).then((()=>!0===e?this.$toast.success({title:this.$t("general.success"),message:this.$t("general.successfully_activated")}):this.$toast.updateSuccess())).then((()=>{this.onCancel()})).catch((e=>this.$toast.warn({title:this.$t("general.warning"),message:e?.data.error.message}))).finally((()=>{this.isLoading=!1}))}}))}}};const ej=(0,i.Z)(KO,[["render",JO],["__scopeId","data-v-d6976f66"]]);var tj=ej;const oj={class:"orangehrm-background-container"},aj=(0,a.createElementVNode)("br",null,null,-1),lj={class:"orangehrm-paper-container"},nj={class:"orangehrm-header-container"},rj={class:"orangehrm-container"},ij={class:"orangehrm-bottom-container"};function sj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("oxd-table-filter"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("oxd-pagination"),C=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",oj,[(0,a.createVNode)(g,{"filter-title":e.$t("performance.performance_trackers")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.empNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.empNumber=e),rules:n.rules.employee,params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(u,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),aj,(0,a.createElementVNode)("div",lj,[(0,a.createElementVNode)("div",nj,[(0,a.createVNode)(u,{"display-type":"secondary","icon-name":"plus",label:e.$t("general.add"),onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(v,{loading:l.isLoading,selected:n.checkedItems.length,total:l.total,onDelete:r.onClickDeleteSelected},null,8,["loading","selected","total","onDelete"]),(0,a.createElementVNode)("div",rj,[(0,a.createVNode)(f,{order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),clickable:!1,headers:n.headers,items:l.response?.data,loading:l.isLoading,selectable:!0,"row-decorator":"oxd-table-decorator-card"},null,8,["order","selected","headers","items","loading"])]),(0,a.createElementVNode)("div",ij,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,current:l.currentPage,"onUpdate:current":t[3]||(t[3]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(C,{ref:"deleteDialog"},null,512)])}const dj={empNumber:null},cj={"performanceTracker.modifiedDate":"DESC","employee.lastName":"ASC","performanceTracker.trackerName":"ASC","performanceTracker.addedDate":"DESC"};var mj={name:"TrackerList",components:{"delete-confirmation":vo,"employee-autocomplete":rl},props:{unselectableIds:{type:Array,default:()=>[]}},setup(){const{locale:e}=pt(),{jsDateFormat:t}=Ae(),{$tEmpName:o}=il(),l=a=>a.map((a=>({id:a.id,tracker:a.trackerName,addDate:Ke(Xe(a.addedDate),t,{locale:e}),modifiedDate:Ke(Xe(a.modifiedDate),t,{locale:e}),empName:o(a.employee,{includeMiddle:!1,excludePastEmpTag:!1})}))),n=new q(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers"),r=(0,a.ref)({...dj}),{sortDefinition:i,sortField:s,sortOrder:d,onSort:c}=fo({sortDefinition:cj}),m=(0,a.computed)((()=>({empNumber:r.value.empNumber?.id,sortField:s.value,sortOrder:d.value,includeEmployees:r.value.includeEmployees?.param}))),{showPaginator:u,currentPage:p,total:h,response:g,pages:v,isLoading:f,execQuery:y}=so(n,{query:m,normalizer:l,prefetch:!0,toastNoRecords:!0});return c(y),{http:n,total:h,isLoading:f,showPaginator:u,currentPage:p,pages:v,response:g,execQuery:y,sortDefinition:i,filters:r}},data(){return{headers:[{name:"empName",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"tracker",title:this.$t("performance.tracker"),style:{flex:1},sortField:"performanceTracker.trackerName"},{name:"addDate",title:this.$t("performance.added_date"),sortField:"performanceTracker.addedDate",style:{flex:1}},{name:"modifiedDate",title:this.$t("performance.modified_date"),sortField:"performanceTracker.modifiedDate",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],rules:{employee:[ia]}}},methods:{onClickAdd(){U("/performance/addPerformanceTracker")},onClickEdit(e){U("/performance/addPerformanceTracker/{id}",{id:e.id})},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.response?.data[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){const t=this.unselectableIds.findIndex((t=>t==e.id));if(t>-1)return this.$toast.cannotDelete();this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...dj},this.filterItems()}}};const uj=(0,i.Z)(mj,[["render",sj]]);var pj=uj;const hj={class:"orangehrm-background-container"},gj={class:"orangehrm-card-container"};function vj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("employee-autocomplete"),h=(0,a.resolveComponent)("reviewer-autocomplete"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",hj,[(0,a.createElementVNode)("div",gj,[(0,a.createVNode)(i,{class:"orangehrm-main-title",tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.add_performance_tracker")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tracker.name=e),rules:n.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tracker.employee=e),rules:n.rules.employee,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tracker.reviewers=e),rules:n.rules.reviewers,"exclude-employee":n.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.cancel"),type:"button",onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function fj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete");return(0,a.openBlock)(),(0,a.createBlock)(i,{label:e.$t("performance.reviewers"),multiple:!0,clear:!1,"create-options":r.loadEmployees,required:""},null,8,["label","create-options"])}var yj={name:"ReviewersAutoComplete",components:{"employee-autocomplete":rl},props:{includeEmployees:{type:String,default:"onlyCurrent"},excludeEmployee:{type:Object,required:!1,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/trackers/reviewers");return{http:e}},methods:{async loadEmployees(e){return new Promise((t=>{e.trim()?this.http.getAll({nameOrId:e.trim(),empNumber:null==this.excludeEmployee?null:this.excludeEmployee.id}).then((({data:e})=>{t(e.data.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId}))))})):t([])}))}}};const Cj=(0,i.Z)(yj,[["render",fj]]);var bj=Cj;const Vj={name:null,employee:null,reviewers:[]};var xj={components:{"reviewer-autocomplete":bj,"employee-autocomplete":rl},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data(){return{isLoading:!1,tracker:{...Vj},rules:{tracker:[So,Do(200)],employee:[So,ia,e=>{if(null===e)return!0;const t=this.tracker.reviewers.findIndex((t=>t.id===e.id));return-1==t||this.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[So,ia]}}},methods:{onCancel(){U("/performance/viewPerformanceTracker")},onSave(){this.isLoading=!0,this.http.create({trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map((e=>e.id))}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const wj=(0,i.Z)(xj,[["render",vj]]);var Nj=wj;const kj={class:"orangehrm-background-container"},_j={class:"orangehrm-card-container"};function Sj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("employee-autocomplete"),h=(0,a.resolveComponent)("reviewer-autocomplete"),g=(0,a.resolveComponent)("required-text"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("submit-button"),y=(0,a.resolveComponent)("oxd-form-actions"),C=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",kj,[(0,a.createElementVNode)("div",_j,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.edit_performance_tracker")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(C,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.tracker.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tracker.name=e),rules:n.rules.tracker,label:e.$t("performance.tracker_name"),required:""},null,8,["modelValue","rules","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:n.tracker.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tracker.employee=e),rules:n.rules.employee,readonly:n.isReadOnly},null,8,["modelValue","rules","readonly"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:n.tracker.reviewers,"onUpdate:modelValue":t[2]||(t[2]=e=>n.tracker.reviewers=e),rules:n.rules.reviewers,"exclude-employee":n.tracker.employee,required:""},null,8,["modelValue","rules","exclude-employee"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g),(0,a.createVNode)(v,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(f)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Dj={name:null,employee:null,reviewers:[]};var $j={components:{"employee-autocomplete":rl,"reviewer-autocomplete":bj},props:{performanceTrackerId:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/performance/config/trackers");return{http:e}},data(){return{isLoading:!1,tracker:{...Dj},isReadOnly:!1,rules:{tracker:[So,Do(200)],employee:[So,ia,e=>{if(null===e)return!0;const t=this.tracker.reviewers.findIndex((t=>t.id===e.id));return-1==t||this.$t("performance.employee_cannot_be_assigned_as_his_own_reviewer")}],reviewers:[So,ia]}}},beforeMount(){this.isLoading=!0,this.http.get(this.performanceTrackerId).then((e=>{const{data:t}=e.data;this.isReadOnly=!1===t.ownerEditable,this.tracker.id=t.id,this.tracker.name=t.trackerName,this.tracker.employee=t.employee?{id:t.employee.empNumber,label:`${t.employee.firstName} ${t.employee.middleName} ${t.employee.lastName}`,isPastEmployee:!!t.employee.terminationId}:null,this.tracker.reviewers=t.reviewers.map((e=>({id:e.empNumber,label:`${e.firstName} ${e.middleName} ${e.lastName}`,isPastEmployee:!!e.terminationId})))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/performance/viewPerformanceTracker")},onSave(){this.isLoading=!0;const e={trackerName:this.tracker.name.trim(),empNumber:this.tracker.employee.id,reviewerEmpNumbers:this.tracker.reviewers.map((e=>e.id))};this.http.update(this.performanceTrackerId,e).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const Tj=(0,i.Z)($j,[["render",Sj]]);var Ej=Tj;const Ij={class:"orangehrm-background-container"},Bj={class:"orangehrm-paper-container"},Lj={class:"orangehrm-header-container"},Aj={class:"orangehrm-container"},Uj={class:"orangehrm-bottom-container"};function Pj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Ij,[(0,a.createElementVNode)("div",Bj,[(0,a.createElementVNode)("div",Lj,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.my_reviews")),1)])),_:1})]),(0,a.createVNode)(s,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",Aj,[(0,a.createVNode)(d,{order:l.sortDefinition,"onUpdate:order":t[0]||(t[0]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),(0,a.createElementVNode)("div",Uj,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,current:l.currentPage,"onUpdate:current":t[1]||(t[1]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])])}const qj={component:"oxd-icon-button",props:{name:"eye-fill",title:"View"}},Mj={component:"oxd-icon-button",props:{name:"pencil-fill",title:"Edit"}},Fj={component:"oxd-icon-button",props:{name:"file-text-fill",title:"Evaluate"}},Oj={component:"oxd-button",props:{label:"View",displayType:"text",size:"medium",style:{"min-width":"120px"}}},jj={component:"oxd-button",props:{label:"Edit",displayType:"text",size:"medium",style:{"min-width":"120px"}}},zj={component:"oxd-button",props:{label:"Evaluate",displayType:"text",size:"medium",style:{"min-width":"120px"}}},Rj={class:"oxd-table-card-cell"},Gj={class:"data"};function Zj(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Rj,[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"header"},(0,a.toDisplayString)(o.header.title),513),[[a.vShow,r.showHeader]]),(0,a.createElementVNode)("div",Gj,[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.reviewPeriodStart)+" - ",1),(0,a.createVNode)(i,{tag:"span",class:"time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.reviewPeriodEnd),1)])),_:1})])),_:1})])])}var Qj={name:"ReviewPeriodCell",props:{header:{type:Object,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0}},setup(){const{screenState:e}=(0,n.useInjectTableProps)();return{screenState:e}},computed:{showHeader(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};const Hj=(0,i.Z)(Qj,[["render",Zj],["__scopeId","data-v-ab384128"]]);var Wj=Hj;const Yj={"performanceReview.statusId":"ASC","performanceReview.dueDate":"ASC","performanceReview.reviewPeriodStart":"DEFAULT","reviewer.status":"DEFAULT"};var Jj={setup(){const{sortDefinition:e,sortField:t,sortOrder:o,onSort:l}=fo({sortDefinition:Yj}),n=(0,a.computed)((()=>({sortField:t.value,sortOrder:o.value}))),r=new q(window.appGlobal.baseUrl,"/api/v2/performance/reviews"),{jsDateFormat:i}=Ae(),{locale:s}=pt(),d=e=>e.map((e=>({id:e.id,jobTitle:e.jobTitle.name,department:e.subunit.name,reviewPeriod:{reviewPeriodStart:Ke(Xe(e.reviewPeriodStart),i,{locale:s}),reviewPeriodEnd:Ke(Xe(e.reviewPeriodEnd),i,{locale:s})},dueDate:Ke(Xe(e.dueDate),i,{locale:s}),overallStatus:e.overallStatus.statusName,selfEvaluationStatus:e.selfReviewStatus,statusId:e.overallStatus.statusId}))),{currentPage:c,total:m,showPaginator:u,pages:p,pageSize:h,response:g,execQuery:v,isLoading:f}=so(r,{query:n,normalizer:d});return l(v),{http:r,total:m,isLoading:f,items:g,execQuery:v,sortDefinition:e,showPaginator:u,pages:p,pageSize:h,currentPage:c}},data(){return{headers:[{name:"jobTitle",slot:"title",title:this.$t("general.job_title"),style:{flex:1}},{name:"department",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:2},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"selfEvaluationStatus",title:this.$t("performance.self_evaluation_status"),sortField:"reviewer.status",style:{flex:1}},{name:"overallStatus",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer}]}},methods:{actionButtonCellRenderer(...[,,,e]){const t={},o=(0,a.inject)(n.tableScreenStateKey);return"lg"===o.screenType||"xl"===o.screenType?"Completed"===e.selfEvaluationStatus?(t.view=qj,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=Fj,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):"Completed"===e.selfEvaluationStatus?(t.view=Oj,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=zj,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:Wj,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},onClickView(){U("/performance/searchKpi")},onClickEvaluate(e){U("/performance/reviewEvaluate/id/{id}",{id:e.id})}}};const Xj=(0,i.Z)(Jj,[["render",Pj],["__scopeId","data-v-0a23ca8f"]]);var Kj=Xj;const ez=e=>((0,a.pushScopeId)("data-v-2415900c"),e=e(),(0,a.popScopeId)(),e),tz={class:"orangehrm-background-container"},oz=ez((()=>(0,a.createElementVNode)("br",null,null,-1))),az={class:"orangehrm-paper-container"},lz={class:"orangehrm-container"},nz={class:"orangehrm-bottom-container"};function rz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("jobtitle-dropdown"),c=(0,a.resolveComponent)("subunit-dropdown"),m=(0,a.resolveComponent)("include-employee-dropdown"),u=(0,a.resolveComponent)("review-status-dropdown"),p=(0,a.resolveComponent)("date-input"),h=(0,a.resolveComponent)("oxd-grid"),g=(0,a.resolveComponent)("oxd-divider"),v=(0,a.resolveComponent)("oxd-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("oxd-table-filter"),b=(0,a.resolveComponent)("table-header"),V=(0,a.resolveComponent)("oxd-card-table"),x=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)("div",tz,[(0,a.createVNode)(C,{"filter-title":e.$t("performance.employee_reviews")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.subunit,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.subunit=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.status,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.status=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.fromDate=e),rules:n.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.toDate=e),rules:n.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])])),_:1})])),_:1}),(0,a.createVNode)(g),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(v,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),oz,(0,a.createElementVNode)("div",az,[(0,a.createVNode)(b,{selected:0,total:l.total,loading:l.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",lz,[(0,a.createVNode)(V,{order:l.sortDefinition,"onUpdate:order":t[7]||(t[7]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!1,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["order","headers","items","loading"])]),(0,a.createElementVNode)("div",nz,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(x,{key:0,current:l.currentPage,"onUpdate:current":t[8]||(t[8]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])])}function iz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("performance.review_status"),clear:!1,options:n.statusOpts},null,8,["label","options"])}var sz={name:"ReviewStatusDropdown",data(){return{statusOpts:[{id:1,statusId:2,label:this.$t("performance.activated")},{id:2,statusId:3,label:this.$t("performance.in_progress")},{id:3,statusId:4,label:this.$t("performance.completed")}]}}};const dz=(0,i.Z)(sz,[["render",iz]]);var cz=dz;const mz={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC"};var uz={name:"ReviewList",components:{"include-employee-dropdown":$p,"review-status-dropdown":cz,"subunit-dropdown":Vp,"jobtitle-dropdown":fp,"employee-autocomplete":rl},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup(e){const{$t:t}=Ne(),{jsDateFormat:o,userDateFormat:l}=Ae(),{locale:n}=pt(),r=e=>Ke(Xe(e),o,{locale:n}),i=e=>e.map((e=>({id:e.id,employee:`${e.employee?.firstName} ${e.employee?.lastName} ${e.employee?.terminationId?` ${t("general.past_employee")}`:""}`,jobTitle:e.jobTitle?.name,subunit:e.subunit?.name,reviewPeriod:{reviewPeriodStart:r(e.reviewPeriodStart),reviewPeriodEnd:r(e.reviewPeriodEnd)},dueDate:r(e.dueDate),status:2===e.overallStatus.statusId?t("performance.activated"):3===e.overallStatus.statusId?t("performance.in_progress"):t("performance.completed"),statusId:e.overallStatus.statusId}))),s={employee:null,jobTitle:null,subunit:null,status:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}},d=(0,a.ref)({...s,...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate}}),{sortDefinition:c,sortField:m,sortOrder:u,onSort:p}=fo({sortDefinition:mz}),h=(0,a.computed)((()=>({sortField:m.value,sortOrder:u.value,empNumber:d.value.employee?.id,jobTitleId:d.value.jobTitle?.id,subunitId:d.value.subunit?.id,statusId:d.value.status?.statusId,fromDate:d.value.fromDate,toDate:d.value.toDate,includeEmployees:d.value.includeEmployees?.param}))),g=new q(window.appGlobal.baseUrl,"/api/v2/performance/employees/reviews"),{showPaginator:v,currentPage:f,total:y,pages:C,pageSize:b,response:V,isLoading:x,execQuery:w}=so(g,{query:h,normalizer:i});return p(w),{http:g,showPaginator:v,currentPage:f,isLoading:x,total:y,pages:C,pageSize:b,execQuery:w,items:V,filters:d,sortDefinition:c,userDateFormat:l}},data(){return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:1}},{name:"jobTitle",title:this.$t("general.job_title"),style:{flex:1}},{name:"subunit",title:this.$t("general.sub_unit"),style:{flex:1}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:1},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:1}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:1}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionCellRenderer,style:{flex:1}}],rules:{employee:[ia],fromDate:[$o(this.userDateFormat),Wo((()=>this.filters.toDate),this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(this.userDateFormat),Fo((()=>this.filters.fromDate),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionCellRenderer(...[,,,e]){const t={},o=(0,a.inject)(n.tableScreenStateKey);return"lg"===o.screenType||"xl"===o.screenType?4===e.statusId?(t.view=qj,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=Fj,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):4===e.statusId?(t.view=Oj,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):(t.evaluate=zj,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:Wj,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},async filterItems(){await this.execQuery()},onClickEvaluate(e){U("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})}}};const pz=(0,i.Z)(uz,[["render",rz],["__scopeId","data-v-2415900c"]]);var hz=pz;const gz=e=>((0,a.pushScopeId)("data-v-f1a9132e"),e=e(),(0,a.popScopeId)(),e),vz={class:"orangehrm-background-container"},fz=gz((()=>(0,a.createElementVNode)("br",null,null,-1))),yz={class:"orangehrm-paper-container"},Cz={class:"orangehrm-header-container"},bz={class:"orangehrm-container"},Vz={class:"orangehrm-bottom-container"};function xz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("jobtitle-dropdown"),c=(0,a.resolveComponent)("review-status-dropdown"),m=(0,a.resolveComponent)("include-employee-dropdown"),u=(0,a.resolveComponent)("date-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-divider"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form"),y=(0,a.resolveComponent)("oxd-table-filter"),C=(0,a.resolveComponent)("table-header"),b=(0,a.resolveComponent)("oxd-card-table"),V=(0,a.resolveComponent)("oxd-pagination"),x=(0,a.resolveComponent)("delete-confirmation-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)("div",vz,[(0,a.createVNode)(y,{"filter-title":e.$t("performance.manage_performance_reviews")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(f,{onSubmitValid:r.filterItems,onReset:r.resetDataTable},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:4,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.employee,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.employee=e),rules:n.rules.employee,params:{includeEmployees:l.filters.includeEmployees.param}},null,8,["modelValue","rules","params"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.jobTitle,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.jobTitle=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:l.filters.status,"onUpdate:modelValue":t[2]||(t[2]=e=>l.filters.status=e),options:l.statusOpts},null,8,["modelValue","options"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:l.filters.includeEmployees,"onUpdate:modelValue":t[3]||(t[3]=e=>l.filters.includeEmployees=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.reviewer,"onUpdate:modelValue":t[4]||(t[4]=e=>l.filters.reviewer=e),label:e.$t("performance.reviewer"),params:{includeEmployees:"currentAndPast"}},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.fromDate,"onUpdate:modelValue":t[5]||(t[5]=e=>l.filters.fromDate=e),rules:n.rules.fromDate,label:e.$t("general.from_date")},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(s,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{modelValue:l.filters.toDate,"onUpdate:modelValue":t[6]||(t[6]=e=>l.filters.toDate=e),rules:n.rules.toDate,label:e.$t("general.to_date")},null,8,["modelValue","rules","label"])])),_:1})])),_:1}),(0,a.createVNode)(h),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(g,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),fz,(0,a.createElementVNode)("div",yz,[(0,a.createElementVNode)("div",Cz,[(0,a.createVNode)(g,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(C,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",bz,[(0,a.createVNode)(b,{selected:n.checkedItems,"onUpdate:selected":t[7]||(t[7]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[8]||(t[8]=e=>l.sortDefinition=e),headers:n.headers,items:l.items?.data,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","loading"])]),(0,a.createElementVNode)("div",Vz,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,current:l.currentPage,"onUpdate:current":t[9]||(t[9]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(x,{ref:"deleteDialog"},null,512)])}const wz={"employee.lastName":"DEFAULT","performanceReview.reviewPeriodStart":"DEFAULT","performanceReview.dueDate":"DEFAULT","performanceReview.statusId":"ASC","jobTitle.jobTitleName":"DEFAULT","reviewerEmployee.lastName":"DEFAULT"};var Nz={name:"ReviewSearch",components:{"include-employee-dropdown":$p,"review-status-dropdown":cz,"jobtitle-dropdown":fp,"employee-autocomplete":rl,"delete-confirmation-dialog":vo},props:{fromDate:{type:String,required:!1,default:null},toDate:{type:String,required:!1,default:null}},setup(e){const{$t:t}=Ne(),{jsDateFormat:o,userDateFormat:l}=Ae(),{locale:n}=pt(),{$tEmpName:r}=il(),i=e=>Ke(Xe(e),o,{locale:n}),s=[{id:1,label:t("performance.inactive")},{id:2,label:t("performance.activated")},{id:3,label:t("performance.in_progress")},{id:4,label:t("performance.completed")}],d=e=>e.map((e=>{const t=e.employee,o=e.reviewer?.employee;return{id:e.id,employee:r(t),reviewer:r(o),jobTitle:e.jobTitle?.name,reviewPeriod:{reviewPeriodStart:i(e.reviewPeriodStart),reviewPeriodEnd:i(e.reviewPeriodEnd)},dueDate:i(e.dueDate),status:s.find((t=>t.id===e.overallStatus.statusId)).label,statusId:e.overallStatus.statusId}})),c={employee:null,jobTitle:null,status:null,reviewer:null,fromDate:null,toDate:null,includeEmployees:{id:1,param:"onlyCurrent",label:t("general.current_employees_only")}},m=(0,a.ref)({...c,...e.fromDate&&{fromDate:e.fromDate},...e.toDate&&{toDate:e.toDate}}),{sortDefinition:u,sortField:p,sortOrder:h,onSort:g}=fo({sortDefinition:wz}),v=(0,a.computed)((()=>({sortField:p.value,sortOrder:h.value,empNumber:m.value.employee?.id,jobTitleId:m.value.jobTitle?.id,statusId:m.value.status?.id,reviewerEmpNumber:m.value.reviewer?.id,fromDate:m.value.fromDate,toDate:m.value.toDate,includeEmployees:m.value.includeEmployees?.param}))),f=new q(window.appGlobal.baseUrl,"/api/v2/performance/manage/reviews"),{showPaginator:y,currentPage:C,total:b,pages:V,pageSize:x,response:w,isLoading:N,execQuery:k}=so(f,{query:v,normalizer:d});return g(k),{http:f,showPaginator:y,currentPage:C,isLoading:N,total:b,pages:V,pageSize:x,execQuery:k,items:w,filters:m,sortDefinition:u,statusOpts:s,userDateFormat:l}},data(){return{headers:[{name:"employee",title:this.$t("general.employee"),slot:"title",sortField:"employee.lastName",style:{flex:"14%"}},{name:"jobTitle",title:this.$t("general.job_title"),sortField:"jobTitle.jobTitleName",style:{flex:"14%"}},{name:"reviewPeriod",title:this.$t("performance.review_period"),sortField:"performanceReview.reviewPeriodStart",style:{flex:"14%"},cellRenderer:this.reviewPeriodCellRenderer},{name:"dueDate",title:this.$t("performance.due_date"),sortField:"performanceReview.dueDate",style:{flex:"14%"}},{name:"reviewer",title:this.$t("performance.reviewer"),sortField:"reviewerEmployee.lastName",style:{flex:"14%"}},{name:"status",title:this.$t("performance.review_status"),sortField:"performanceReview.statusId",style:{flex:"14%"}},{name:"action",slot:"footer",title:this.$t("general.actions"),cellType:"oxd-table-cell-actions",cellRenderer:this.actionButtonCellRenderer,style:{flex:"16%"}}],checkedItems:[],rules:{employee:[ia],fromDate:[$o(this.userDateFormat),Wo((()=>this.filters.toDate),this.$t("general.from_date_should_be_before_to_date"),{allowSameDate:!0})],toDate:[$o(this.userDateFormat),Fo((()=>this.filters.fromDate),this.$t("general.to_date_should_be_after_from_date"),{allowSameDate:!0})]}}},methods:{actionButtonCellRenderer(...[,,,e]){const t={},o=(0,a.inject)(n.tableScreenStateKey);return t.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},"lg"===o.screenType||"xl"===o.screenType?4===e.statusId?(t.view=qj,t.view.props.title=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):1===e.statusId?(t.edit=Mj,t.edit.props.title=this.$t("general.edit"),t.edit.onClick=this.onClickEdit):(t.evaluate=Fj,t.evaluate.props.title=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate):4===e.statusId?(t.view=Oj,t.view.props.label=this.$t("general.view"),t.view.onClick=this.onClickEvaluate):1===e.statusId?(t.edit=jj,t.edit.props.label=this.$t("general.edit"),t.edit.onClick=this.onClickEdit):(t.evaluate=zj,t.evaluate.props.label=this.$t("performance.evaluate"),t.evaluate.onClick=this.onClickEvaluate),{props:{header:{cellConfig:t}}}},reviewPeriodCellRenderer(...e){const t=e[1];return{component:Wj,props:{reviewPeriodStart:t.reviewPeriodStart,reviewPeriodEnd:t.reviewPeriodEnd}}},onClickEdit(e){U("/performance/saveReview/{id}",{id:e.id})},onClickAdd(){U("/performance/saveReview")},onClickEvaluate(e){U("/performance/reviewEvaluateByAdmin/{id}",{id:e.id})},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async filterItems(){await this.execQuery()},async resetDataTable(){this.checkedItems=[],await this.execQuery()}}};const kz=(0,i.Z)(Nz,[["render",xz],["__scopeId","data-v-f1a9132e"]]);var _z=kz;const Sz=e=>((0,a.pushScopeId)("data-v-f225ba5e"),e=e(),(0,a.popScopeId)(),e),Dz={class:"orangehrm-background-container"},$z={class:"orangehrm-card-container"},Tz={class:"orangehrm-employee-tracker"},Ez={class:"orangehrm-employee-tracker-image-section"},Iz={class:"orangehrm-employee-tracker-image-wrapper"},Bz=["src"],Lz={class:"orangehrm-employee-tracker-header-section"},Az={class:"orangehrm-employee-tracker-header"},Uz={class:"orangehrm-employee-tracker-ratings"},Pz={key:0,class:"orangehrm-employee-tracker-ratings-info"},qz={key:1,class:"orangehrm-employee-tracker-ratings-info"},Mz=Sz((()=>(0,a.createElementVNode)("br",null,null,-1))),Fz={class:"orangehrm-paper-container"},Oz={class:"orangehrm-header-container"},jz={ref:"scrollerRef",class:"orangehrm-container"},zz={key:0,class:"orangehrm-employee-tracker-no-records"};function Rz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon"),d=(0,a.resolveComponent)("oxd-button"),c=(0,a.resolveComponent)("employee-tracker-log-card"),m=(0,a.resolveComponent)("oxd-sheet"),u=(0,a.resolveComponent)("oxd-loading-spinner"),p=(0,a.resolveComponent)("add-tracker-log-modal"),h=(0,a.resolveComponent)("edit-tracker-log-modal"),g=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Dz,[(0,a.createElementVNode)("div",$z,[(0,a.createElementVNode)("div",Tz,[(0,a.createElementVNode)("div",Ez,[(0,a.createElementVNode)("div",Iz,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,Bz)])]),(0,a.createElementVNode)("div",Lz,[(0,a.createElementVNode)("div",Az,[(0,a.createVNode)(i,{tag:"h5",class:"orangehrm-employee-tracker-header-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.trackerName),1)])),_:1}),(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-employee-tracker-header-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.employeeName),1)])),_:1})]),(0,a.createElementVNode)("div",Uz,[e.meta.positive>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",Pz,[(0,a.createVNode)(s,{class:"orangehrm-employee-tracker-ratings-icon --positive",type:"svg",name:"thumbsup"}),(0,a.createVNode)(i,{class:"orangehrm-employee-tracker-ratings-text --positive"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.meta.positive),1)])),_:1})])):(0,a.createCommentVNode)("",!0),e.meta.negative>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",qz,[(0,a.createVNode)(s,{class:"orangehrm-employee-tracker-ratings-icon --negative",type:"svg",name:"thumbsdown"}),(0,a.createVNode)(i,{class:"orangehrm-employee-tracker-ratings-text --negative"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.meta.negative),1)])),_:1})])):(0,a.createCommentVNode)("",!0)])])])]),Mz,(0,a.createElementVNode)("div",Fz,[(0,a.createElementVNode)("div",Oz,[(0,a.createVNode)(i,{tag:"h5",class:"orangehrm-employee-tracker-list-header"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.tracker_logs")),1)])),_:1}),(0,a.createVNode)(d,{label:e.$t("performance.add_log"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createElementVNode)("div",jz,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.items,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:t,gutters:!1,type:"gray-lighten-2",class:"orangehrm-scroll-card"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"tracker-log":e,onEdit:r.onClickEdit,onDelete:r.onClickDelete},null,8,["tracker-log","onEdit","onDelete"])])),_:2},1024)))),128)),e.showNoRecordsFound?((0,a.openBlock)(),(0,a.createElementBlock)("div",zz,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.n_records_found",{count:0})),1)])),_:1})])):(0,a.createCommentVNode)("",!0),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,class:"orangehrm-container-loader"})):(0,a.createCommentVNode)("",!0)],512)]),n.showAddTrackerModal?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,"tracker-id":o.trackerId,onClose:r.onAddTrackerModalClose},null,8,["tracker-id","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditTrackerModal?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,"tracker-id":o.trackerId,"tracker-log-id":n.editTrackerLogId,onClose:r.onEditTrackerModalClose},null,8,["tracker-id","tracker-log-id","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{ref:"deleteDialog"},null,512)])}function Gz(e,{refName:t="scrollerRef",scrollDistance:o=100,debounceInterval:l=100}={}){let r=0,i=!1;const s=(0,a.ref)(),d=(0,n.promiseDebounce)((async()=>e()),l),c=()=>{let e,t,a;s.value?({scrollHeight:e,clientHeight:t,scrollTop:a}=s.value.$el||s.value):(a=window.scrollY,e=document.body.scrollHeight,t=document.body.clientHeight),i=a>r,r=a;const l=a+t>=e-(o||0);i&&l&&d()};return(0,a.onMounted)((async()=>{await(0,a.nextTick)(),s.value?(s.value.$el||s.value).addEventListener("scroll",c):document.addEventListener("scroll",c)})),(0,a.onBeforeUnmount)((()=>{s.value?(s.value.$el||s.value).removeEventListener("scroll",c):document.removeEventListener("scroll",c)})),{[t]:s}}const Zz={class:"orangehrm-modal-header"},Qz={class:"orangehrm-add-tracker-log-ratings-container"};function Hz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("tracker-log-rating-button"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Zz,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.add_tracker_log")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=e=>n.trackerLog.log=e),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:n.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Qz,[(0,a.createVNode)(m,{label:e.$t("performance.positive"),selected:n.rating,type:"positive",onClick:r.onClickPositive},null,8,["label","selected","onClick"]),(0,a.createVNode)(m,{label:e.$t("performance.negative"),selected:!n.rating,type:"negative",onClick:r.onClickNegative},null,8,["label","selected","onClick"])])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.trackerLog.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:n.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{class:"orangehrm-form-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}function Wz(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createBlock)(s,{"display-type":"text",label:o.label,class:(0,a.normalizeClass)(r.buttonClasses),onClick:t[0]||(t[0]=t=>e.$emit("click"))},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"svg",name:r.iconName,class:(0,a.normalizeClass)(r.iconClasses)},null,8,["name","class"])])),_:1},8,["label","class"])}var Yz={name:"TrackerLogRatingButton",components:{"oxd-icon":n.OxdIcon},props:{label:{type:String,required:!0},selected:{type:Boolean,required:!0},type:{type:String,required:!0,validator:function(e){return-1!==["positive","negative"].indexOf(e)}}},emits:["click"],computed:{iconName(){return"thumbs"+("positive"===this.type?"up":"down")},buttonClasses(){return{"orangehrm-tracker-rating-button":!0,"--deselected":!this.selected}},iconClasses(){return{"orangehrm-tracker-rating-icon":!0,[`--${this.type}`]:!0}}}};const Jz=(0,i.Z)(Yz,[["render",Wz],["__scopeId","data-v-21511c97"]]);var Xz=Jz;const Kz={log:"",comment:""};var eR={name:"AddTrackerLogModal",components:{"oxd-dialog":n.OxdDialog,"tracker-log-rating-button":Xz},props:{trackerId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/performance/trackers/${e.trackerId}/logs`);return{http:t}},data(){return{isLoading:!1,rating:!0,trackerLog:{...Kz},rules:{log:[So,Do(150)],comment:[So,Do(3e3)]}}},methods:{onClickPositive(){this.rating=!0},onClickNegative(){this.rating=!1},onSave(){this.isLoading=!0,this.http.create({log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then((()=>{this.$toast.saveSuccess(),this.onCancel()}))},onCancel(){this.$emit("close")}}};const tR=(0,i.Z)(eR,[["render",Hz],["__scopeId","data-v-38b5fab4"]]);var oR=tR;const aR={class:"orangehrm-modal-header"},lR={class:"orangehrm-add-tracker-log-ratings-container"};function nR(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("tracker-log-rating-button"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{style:{width:"90%",maxWidth:"650px"},"onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",aR,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.edit_tracker_log")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.trackerLog.log,"onUpdate:modelValue":t[0]||(t[0]=e=>n.trackerLog.log=e),label:e.$t("performance.log"),placeholder:e.$t("general.type_here"),rules:n.rules.log,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",lR,[(0,a.createVNode)(m,{label:e.$t("performance.positive"),selected:n.rating,type:"positive",onClick:r.onClickPositive},null,8,["label","selected","onClick"]),(0,a.createVNode)(m,{label:e.$t("performance.negative"),selected:!n.rating,type:"negative",onClick:r.onClickNegative},null,8,["label","selected","onClick"])])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.trackerLog.comment,"onUpdate:modelValue":t[1]||(t[1]=e=>n.trackerLog.comment=e),type:"textarea",label:e.$t("general.comment"),placeholder:e.$t("general.type_here"),rules:n.rules.comment,required:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,{class:"orangehrm-form-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p,{"display-type":"secondary",label:e.$t("general.save"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}const rR={log:"",comment:""};var iR={name:"EditTrackerLogModal",components:{"oxd-dialog":n.OxdDialog,"tracker-log-rating-button":Xz},props:{trackerId:{type:Number,required:!0},trackerLogId:{type:Number,required:!0}},emits:["close"],setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/performance/trackers/${e.trackerId}/logs`);return{http:t}},data(){return{isLoading:!1,rating:!0,trackerLog:{...rR},rules:{log:[So,Do(150)],comment:[So,Do(3e3)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.trackerLogId).then((e=>{const{data:t}=e.data;this.trackerLog.log=t.log,this.trackerLog.comment=t.comment,this.rating="1"===t.achievement})).finally((()=>{this.isLoading=!1}))},methods:{onClickPositive(){this.rating=!0},onClickNegative(){this.rating=!1},onSave(){this.isLoading=!0,this.http.update(this.trackerLogId,{log:this.trackerLog.log,comment:this.trackerLog.comment,achievement:this.rating?1:2}).then((()=>{this.$toast.updateSuccess(),this.onCancel()}))},onCancel(){this.$emit("close")}}};const sR=(0,i.Z)(iR,[["render",nR],["__scopeId","data-v-5f6526aa"]]);var dR=sR;const cR={class:"orangehrm-employee-tracker-log"},mR={class:"orangehrm-employee-tracker-log-image-section"},uR={class:"orangehrm-employee-tracker-log-image-wrapper"},pR=["src"],hR={class:"orangehrm-employee-tracker-log-content-section"},gR={class:"orangehrm-employee-tracker-log-reviewer-name"},vR={class:"orangehrm-employee-tracker-log-content-container"},fR={class:"orangehrm-employee-tracker-log-header"},yR={class:"orangehrm-employee-tracker-log-title"},CR={class:"orangehrm-employee-tracker-log-body"},bR={class:"orangehrm-employee-tracker-log-reviewer-date"},VR={class:"orangehrm-employee-tracker-log-reviewer-date-container"},xR={key:0,class:"orangehrm-employee-tracker-log-reviewer-date-container"};function wR(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon"),d=(0,a.resolveComponent)("oxd-table-dropdown");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cR,[(0,a.createElementVNode)("div",mR,[(0,a.createElementVNode)("div",uR,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:o.trackerLog.reviewerPictureSrc},null,8,pR)])]),(0,a.createElementVNode)("div",hR,[(0,a.createElementVNode)("div",gR,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.trackerLog.reviewerName),1)])),_:1})]),(0,a.createElementVNode)("div",vR,[(0,a.createElementVNode)("div",fR,[(0,a.createElementVNode)("div",yR,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-employee-tracker-log-title-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.trackerLog.log),1)])),_:1}),(0,a.createVNode)(s,{type:"svg",class:(0,a.normalizeClass)({"orangehrm-employee-tracker-log-title-icon":!0,"--positive":"1"===o.trackerLog.achievement,"--negative":"2"===o.trackerLog.achievement}),name:"thumbs"+("1"===o.trackerLog.achievement?"up":"down")},null,8,["class","name"])]),o.trackerLog.editable?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,options:n.dropdownOptions,onClick:t[0]||(t[0]=e=>r.onTrackerDropdownAction(e,o.trackerLog))},null,8,["options"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",CR,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-employee-tracker-log-body-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.trackerLog.comment),1)])),_:1})])]),(0,a.createElementVNode)("div",bR,[(0,a.createElementVNode)("div",VR,[(0,a.createVNode)(s,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"calendar-plus",title:e.$t("performance.added_on")},null,8,["title"]),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.trackerLog.addedDate),1)])),_:1})]),o.trackerLog.modifiedDate?((0,a.openBlock)(),(0,a.createElementBlock)("div",xR,[(0,a.createVNode)(s,{class:"orangehrm-employee-tracker-log-reviewer-date-icon",name:"pencil",title:e.$t("performance.modified_on")},null,8,["title"]),(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.trackerLog.modifiedDate),1)])),_:1})])):(0,a.createCommentVNode)("",!0)])])])}var NR={name:"EmployeeTrackerLogCard",components:{"oxd-icon":n.OxdIcon,"oxd-table-dropdown":n.OxdTableDropdown},props:{trackerLog:{type:Object,required:!0}},emits:["edit","delete"],data(){return{dropdownOptions:[{label:this.$t("general.edit"),context:"edit"},{label:this.$t("performance.delete"),context:"delete"}]}},methods:{onTrackerDropdownAction(e,t){switch(e.context){case"edit":this.$emit("edit",t.id);break;case"delete":this.$emit("delete",t.id);break}}}};const kR=(0,i.Z)(NR,[["render",wR],["__scopeId","data-v-6a9799ac"]]);var _R=kR,SR={name:"ViewEmployeeTrackerLogs",components:{"oxd-icon":n.OxdIcon,"oxd-sheet":n.OxdSheet,"oxd-loading-spinner":n.OxdSpinner,"add-tracker-log-modal":oR,"edit-tracker-log-modal":dR,"delete-confirmation":vo,"employee-tracker-log-card":_R},props:{trackerId:{type:Number,required:!0},empNumber:{type:Number,required:!0}},setup(e){const t=new q(window.appGlobal.baseUrl,`/api/v2/performance/trackers/${e.trackerId}/logs`),o=10,l=(0,a.reactive)({total:0,items:[],meta:{positive:0,negative:0},infinite:!1,isLoading:!1,showNoRecordsFound:!1}),{$tEmpName:n}=il(),{jsDateFormat:r}=Ae(),{locale:i}=pt(),s=()=>{l.showNoRecordsFound=!1,l.isLoading=!0,t.getAll({limit:o,offset:0===l.items.length?0:o}).then((e=>{const{data:t,meta:o}=e.data;l.total=o?.total||0,Array.isArray(t)&&(l.items=[...l.items,...t.map((e=>({...e,reviewerPictureSrc:`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.reviewer.empNumber}`,reviewerName:n(e.reviewer),addedDate:Ke(Xe(e.addedDate),r,{locale:i}),modifiedDate:Ke(Xe(e.modifiedDate),r,{locale:i})})))],l.meta={...l.meta,...o})})).finally((()=>{l.showNoRecordsFound=0===l.total,l.isLoading=!1}))},{scrollerRef:d}=Gz((()=>{l.items.length>=l.total||s()})),c=(0,a.computed)((()=>`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.empNumber}`));return{http:t,scrollerRef:d,fetchData:s,...(0,a.toRefs)(l),imgSrc:c}},data(){return{trackerName:"",employeeName:"",showAddTrackerModal:!1,showEditTrackerModal:!1,editTrackerLogId:null}},beforeMount(){this.http.request({method:"GET",url:`/api/v2/performance/employees/trackers/${this.trackerId}`}).then((e=>{const{data:t}=e.data;this.trackerName=t.trackerName,this.employeeName=`${t.employee.firstName} ${t.employee.lastName} ${t.employee.terminationId?` ${this.$t("general.past_employee")}`:""}`})).then((()=>{this.fetchData()}))},methods:{onClickAdd(){this.showAddTrackerModal=!0},onAddTrackerModalClose(){this.showAddTrackerModal=!1,this.resetItems()},onEditTrackerModalClose(){this.showEditTrackerModal=!1,this.resetItems()},onClickEdit(e){this.editTrackerLogId=e,this.showEditTrackerModal=!0},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e])}))},deleteItems(e){e instanceof Array&&(this.items=[],this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).finally((()=>{this.fetchData()})))},resetItems(){this.items=[],this.fetchData()}}};const DR=(0,i.Z)(SR,[["render",Rz],["__scopeId","data-v-f225ba5e"]]);var $R=DR;const TR=e=>((0,a.pushScopeId)("data-v-ecbdbb4c"),e=e(),(0,a.popScopeId)(),e),ER={class:"orangehrm-background-container"},IR={class:"orangehrm-card-container"},BR=TR((()=>(0,a.createElementVNode)("br",null,null,-1))),LR=TR((()=>(0,a.createElementVNode)("br",null,null,-1))),AR=TR((()=>(0,a.createElementVNode)("br",null,null,-1))),UR={class:"orangehrm-performance-review-actions"};function PR(e,t,o,l,n,r){const i=(0,a.resolveComponent)("review-confirm-modal"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("review-summary"),c=(0,a.resolveComponent)("evaluation-form"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("final-evaluation"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ER,[(0,a.createVNode)(i,{ref:"confirmDialog"},null,512),(0,a.createElementVNode)("div",IR,[(0,a.createVNode)(s,{tag:"h5",class:"orangehrm-performance-review-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.performance_review")),1)])),_:1})]),BR,(0,a.createVNode)(d,{loading:n.isLoading,status:o.status,"due-date":o.dueDate,employee:n.employee.details,"job-title":n.employee.jobTitle,"review-period-end":o.reviewPeriodEnd,"review-period-start":o.reviewPeriodStart,"final-rating":n.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),LR,(0,a.createVNode)(g,{ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.employeeReview,"onUpdate:modelValue":t[0]||(t[0]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:r.hasSupervisorUpdateAction,collapsed:n.employee.status<3,collapsible:3===n.employee.status,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","editable","collapsed","collapsible","employee","job-title","status","title"]),AR,(0,a.createVNode)(c,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[6]||(t[6]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:r.hasSaveAction||r.hasCompleteAction,collapsible:!0,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),((0,a.openBlock)(),(0,a.createBlock)(u,{key:n.isFinalizeRequired,"final-rating":n.finalRating,"onUpdate:finalRating":t[1]||(t[1]=e=>n.finalRating=e),"final-comment":n.finalComment,"onUpdate:finalComment":t[2]||(t[2]=e=>n.finalComment=e),"completed-date":n.completedDate,"onUpdate:completedDate":t[3]||(t[3]=e=>n.completedDate=e),status:o.status,"is-required":n.isFinalizeRequired},null,8,["final-rating","final-comment","completed-date","status","is-required"])),(0,a.withDirectives)((0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createElementVNode)("div",UR,[r.hasCancelAction?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickCancel},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),r.hasSaveAction?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[4]||(t[4]=e=>r.onSubmit(!1))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasCompleteAction?((0,a.openBlock)(),(0,a.createBlock)(p,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[5]||(t[5]=e=>r.onSubmit(!0))},null,8,["label"])):(0,a.createCommentVNode)("",!0)])])),_:1},512),[[a.vShow,r.hasActions]])])),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])])),_:1},8,["loading"])])}const qR={class:"orangehrm-card-container"},MR={class:"orangehrm-performance-review-summary"},FR={class:"orangehrm-performance-review-owner"},OR=["src"],jR={class:"orangehrm-performance-review-owner-employee-section"},zR={class:"orangehrm-performance-review-owner-employee"},RR={class:"orangehrm-performance-review-rating"};function GR(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",qR,[(0,a.createElementVNode)("div",MR,[(0,a.createVNode)(i,{tag:"h5",class:"orangehrm-performance-review-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.review_summary")),1)])),_:1}),(0,a.createVNode)(m,{loading:o.loading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"orangehrm-performance-review-details"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",FR,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:l.imgSrc},null,8,OR),(0,a.createElementVNode)("div",jR,[(0,a.createElementVNode)("div",zR,[(0,a.createVNode)(i,{tag:"h5",class:"orangehrm-performance-review-owner-employee-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeName),1)])),_:1}),(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-performance-review-owner-employee-job"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.jobTitle),1)])),_:1})])])])])),_:1}),(0,a.withDirectives)((0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",RR,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.final_rating")),1)])),_:1}),(0,a.createVNode)(i,{tag:"h4",class:"orangehrm-performance-review-rating-number"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.finalRating),1)])),_:1})])])),_:1},512),[[a.vShow,4===o.status]])])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-performance-review-details"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{cols:3,class:"orangehrm-performance-review-details-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-performance-review-column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.review_status")),1)])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-performance-review-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.reviewStatus),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-performance-review-column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.review_period")),1)])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-performance-review-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.reviewPeriod),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-performance-review-column"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.review_due_date")),1)])),_:1}),(0,a.createVNode)(i,{class:"orangehrm-performance-review-bold"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.reviewDueDate),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading"])])])}const ZR=`${window.appGlobal.publicPath}/images/default-photo.png`;var QR={name:"ReviewSummary",props:{employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},loading:{type:Boolean,required:!0},finalRating:{type:Number,default:0}},setup(e){const{$t:t}=Ne(),{locale:o}=pt(),{jsDateFormat:l}=Ae(),{$tEmpName:n}=il(),r=[{id:1,label:t("performance.inactive")},{id:2,label:t("performance.activated")},{id:3,label:t("performance.in_progress")},{id:4,label:t("performance.completed")}],i=e=>Ke(Xe(e),l,{locale:o}),s=(0,a.computed)((()=>e.employee.empNumber?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employee.empNumber}`:ZR)),d=r.find((t=>t.id===e.status)).label,c=`${i(e.reviewPeriodStart)} - ${i(e.reviewPeriodEnd)}`,m=i(e.dueDate),u=(0,a.computed)((()=>n(e.employee,{includeMiddle:!0,excludePastEmpTag:!1})));return{imgSrc:s,reviewStatus:d,reviewPeriod:c,reviewDueDate:m,employeeName:u}}};const HR=(0,i.Z)(QR,[["render",GR],["__scopeId","data-v-21b21277"]]);var WR=HR;const YR=e=>((0,a.pushScopeId)("data-v-2711f6e6"),e=e(),(0,a.popScopeId)(),e),JR=YR((()=>(0,a.createElementVNode)("br",null,null,-1))),XR={key:1,class:"orangehrm-performance-review-read"},KR={key:1,class:"orangehrm-performance-review-read"},eG={key:1,class:"orangehrm-performance-review-read"};function tG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("date-input"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-grid");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(i,{class:"orangehrm-performance-review-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.review_finalization")),1)])),_:1}),JR,(0,a.createVNode)(m,{cols:4,class:"orangehrm-performance-review-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.date_of_completion")),1)])),_:1}),l.editable?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"model-value":o.completedDate,rules:n.rules.completedDate,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:completedDate",t))},null,8,["model-value","rules"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",XR,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.formattedCompletedDate),1)])),_:1})]))])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-performance-review-grid-rating"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.final_rating")),1)])),_:1}),l.editable?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,"model-value":o.finalRating,rules:n.rules.finalRating,"onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("update:finalRating",t))},null,8,["model-value","rules"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",KR,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.finalRating),1)])),_:1})]))])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.final_comments")),1)])),_:1}),l.editable?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,rows:"1",type:"textarea","model-value":o.finalComment,rules:n.rules.finalComment,"onUpdate:modelValue":t[2]||(t[2]=t=>e.$emit("update:finalComment",t))},null,8,["model-value","rules"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",eG,[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.finalComment),1)])),_:1})]))])),_:1})])),_:1})])}var oG={name:"FinalEvaluation",props:{completedDate:{type:String,default:null,required:!1},finalRating:{type:Number,default:null,required:!1},finalComment:{type:String,default:null,required:!1},status:{type:Number,required:!0},isRequired:{type:Boolean,required:!0}},emits:["update:finalRating","update:finalComment","update:completedDate"],setup(e){const{locale:t}=pt(),{jsDateFormat:o,userDateFormat:l}=Ae(),n=(0,a.computed)((()=>4!==e.status)),r=(0,a.computed)((()=>Ke(Xe(e.completedDate),o,{locale:t})));return{editable:n,userDateFormat:l,formattedCompletedDate:r}},data(){return{rules:{completedDate:[$o(this.userDateFormat),...this.isRequired?[So]:[]],finalRating:[la(0,this.$t("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:0})),na(100,this.$t("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:100})),...this.isRequired?[So]:[]],finalComment:[...this.isRequired?[So]:[]]}}}};const aG=(0,i.Z)(oG,[["render",tG],["__scopeId","data-v-2711f6e6"]]);var lG=aG;const nG={class:"orangehrm-evaluation orangehrm-card-container"},rG={class:"orangehrm-evaluation-header"},iG=["src"],sG={class:"orangehrm-evaluation-title-name"};function dG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-grid"),c=(0,a.resolveComponent)("oxd-icon-button"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nG,[(0,a.createVNode)(i,{class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1}),(0,a.createElementVNode)("div",rG,[(0,a.createVNode)(d,{cols:3,class:"orangehrm-evaluation-header-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-evaluation-title"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{class:"orangehrm-evaluation-title-profile-image",alt:"profile picture",src:l.profileImgSrc},null,8,iG),(0,a.createElementVNode)("div",sG,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeName),1)])),_:1}),(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.jobTitle),1)])),_:1})])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.status")),1)])),_:1}),(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.evaluationLabel),1)])),_:1})])),_:1})])),_:1}),o.collapsible?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,"with-container":!1,name:l.isCollapsed?"chevron-down":"chevron-up",onClick:l.toggleForm},null,8,["name","onClick"])):(0,a.createCommentVNode)("",!0)]),l.isCollapsed?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createVNode)(m),(0,a.createVNode)(d,{cols:4,class:"orangehrm-evaluation-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.kpis")),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.rating")),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-header"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.comments")),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-spacer-md"}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.kpis,((t,n)=>((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:t.id},[(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-kpi"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.kpi")),1)])),_:1}),(0,a.createVNode)(i,{title:t.title,tag:"p",class:"orangehrm-evaluation-grid-kpi-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.title),1)])),_:2},1032,["title"]),(0,a.createVNode)(i,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.min"))+": "+(0,a.toDisplayString)(t.minRating),1)])),_:2},1024),(0,a.createVNode)(i,{class:"orangehrm-evaluation-grid-kpi-minmax",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.max"))+": "+(0,a.toDisplayString)(t.maxRating),1)])),_:2},1024)])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.rating")),1)])),_:1}),(0,a.createVNode)(u,{type:"input",disabled:!o.editable,rules:o.rules[n],"model-value":o.modelValue.kpis[n].rating,"onUpdate:modelValue":e=>l.onUpdateRating(e,n)},null,8,["disabled","rules","model-value","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-evaluation-grid-kpi-header",type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.comment")),1)])),_:1}),(0,a.createVNode)(u,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!o.editable,rules:l.commentValidators,"model-value":o.modelValue.kpis[n].comment,"onUpdate:modelValue":e=>l.onUpdateComment(e,n)},null,8,["disabled","rules","model-value","onUpdate:modelValue"])])),_:2},1024),(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-spacer-md"})],64)))),128))])),_:1}),(0,a.createVNode)(m),(0,a.createVNode)(d,{cols:3,class:"orangehrm-evaluation-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{class:"orangehrm-evaluation-grid-general"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-evaluation-grid-general-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.general_comment")),1)])),_:1})])),_:1}),(0,a.createVNode)(s,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"orangehrm-evaluation-grid-comment",rows:"2",type:"textarea",disabled:!o.editable,rules:l.commentValidators,"model-value":o.modelValue.generalComment,"onUpdate:modelValue":t[0]||(t[0]=e=>l.onUpdateGeneralComment(e))},null,8,["disabled","rules","model-value"])])),_:1})])),_:1}),(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)],64))])}const cG=`${window.appGlobal.publicPath}/images/default-photo.png`;var mG={components:{"oxd-divider":n.OxdDivider},props:{kpis:{type:Array,required:!0},title:{type:String,required:!0},editable:{type:Boolean,required:!0},collapsible:{type:Boolean,required:!0},employee:{type:Object,required:!0},jobTitle:{type:String,required:!0},rules:{type:Array,required:!0},modelValue:{type:Object,required:!0,validator:e=>Object.hasOwn(e,"kpis")&&Object.hasOwn(e,"generalComment")},collapsed:{type:Boolean,default:!1},status:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,t){const{$t:o}=Ne(),{$tEmpName:l}=il(),n=(0,a.ref)(e.collapsed),r=[Do(2e3)],i=(0,a.computed)((()=>e.employee.empNumber?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.employee.empNumber}`:cG)),s=(0,a.computed)((()=>l(e.employee))),d=()=>{n.value=!n.value},c=(o,a)=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis.map(((e,t)=>t===a?{...e,rating:o}:e)),generalComment:e.modelValue.generalComment})},m=(o,a)=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis.map(((e,t)=>t===a?{...e,comment:o}:e)),generalComment:e.modelValue.generalComment})},u=o=>{t.emit("update:modelValue",{kpis:e.modelValue.kpis,generalComment:o})},p=[{id:1,label:o("performance.evaluation_activated")},{id:2,label:o("performance.evaluation_in_progress")},{id:3,label:o("performance.evaluation_completed")}],h=(0,a.computed)((()=>p.find((t=>t.id===e.status)).label));return{toggleForm:d,isCollapsed:n,employeeName:s,profileImgSrc:i,onUpdateRating:c,onUpdateComment:m,onUpdateGeneralComment:u,commentValidators:r,evaluationLabel:h}}};const uG=(0,i.Z)(mG,[["render",dG],["__scopeId","data-v-d193810c"]]);var pG=uG;function hG(e){const{$t:t}=Ne(),o=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/kpis`}),a=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/supervisor`}),l=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/employee`}),n=t=>e.request({method:"GET",url:`/api/v2/performance/reviews/${t}/evaluation/final`}),r=(t,o)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/final`,data:{...o,finalComment:""===o.finalComment?null:o.finalComment}}),i=(t,o,a)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/employee`,data:{complete:o,ratings:a.kpis,generalComment:a.generalComment}}),s=(t,o)=>e.request({method:"PUT",url:`/api/v2/performance/reviews/${t}/evaluation/supervisor`,data:{ratings:o.kpis,generalComment:o.generalComment}}),d=e=>e.map((e=>[la(e.minRating,t("performance.rating_should_be_greater_than_or_equal_to_minValue",{minValue:e.minRating})),na(e.maxRating,t("performance.rating_should_be_less_than_or_equal_to_maxValue",{maxValue:e.maxRating}))])),c=e=>({kpis:e.map((e=>({kpiId:e.id,rating:null,comment:null}))),generalComment:null}),m=(e,t,o)=>({kpis:o.map((({kpiId:t})=>{const o=e.find((e=>e.kpi.id===t));return{kpiId:t,rating:o?.rating,comment:o?.comment}})),generalComment:t}),u=e=>({details:{empNumber:e.employee.empNumber,firstName:e.employee.firstName,lastName:e.employee.lastName,middleName:e.employee.middleName,terminationId:e.employee.terminationId},jobTitle:e.employee.jobTitle.name,status:e.status}),p=e=>new Map(e?.map((e=>[e.action,e.name])));return{getAllKpis:o,getEmployeeReview:l,getSupervisorReview:a,getFinalReview:n,generateRules:d,generateModel:c,generateReviewerData:u,generateAllowedActions:p,generateEvaluationFormData:m,finalizeReview:r,saveEmployeeReview:i,saveSupervisorReview:s}}const gG={class:"orangehrm-modal-header"},vG={class:"orangehrm-text-center-align"},fG={class:"orangehrm-modal-footer"};function yG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(a.Teleport,{to:"#app"},[n.show?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-dialog-popup","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",gG,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.confirm_review_submission")),1)])),_:1})]),(0,a.createElementVNode)("div",vG,[(0,a.createVNode)(i,{type:"subtitle-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.confirm_review_submission_message")),1)])),_:1})]),(0,a.createElementVNode)("div",fG,[(0,a.createVNode)(s,{"display-type":"ghost",class:"orangehrm-button-margin",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(s,{"display-type":"secondary",class:"orangehrm-button-margin",label:e.$t("general.ok"),onClick:r.onConfirm},null,8,["label","onClick"])])])),_:1},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)])}var CG={name:"ReviewConfirmModal",components:{"oxd-dialog":n.OxdDialog},data(){return{show:!1,reject:null,resolve:null}},methods:{showDialog(){return new Promise(((e,t)=>{this.resolve=e,this.reject=t,this.show=!0}))},onConfirm(){this.show=!1,this.resolve&&this.resolve("ok")},onCancel(){this.show=!1,this.resolve&&this.resolve("cancel")}}};const bG=(0,i.Z)(CG,[["render",yG],["__scopeId","data-v-76b5ab1c"]]);var VG=bG;const xG={details:{empNumber:null,firstName:"",lastName:"",middleName:"",terminationId:null},jobTitle:"",status:1,actions:new Map};var wG={components:{"review-summary":WR,"final-evaluation":lG,"evaluation-form":pG,"review-confirm-modal":VG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0},isReviewer:{type:Boolean,default:!1}},setup(){const{formRef:e,invalid:t,validate:o}=vm(),a=new q(window.appGlobal.baseUrl,""),{getAllKpis:l,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,generateRules:s,generateModel:d,generateReviewerData:c,generateAllowedActions:m,generateEvaluationFormData:u,finalizeReview:p,saveEmployeeReview:h,saveSupervisorReview:g}=hG(a);return{http:a,invalid:t,formRef:e,validate:o,getAllKpis:l,generateRules:s,generateModel:d,generateReviewerData:c,generateAllowedActions:m,generateEvaluationFormData:u,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,finalizeReview:p,saveEmployeeReview:h,saveSupervisorReview:g}},data(){return{kpis:[],rules:[],employee:{...xG},employeeReview:{},supervisor:{...xG},supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null,isFinalizeRequired:!1}},computed:{hasSupervisorUpdateAction(){return this.employee.actions.has("supervisorUpdate")},hasSaveAction(){return this.supervisor.actions.has("save")},hasCompleteAction(){return this.supervisor.actions.has("complete")},hasCancelAction(){return 4!==this.status},hasActions(){return this.hasSupervisorUpdateAction||this.hasSaveAction||this.hasCompleteAction||this.hasCancelAction}},beforeMount(){this.isLoading=!0,this.getAllKpis(this.reviewId).then((e=>{const{data:t}=e.data;return this.kpis=[...t],this.rules=this.generateRules(t),this.employeeReview=this.generateModel(t),this.supervisorReview=this.generateModel(t),this.getEmployeeReview(this.reviewId)})).then((e=>{const{data:t}=e.data,{meta:o}=e.data;return this.employee=this.generateReviewerData(o.reviewer),this.employee.actions=this.generateAllowedActions(o.allowedActions),this.employeeReview=this.generateEvaluationFormData(t,o.generalComment,this.employeeReview.kpis),this.getSupervisorReview(this.reviewId)})).then((e=>{const{data:t}=e.data,{meta:o}=e.data;return this.supervisor=this.generateReviewerData(o.reviewer),this.supervisor.actions=this.generateAllowedActions(o.allowedActions),this.supervisorReview=this.generateEvaluationFormData(t,o.generalComment,this.supervisorReview.kpis),this.getFinalReview(this.reviewId)})).then((e=>{const{data:t}=e.data;this.finalRating=t.finalRating,this.finalComment=t.finalComment,this.completedDate=t.completedDate})).finally((()=>{this.isLoading=!1}))},methods:{onSubmit(e=!1){this.isFinalizeRequired=e,this.$nextTick().then((()=>this.validate())).then((()=>{!0!==this.invalid&&(e?this.$refs.confirmDialog.showDialog().then((e=>{"ok"===e&&this.submitReview(!0)})):this.submitReview(!1))}))},submitReview(e=!1){this.isLoading=!0,this.saveSupervisorReview(this.reviewId,this.supervisorReview).then((()=>{if(this.hasSupervisorUpdateAction)return this.saveEmployeeReview(this.reviewId,!0,this.employeeReview)})).then((()=>this.finalizeReview(this.reviewId,{complete:e,finalRating:this.finalRating,finalComment:this.finalComment,completedDate:this.completedDate}))).then((()=>this.$toast.saveSuccess())).finally((()=>{P()}))},onClickCancel(){U(this.isReviewer?"/performance/searchEvaluatePerformanceReview":"/performance/searchPerformanceReview")}}};const NG=(0,i.Z)(wG,[["render",PR],["__scopeId","data-v-ecbdbb4c"]]);var kG=NG;const _G=e=>((0,a.pushScopeId)("data-v-574fdbb6"),e=e(),(0,a.popScopeId)(),e),SG={class:"orangehrm-background-container"},DG={class:"orangehrm-card-container"},$G=_G((()=>(0,a.createElementVNode)("br",null,null,-1))),TG=_G((()=>(0,a.createElementVNode)("br",null,null,-1))),EG={key:0},IG=_G((()=>(0,a.createElementVNode)("br",null,null,-1))),BG={class:"orangehrm-performance-review-actions"},LG={key:1},AG=_G((()=>(0,a.createElementVNode)("br",null,null,-1)));function UG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("review-confirm-modal"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("review-summary"),c=(0,a.resolveComponent)("evaluation-form"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("final-evaluation"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",SG,[(0,a.createVNode)(i,{ref:"confirmDialog"},null,512),(0,a.createElementVNode)("div",DG,[(0,a.createVNode)(s,{tag:"h5",class:"orangehrm-performance-review-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.performance_review")),1)])),_:1})]),$G,(0,a.createVNode)(d,{loading:n.isLoading,status:o.status,"due-date":o.dueDate,employee:n.employee.details,"job-title":n.employee.jobTitle,"review-period-end":o.reviewPeriodEnd,"review-period-start":o.reviewPeriodStart,"final-rating":n.finalRating},null,8,["loading","status","due-date","employee","job-title","review-period-end","review-period-start","final-rating"]),TG,(0,a.createVNode)(g,{ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[o.status<4?((0,a.openBlock)(),(0,a.createElementBlock)("div",EG,[(0,a.createVNode)(c,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[0]||(t[0]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsible:!1,collapsed:!0,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),IG,(0,a.createVNode)(c,{modelValue:n.employeeReview,"onUpdate:modelValue":t[3]||(t[3]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:n.employee.status<3,collapsed:!1,collapsible:!0,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createElementVNode)("div",BG,[r.hasCancelAction?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onClickCancel},null,8,["label","onClick"])):(0,a.createCommentVNode)("",!0),r.hasSaveAction?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,"display-type":"ghost",type:"button",label:e.$t("general.save"),onClick:t[1]||(t[1]=e=>r.onSubmit(!1))},null,8,["label"])):(0,a.createCommentVNode)("",!0),r.hasCompleteAction?((0,a.openBlock)(),(0,a.createBlock)(u,{key:2,type:"button","display-type":"secondary",label:e.$t("performance.complete"),onClick:t[2]||(t[2]=e=>r.onSubmit(!0))},null,8,["label"])):(0,a.createCommentVNode)("",!0)])])),_:1},512),[[a.vShow,r.hasActions]])])),_:1},8,["modelValue","kpis","rules","editable","employee","job-title","status","title"])])):(0,a.createCommentVNode)("",!0),4===o.status?((0,a.openBlock)(),(0,a.createElementBlock)("div",LG,[(0,a.createVNode)(c,{modelValue:n.employeeReview,"onUpdate:modelValue":t[4]||(t[4]=e=>n.employeeReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsed:!1,collapsible:!0,employee:n.employee.details,"job-title":n.employee.jobTitle,status:n.employee.status,title:e.$t("performance.self_evaluation_by")},null,8,["modelValue","kpis","rules","employee","job-title","status","title"]),AG,(0,a.createVNode)(c,{modelValue:n.supervisorReview,"onUpdate:modelValue":t[8]||(t[8]=e=>n.supervisorReview=e),kpis:n.kpis,rules:n.rules,editable:!1,collapsible:!0,collapsed:!1,employee:n.supervisor.details,"job-title":n.supervisor.jobTitle,status:n.supervisor.status,title:e.$t("performance.supervisor_evaluation_by")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(h,{"final-rating":n.finalRating,"onUpdate:finalRating":t[5]||(t[5]=e=>n.finalRating=e),"final-comment":n.finalComment,"onUpdate:finalComment":t[6]||(t[6]=e=>n.finalComment=e),"completed-date":n.completedDate,"onUpdate:completedDate":t[7]||(t[7]=e=>n.completedDate=e),status:o.status,"is-required":!1},null,8,["final-rating","final-comment","completed-date","status"])])),_:1},8,["modelValue","kpis","rules","employee","job-title","status","title"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading"])])}const PG={details:{empNumber:null,firstName:"",lastName:"",terminationId:null},jobTitle:"",status:1,actions:new Map};var qG={name:"SelfEvaluation",components:{"review-summary":WR,"final-evaluation":lG,"evaluation-form":pG,"review-confirm-modal":VG},props:{reviewId:{type:Number,required:!0},status:{type:Number,required:!0},reviewPeriodStart:{type:String,required:!0},reviewPeriodEnd:{type:String,required:!0},dueDate:{type:String,required:!0}},setup(){const{formRef:e,invalid:t,validate:o}=vm(),a=new q(window.appGlobal.baseUrl,""),{getAllKpis:l,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,generateRules:s,generateModel:d,generateReviewerData:c,generateAllowedActions:m,generateEvaluationFormData:u,finalizeReview:p,saveEmployeeReview:h}=hG(a);return{http:a,invalid:t,formRef:e,validate:o,getAllKpis:l,generateRules:s,generateModel:d,generateReviewerData:c,generateAllowedActions:m,generateEvaluationFormData:u,getEmployeeReview:n,getSupervisorReview:r,getFinalReview:i,finalizeReview:p,saveEmployeeReview:h}},data(){return{kpis:[],rules:[],employee:{...PG},employeeReview:{},supervisor:{...PG},supervisorReview:{},isLoading:!1,finalRating:null,finalComment:null,completedDate:null}},computed:{hasSaveAction(){return this.employee.actions.has("save")},hasCompleteAction(){return this.employee.actions.has("complete")},hasCancelAction(){return!(4===this.status||3===this.employee?.status)},hasActions(){return this.hasSaveAction||this.hasCancelAction||this.hasCompleteAction}},beforeMount(){this.isLoading=!0,this.getAllKpis(this.reviewId).then((e=>{const{data:t}=e.data;return this.kpis=[...t],this.rules=this.generateRules(t),this.employeeReview=this.generateModel(t),this.supervisorReview=this.generateModel(t),this.getEmployeeReview(this.reviewId)})).then((e=>{const{data:t}=e.data,{meta:o}=e.data;return this.employee=this.generateReviewerData(o.reviewer),this.employee.actions=this.generateAllowedActions(o.allowedActions),this.employeeReview=this.generateEvaluationFormData(t,o.generalComment,this.employeeReview.kpis),this.getSupervisorReview(this.reviewId)})).then((e=>{const{data:t}=e.data,{meta:o}=e.data;return this.supervisor=this.generateReviewerData(o.reviewer),this.supervisor.actions=this.generateAllowedActions(o.allowedActions),this.supervisorReview=this.generateEvaluationFormData(t,o.generalComment,this.supervisorReview.kpis),4===this.status?this.getFinalReview(this.reviewId):{}})).then((e=>{if(0!==Object.keys(e).length){const{data:t}=e.data;this.finalRating=t.finalRating,this.finalComment=t.finalComment,this.completedDate=t.completedDate}})).finally((()=>{this.isLoading=!1}))},methods:{onSubmit(e=!1){this.$nextTick().then((()=>this.validate())).then((async()=>{!0!==this.invalid&&(e?this.$refs.confirmDialog.showDialog().then((e=>{"ok"===e&&this.submitReview(!0)})):this.submitReview(!1))}))},submitReview(e=!1){this.isLoading=!0,this.saveEmployeeReview(this.reviewId,e,this.employeeReview).then((()=>this.$toast.saveSuccess())).finally((()=>{P()}))},onClickCancel(){U("/performance/myPerformanceReview")}}};const MG=(0,i.Z)(qG,[["render",UG],["__scopeId","data-v-574fdbb6"]]);var FG=MG,OG={"my-tracker":ZF,"employee-trackers":aO,"kpi-search":AO,"kpi-save":wO,"kpi-edit":pO,"add-review":QO,"edit-review":tj,"performance-tracker-list":pj,"performance-tracker-save":Nj,"performance-tracker-edit":Ej,"my-reviews":Kj,"review-list":hz,"review-search":_z,"employee-tracker-logs":$R,"admin-evaluation":kG,"self-evaluation":FG};const jG=e=>((0,a.pushScopeId)("data-v-0d01fa51"),e=e(),(0,a.popScopeId)(),e),zG={class:"orangehrm-background-container"},RG=jG((()=>(0,a.createElementVNode)("br",null,null,-1))),GG={class:"orangehrm-corporate-directory"},ZG={class:"orangehrm-paper-container"},QG={ref:"scrollerRef",class:"orangehrm-container"},HG=jG((()=>(0,a.createElementVNode)("div",{class:"orangehrm-bottom-container"},null,-1))),WG={key:0,class:"orangehrm-corporate-directory-sidebar"};function YG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("oxd-table-filter"),y=(0,a.resolveComponent)("table-header"),C=(0,a.resolveComponent)("employee-details"),b=(0,a.resolveComponent)("summary-card"),V=(0,a.resolveComponent)("oxd-loading-spinner"),x=(0,a.resolveComponent)("summary-card-details");return(0,a.openBlock)(),(0,a.createElementBlock)("div",zG,[(0,a.createVNode)(f,{"filter-title":e.$t("general.directory")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(v,{onSubmitValid:r.onSearch,onReset:r.onReset},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.filters.employeeNumber,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.employeeNumber=t),rules:l.rules.employee,"api-path":"/api/v2/directory/employees"},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.filters.jobTitleId,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.jobTitleId=t),type:"select",label:e.$t("general.job_title"),options:o.jobTitles},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.filters.locationId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.locationId=t),type:"select",label:e.$t("general.location"),options:o.locations},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{label:e.$t("general.reset"),"display-type":"ghost",type:"reset"},null,8,["label"]),(0,a.createVNode)(h,{label:e.$t("general.search")},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1},8,["filter-title"]),RG,(0,a.createElementVNode)("div",GG,[(0,a.createElementVNode)("div",ZG,[(0,a.createVNode)(y,{selected:0,total:e.total,loading:!1,"show-divider":!1},null,8,["total"]),(0,a.createElementVNode)("div",QG,[(0,a.createVNode)(c,{cols:r.colSize},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.employees,((t,o)=>((0,a.openBlock)(),(0,a.createBlock)(s,{key:t},{default:(0,a.withCtx)((()=>[r.isMobile&&e.currentIndex===o?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:e=>r.showEmployeeDetails(o)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{"employee-id":t.id,"is-mobile":r.isMobile},null,8,["employee-id","is-mobile"])])),_:2},1032,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"])):((0,a.openBlock)(),(0,a.createBlock)(b,{key:1,"employee-id":t.id,"employee-name":t.employeeName,"employee-sub-unit":t.employeeSubUnit,"employee-location":t.employeeLocation,"employee-designation":t.employeeJobTitle,onClick:e=>r.showEmployeeDetails(o)},null,8,["employee-id","employee-name","employee-sub-unit","employee-location","employee-designation","onClick"]))])),_:2},1024)))),128))])),_:1},8,["cols"]),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,class:"orangehrm-container-loader"})):(0,a.createCommentVNode)("",!0)],512),HG]),r.isEmployeeSelected&&!1===r.isMobile?((0,a.openBlock)(),(0,a.createElementBlock)("div",WG,[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(x,{"employee-designation":e.employees[e.currentIndex].employeeJobTitle,"employee-id":e.employees[e.currentIndex].id,"employee-location":e.employees[e.currentIndex].employeeLocation,"employee-name":e.employees[e.currentIndex].employeeName,"employee-sub-unit":e.employees[e.currentIndex].employeeSubUnit,onHideDetails:t[3]||(t[3]=e=>r.hideEmployeeDetails())},null,8,["employee-designation","employee-id","employee-location","employee-name","employee-sub-unit"])])),_:1})])):(0,a.createCommentVNode)("",!0)])])}const JG={class:"orangehrm-directory-card-body"};function XG(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("profile-picture"),c=(0,a.resolveComponent)("oxd-sheet");return(0,a.openBlock)(),(0,a.createBlock)(c,{gutters:!1,class:"orangehrm-directory-card"},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"orangehrm-directory-card-top",onClick:t[0]||(t[0]=t=>e.$emit("hide-details",!1))},[(0,a.createVNode)(i,{name:"arrow-right"})],512),[[a.vShow,o.showBackButton]]),(0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.cardTitleClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.employeeName),1)])),_:1},8,["class"]),(0,a.createVNode)(d,{id:o.employeeId},null,8,["id"]),(0,a.withDirectives)((0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.cardSubTitleClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.employeeDesignation),1)])),_:1},8,["class"]),[[a.vShow,o.employeeDesignation]]),(0,a.withDirectives)((0,a.createElementVNode)("div",JG,[(0,a.createVNode)(i,{class:"orangehrm-directory-card-icon",name:"geo-alt-fill"}),(0,a.createElementVNode)("div",null,[(0,a.withDirectives)((0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.cardDescriptionClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.employeeSubUnit),1)])),_:1},8,["class"]),[[a.vShow,o.employeeSubUnit]]),(0,a.withDirectives)((0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.cardDescriptionClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.employeeLocation),1)])),_:1},8,["class"]),[[a.vShow,o.employeeLocation]])])],512),[[a.vShow,o.employeeSubUnit||o.employeeLocation]]),(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])),_:3})}const KG={class:"orangehrm-profile-picture"},eZ=["src"];function tZ(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",KG,[(0,a.createElementVNode)("img",{src:l.imgSrc,alt:"Profile Picture",class:"orangehrm-profile-picture-img"},null,8,eZ)])}const oZ=`${window.appGlobal.publicPath}/images/default-photo.png`;var aZ={name:"ProfilePicture",props:{id:{type:Number,required:!0}},setup(e){const t=(0,a.computed)((()=>e.id?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.id}`:oZ));return{imgSrc:t}}};const lZ=(0,i.Z)(aZ,[["render",tZ],["__scopeId","data-v-49d66b74"]]);var nZ=lZ,rZ={name:"SummaryCard",components:{"oxd-icon":n.OxdIcon,"oxd-sheet":n.OxdSheet,"profile-picture":nZ},props:{employeeId:{type:Number,required:!0},employeeName:{type:String,required:!0},employeeDesignation:{type:String,required:!1,default:null},employeeSubUnit:{type:String,default:""},employeeLocation:{type:String,default:""},showBackButton:{type:Boolean,default:!1}},emits:["hide-details"],computed:{hasDefaultSlot(){return!!this.$slots.default},cardTitleClasses(){return{"orangehrm-directory-card-header":!0,"--break-words":!this.hasDefaultSlot}},cardSubTitleClasses(){return{"orangehrm-directory-card-subtitle":!0,"--break-words":!this.hasDefaultSlot}},cardDescriptionClasses(){return{"orangehrm-directory-card-description":!0,"--break-words":!this.hasDefaultSlot}}}};const iZ=(0,i.Z)(rZ,[["render",XG],["__scopeId","data-v-0415b0f1"]]);var sZ=iZ;const dZ={class:"orangehrm-directory-card-rounded-body"},cZ={class:"orangehrm-directory-card-icon"},mZ={class:"orangehrm-directory-card-icon"},uZ={class:"orangehrm-directory-card-hover-body"},pZ={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"},hZ={class:"orangehrm-directory-card-hover-body"},gZ={class:"orangehrm-directory-card-hover-body orangehrm-directory-card-hover-icon"};function vZ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-divider"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("qr-code");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.withDirectives)((0,a.createVNode)(i,null,null,512),[[a.vShow,n.employeeWorkEmail||n.employeeWorkTelephone]]),(0,a.withDirectives)((0,a.createElementVNode)("div",dZ,[(0,a.withDirectives)((0,a.createElementVNode)("div",cZ,[(0,a.createVNode)(s,{"display-type":"success",name:"telephone-fill",onClick:(0,a.withModifiers)(r.openClientTelephone,["stop"])},null,8,["onClick"])],512),[[a.vShow,n.employeeWorkTelephone]]),(0,a.withDirectives)((0,a.createElementVNode)("div",mZ,[(0,a.createVNode)(s,{"display-type":"danger",name:"envelope-fill",onClick:(0,a.withModifiers)(r.openClientEmail,["stop"])},null,8,["onClick"])],512),[[a.vShow,n.employeeWorkEmail]])],512),[[a.vShow,n.employeeWorkEmail||n.employeeWorkTelephone]]),(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[0]||(t[0]=e=>n.showTelephoneClip=!1),onMouseover:t[1]||(t[1]=e=>n.showTelephoneClip=!0)},[(0,a.createElementVNode)("div",uZ,[(0,a.createVNode)(d,{type:"toast-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.work_telephone")),1)])),_:1}),(0,a.createVNode)(d,{ref:"cloneTelephone",type:"toast-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.employeeWorkTelephone),1)])),_:1},512)]),(0,a.createElementVNode)("div",pZ,[(0,a.withDirectives)((0,a.createVNode)(s,{name:"files",onClick:(0,a.withModifiers)(r.copyTelephone,["stop"])},null,8,["onClick"]),[[a.vShow,n.showTelephoneClip||o.isMobile]])])],544),[[a.vShow,n.employeeWorkTelephone]]),(0,a.withDirectives)((0,a.createVNode)(i,null,null,512),[[a.vShow,n.employeeWorkTelephone]]),(0,a.withDirectives)((0,a.createElementVNode)("div",{class:"orangehrm-directory-card-hover",onMouseleave:t[2]||(t[2]=e=>n.showEmailClip=!1),onMouseover:t[3]||(t[3]=e=>n.showEmailClip=!0)},[(0,a.createElementVNode)("div",hZ,[(0,a.createVNode)(d,{type:"toast-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.work_email")),1)])),_:1}),(0,a.createVNode)(d,{ref:"cloneEmail",type:"toast-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.employeeWorkEmail),1)])),_:1},512)]),(0,a.createElementVNode)("div",gZ,[(0,a.withDirectives)((0,a.createVNode)(s,{name:"files",onClick:(0,a.withModifiers)(r.copyEmail,["stop"])},null,8,["onClick"]),[[a.vShow,n.showEmailClip||o.isMobile]])])],544),[[a.vShow,n.employeeWorkEmail]]),(0,a.withDirectives)((0,a.createVNode)(i,null,null,512),[[a.vShow,n.employeeWorkEmail]]),n.qrPayload&&(n.employeeWorkTelephone||n.employeeWorkEmail)?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,value:n.qrPayload},null,8,["value"])):(0,a.createCommentVNode)("",!0)],64)}var fZ=o(2592),yZ={name:"QRCode",props:{value:{type:String,required:!0}},setup(e){const t=(0,a.ref)(""),o=async()=>{const o=await(0,fZ.hz)(String(e.value),{type:"image/png",width:140});t.value=o||""};return(0,a.watch)((()=>e.value),o),(0,a.onBeforeMount)(o),()=>(0,a.h)("img",{src:t.value,class:"orangehrm-qr-code"})}};const CZ=(0,i.Z)(yZ,[["__scopeId","data-v-74e533de"]]);var bZ=CZ,VZ={name:"EmployeeDetails",components:{"qr-code":bZ,"oxd-divider":n.OxdDivider},props:{employeeId:{type:Number,required:!0},isMobile:{type:Boolean,default:!1}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/directory/employees");return{http:e}},data(){return{employeeWorkTelephone:null,employeeWorkEmail:null,showTelephoneClip:!1,showEmailClip:!1,toGoEmail:null,qrPayload:null,employeeName:null}},watch:{employeeId:function(){this.callEmployeeDetailsApi()}},beforeMount(){this.callEmployeeDetailsApi()},methods:{openClientTelephone(){window.location.href="tel:"+this.employeeWorkTelephone},openClientEmail(){window.location.href="mailto:"+this.employeeWorkEmail},copyEmail(){navigator.clipboard?.writeText(this.employeeWorkEmail)},copyTelephone(){navigator.clipboard?.writeText(this.employeeWorkTelephone)},callEmployeeDetailsApi(){this.http.get(this.employeeId,{model:"detailed"}).then((e=>{const{data:t}=e.data;this.employeeName={firstName:t.firstName,middleName:t.middleName,lastName:t.lastName},this.employeeWorkEmail=t.contactInfo?.workEmail,this.employeeWorkTelephone=t.contactInfo?.workTelephone,this.generateQrPayload()}))},generateQrPayload(){let e="";e+=`N:${this.employeeName?.lastName||""};`,e+=`${this.employeeName?.firstName||""};`,e+=`${this.employeeName?.middleName||""};\n`,this.employeeWorkTelephone&&(e+=`TEL;CELL:${this.employeeWorkTelephone}\n`),this.employeeWorkEmail&&(e+=`EMAIL;WORK;INTERNET:${this.employeeWorkEmail}\n`),this.qrPayload=`BEGIN:VCARD\nVERSION:3.0\n${e}END:VCARD\n`}}};const xZ=(0,i.Z)(VZ,[["render",vZ],["__scopeId","data-v-d01dcc04"]]);var wZ=xZ;function NZ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-details"),s=(0,a.resolveComponent)("summary-card");return(0,a.openBlock)(),(0,a.createBlock)(s,{"employee-id":o.employeeId,"show-back-button":!0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{"employee-id":o.employeeId},null,8,["employee-id"])])),_:1},8,["employee-id"])}var kZ={name:"SummaryCardDetails",components:{"employee-details":wZ,"summary-card":sZ},props:{employeeId:{type:Number,required:!0}}};const _Z=(0,i.Z)(kZ,[["render",NZ]]);var SZ=_Z;const DZ={employeeNumber:null,jobTitleId:null,locationId:null};var $Z={name:"CorporateDirectory",components:{"summary-card":sZ,"oxd-loading-spinner":n.OxdSpinner,"employee-details":wZ,"summary-card-details":SZ,"employee-autocomplete":rl},props:{jobTitles:{type:Array,default:()=>[]},locations:{type:Array,default:()=>[]}},setup(){const{$t:e}=Ne(),{noRecordsFound:t}=ao(),o=(0,n.useResponsive)(),l={employee:[ia]},r=t=>t.map((t=>({id:t.empNumber,employeeName:`${t.firstName} ${t.middleName} ${t.lastName} `+(t.terminationId?e("general.past_employee"):""),employeeJobTitle:t.jobTitle?.isDeleted?`${t.jobTitle?.title} `+e("general.deleted"):t.jobTitle?.title,employeeSubUnit:t.subunit?.name,employeeLocation:t.location?.name}))),i=new q(window.appGlobal.baseUrl,"/api/v2/directory/employees"),s=14,d=(0,a.reactive)({total:0,offset:0,employees:[],currentIndex:-1,isLoading:!1,filters:{...DZ}}),c=()=>{d.isLoading=!0,i.getAll({limit:s,offset:d.offset,locationId:d.filters.locationId?.id,empNumber:d.filters.employeeNumber?.id,jobTitleId:d.filters.jobTitleId?.id}).then((e=>{const{data:o,meta:a}=e.data;d.total=a?.total||0,Array.isArray(o)&&(d.employees=[...d.employees,...r(o)]),0===d.total&&t()})).finally((()=>d.isLoading=!1))},{scrollerRef:m}=Gz((()=>{d.employees.length>=d.total||(d.offset+=s,c())}));return{rules:l,fetchData:c,scrollerRef:m,...(0,a.toRefs)(d),...(0,a.toRefs)(o)}},computed:{isMobile(){return this.windowWidth<800},isEmployeeSelected(){return this.currentIndex>=0},oxdGridClasses(){return{"orangehrm-container":!0,"orangehrm-container-min-display":this.isEmployeeSelected}},colSize(){return this.windowWidth>=1920?this.isEmployeeSelected?5:7:this.isEmployeeSelected?3:4}},beforeMount(){this.fetchData()},methods:{hideEmployeeDetails(){this.currentIndex=-1},showEmployeeDetails(e){this.currentIndex!=e?this.currentIndex=e:this.hideEmployeeDetails()},onSearch(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.fetchData()},onReset(){this.hideEmployeeDetails(),this.employees=[],this.offset=0,this.filters={...DZ},this.fetchData()}}};const TZ=(0,i.Z)($Z,[["render",YG],["__scopeId","data-v-0d01fa51"]]);var EZ=TZ,IZ={"corporate-directory-employee-list":EZ};const BZ=e=>((0,a.pushScopeId)("data-v-d003021e"),e=e(),(0,a.popScopeId)(),e),LZ={class:"orangehrm-login-form"},AZ={class:"orangehrm-login-error"},UZ=["value"],PZ={key:0,class:"orangehrm-login-forgot"},qZ=BZ((()=>(0,a.createElementVNode)("br",null,null,-1))),MZ={class:"orangehrm-login-footer"};function FZ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-alert"),d=(0,a.resolveComponent)("oxd-sheet"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form"),g=(0,a.resolveComponent)("login-layout");return(0,a.openBlock)(),(0,a.createBlock)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-login-title",tag:"h5"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.login")),1)])),_:1}),(0,a.createElementVNode)("div",LZ,[(0,a.createElementVNode)("div",AZ,[(0,a.createVNode)(s,{show:null!==o.error,message:o.error?.message||"",type:"error"},null,8,["show","message"]),(0,a.createVNode)(s,{show:null!==o.success,message:o.success?.message||"",type:"success"},null,8,["show","message"]),o.isDemoMode?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,type:"gray-lighten-2",class:"orangehrm-demo-credentials"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Username : demo@admin.com")])),_:1}),(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Password : 1#e18^J2b8o")])),_:1})])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(h,{ref:"loginForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,UZ),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),name:"username",label:e.$t("general.username"),"label-icon":"person",placeholder:e.$t("auth.username"),rules:n.rules.username,autofocus:""},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),name:"password",label:e.$t("general.password"),"label-icon":"key",placeholder:e.$t("auth.password"),type:"password",rules:n.rules.password},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(p,{class:"orangehrm-login-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"orangehrm-login-button","display-type":"main",label:e.$t("auth.login"),type:"submit"},null,8,["label"])])),_:1}),o.isDemoMode?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",PZ,[(0,a.createVNode)(i,{class:"orangehrm-login-forgot-header",onClick:r.navigateUrl},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.forgot_password"))+"? ",1)])),_:1},8,["onClick"]),(0,a.createVNode)(i,{class:"orangehrm-login-forgot-header",onClick:r.goToRegistrationPage},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.register"))+"? ",1)])),_:1},8,["onClick"])]))])),_:1},8,["action","onSubmitValid"]),qZ]),(0,a.createElementVNode)("div",MZ,[(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])])),_:3})}const OZ={class:"orangehrm-login-layout"},jZ={class:"orangehrm-login-layout-blob"},zZ={class:"orangehrm-login-container"},RZ={class:"orangehrm-login-slot-wrapper"},GZ={class:"orangehrm-login-slot"};function ZZ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("login-branding");return(0,a.openBlock)(),(0,a.createElementBlock)("div",OZ,[(0,a.createElementVNode)("div",jZ,[(0,a.createElementVNode)("div",zZ,[(0,a.createElementVNode)("div",RZ,[(0,a.createVNode)(i,{"img-src":o.loginBannerSrc},null,8,["img-src"]),(0,a.createElementVNode)("div",GZ,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)])])])])])}var QZ={name:"LoginLayout",components:{"login-branding":rB},props:{loginLogoSrc:{type:String,required:!0},loginBannerSrc:{type:String,required:!0}}};const HZ=(0,i.Z)(QZ,[["render",ZZ],["__scopeId","data-v-25f864cc"]]);var WZ=HZ,YZ={components:{"oxd-alert":n.OxdAlert,"oxd-sheet":n.OxdSheet,"login-layout":WZ},props:{error:{type:Object,default:()=>null},success:{type:Object,default:()=>null},token:{type:String,required:!0},showSocialMedia:{type:Boolean,default:!0},isDemoMode:{type:Boolean,default:!1}},data(){return{username:"",password:"",rules:{username:[So],password:[So]},submitted:!1}},computed:{submitUrl(){return A("/auth/validate")}},beforeMount(){setTimeout((()=>{P()}),12e5)},methods:{onSubmit(){this.submitted||(this.submitted=!0,this.$refs.loginForm.$el.submit())},navigateUrl(){U("/auth/requestPasswordResetCode")},goToRegistrationPage(){U("/auth/register")}}};const JZ=(0,i.Z)(YZ,[["render",FZ],["__scopeId","data-v-d003021e"]]);var XZ=JZ;const KZ={class:"register-container"},eQ={class:"register-wrapper"},tQ={class:"orangehrm-card-container"},oQ=["value"],aQ={class:"orangehrm-login-forgot"},lQ={class:"orangehrm-login-footer"};function nQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("login-branding"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form-actions"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",KZ,[(0,a.createVNode)(i,{"img-src":o.loginBannerSrc},null,8,["img-src"]),(0,a.createElementVNode)("div",eQ,[(0,a.createElementVNode)("div",tQ,[(0,a.createVNode)(h,{ref:"registerForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Create Account ")])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(s,{tag:"h6",class:"register-subheading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Organization Details ")])),_:1}),(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,oQ),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.organizationName,"onUpdate:modelValue":t[0]||(t[0]=e=>n.organizationName=e),label:"Organization Name",required:"",name:"organizationName",rules:n.rules.organizationName,placeholder:"Organization Name",autofocus:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.countryCode,"onUpdate:modelValue":t[1]||(t[1]=e=>n.countryCode=e),label:"Country",name:"countryCode",required:"",type:"select",options:o.countries,rules:n.rules.countryCode},null,8,["modelValue","options","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(s,{tag:"h6",class:"register-subheading"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Admin User ")])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.firstName,"onUpdate:modelValue":t[2]||(t[2]=e=>n.firstName=e),name:"firstName",rules:n.rules.firstName,placeholder:"First Name",label:"First Name",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.lastName,"onUpdate:modelValue":t[3]||(t[3]=e=>n.lastName=e),name:"lastName",rules:n.rules.lastName,placeholder:"Last Name",label:"Last Name"},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.email,"onUpdate:modelValue":t[4]||(t[4]=e=>n.email=e),name:"email",rules:n.rules.email,label:"Email",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.password,"onUpdate:modelValue":t[5]||(t[5]=e=>n.password=e),type:"password",name:"password",label:"Password",rules:n.rules.password,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.confirmPassword,"onUpdate:modelValue":t[6]||(t[6]=e=>n.confirmPassword=e),name:"confirmPassword",type:"password",label:"Confirm Password",rules:n.rules.passwordConfirm,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(p,{class:"register-button-wrapper"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"register-button orangehrm-forgot-password-button--reset","display-type":"secondary",size:"large",label:"Create Account",type:"submit"})])),_:1}),(0,a.createElementVNode)("div",aQ,[(0,a.createVNode)(s,{class:"orangehrm-login-forgot-header",type:"button",onClick:r.goToLoginPage},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.login"))+"? ",1)])),_:1},8,["onClick"])])])),_:1},8,["action","onSubmitValid"])])]),(0,a.createElementVNode)("div",lQ,[(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])])}var rQ={name:"Register",components:{"login-branding":rB},props:{error:{type:Object,default:()=>null},loginBannerSrc:{type:String,required:!0},token:{type:String,required:!0},countries:{type:Array,default:Array.from([])},isDemoMode:{type:Boolean,default:!1}},setup(){const e=new q(window.appGlobal.baseUrl,"/auth/register");return{http:e}},data(){return{organizationName:"",countryCode:"",isUsernameValid:!1,firstName:"",lastName:"",email:"",password:"",confirmPassword:"",registrationConsent:!0,rules:{organizationName:[So,Do(100)],countryCode:[So],firstName:[So,Do(30)],lastName:[So,Do(30)],email:[So,Do(50),Qo,e=>!!e&&this.isUsernameValid||"This email is already taken"],password:[So,Do(64)],passwordConfirm:[So,Do(64),e=>!!e&&e===this.password||"Passwords do not match"]}}},computed:{submitUrl(){return A("/auth/signup")},username(){return this.email}},watch:{username:function(e){new q("/installer/index.php").http.post("/installer/api/validate-username",{type:"username",value:e}).then((({data:e})=>{this.isUsernameValid=e.status}))}},methods:{onSubmit(){console.log(this.$refs.registerForm.$el),this.$refs.registerForm.$el.submit()},goToLoginPage(){U("/auth/login")},testFields(){this.organizationName="Test Org",this.firstName="James",this.lastName="Essien",this.email="james@example.com",this.password="56$$bWsS5v6e7Ml6",this.confirmPassword="56$$bWsS5v6e7Ml6"}}};const iQ=(0,i.Z)(rQ,[["render",nQ],["__scopeId","data-v-76fa23d8"]]);var sQ=iQ;function dQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-alert");return(0,a.openBlock)(),(0,a.createBlock)(i,{show:!0,type:"error",message:e.$t("auth.credential_required")},null,8,["message"])}var cQ={components:{"oxd-alert":n.OxdAlert}};const mQ=(0,i.Z)(cQ,[["render",dQ]]);var uQ=mQ;const pQ={class:"orangehrm-forgot-password-container"},hQ={class:"orangehrm-forgot-password-wrapper"},gQ={class:"orangehrm-card-container"},vQ=["value"],fQ={class:"orangehrm-forgot-password-buttons"};function yQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("card-note"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("password-strength-indicator"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",pQ,[(0,a.createElementVNode)("div",hQ,[(0,a.createElementVNode)("div",gQ,[(0,a.createVNode)(h,{ref:"resetForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.reset_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(d,{"note-text":e.$t("auth.set_new_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,vQ),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{value:o.username,label:e.$t("auth.username"),readonly:"",name:"username","label-icon":"person"},null,8,["value","label"])])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-forgot-password-row"},{default:(0,a.withCtx)((()=>[n.user.newPassword?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"password-strength":l.passwordStrength},null,8,["password-strength"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{modelValue:n.user.newPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.newPassword=e),rules:n.rules.newPassword,label:e.$t("auth.new_password"),placeholder:e.$t("auth.password"),name:"password",type:"password","label-icon":"key",autocomplete:"off"},null,8,["modelValue","rules","label","placeholder"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.user.confirmPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.confirmPassword=e),rules:n.rules.confirmPassword,placeholder:e.$t("auth.password"),label:e.$t("general.confirm_password"),type:"password","label-icon":"key",autocomplete:"off",name:"confirmPassword"},null,8,["modelValue","rules","placeholder","label"])])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",fQ,[(0,a.createVNode)(p,{label:e.$t("general.save"),size:"large",type:"submit","display-type":"secondary",class:"orangehrm-forgot-password-button"},null,8,["label"])])])),_:1},8,["action","onSubmitValid"])])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}function CQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon");return(0,a.openBlock)(),(0,a.createBlock)(i,{class:(0,a.normalizeClass)({"orangehrm-card-note":!0,"orangehrm-card-note--background":o.hasNote,"orangehrm-card-note--icon":o.hasNoteIcon})},{default:(0,a.withCtx)((()=>[o.hasNote?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-sub-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.note"))+": ",1)])),_:1})):(0,a.createCommentVNode)("",!0),o.hasNoteIcon?((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,tag:"span",class:"orangehrm-card-note-icon"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{name:"exclamation-triangle",class:"orangehrm-card-icon"})])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(i,{class:(0,a.normalizeClass)({"orangehrm-card-note-text":o.hasNoteIcon})},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.noteText),1)])),_:1},8,["class"])])),_:1},8,["class"])}var bQ={name:"CardNote",components:{"oxd-icon":n.OxdIcon},props:{noteText:{type:String,required:!0},hasNote:{type:Boolean,default:!1},hasNoteIcon:{type:Boolean,required:!1}}};const VQ=(0,i.Z)(bQ,[["render",CQ],["__scopeId","data-v-58e596ce"]]);var xQ=VQ,wQ={name:"ResetPassword",components:{"card-note":xQ,"password-strength-indicator":Vl},props:{username:{type:String,required:!0},token:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,""),{passwordStrength:t,validatePassword:o}=fl(e);return{http:e,passwordStrength:t,validatePassword:o}},data(){return{user:{username:"",newPassword:"",confirmPassword:""},rules:{newPassword:[So,Do(64),(0,n.promiseDebounce)(this.validatePassword,500)],confirmPassword:[So,Do(64),e=>!!e&&e===this.user.newPassword||this.$t("general.passwords_do_not_match")]}}},computed:{submitUrl(){return A("/auth/resetPassword")}},methods:{onSubmit(){this.$refs.resetForm.$el.submit()}}};const NQ=(0,i.Z)(wQ,[["render",yQ],["__scopeId","data-v-3069512e"]]);var kQ=NQ;const _Q={class:"orangehrm-forgot-password-container"},SQ={class:"orangehrm-forgot-password-wrapper"},DQ={class:"orangehrm-card-container"},$Q={class:"orangehrm-login-error"},TQ=["value"],EQ=["value"],IQ={class:"orangehrm-forgot-password-buttons"};function BQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-alert"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("password-strength-indicator"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_Q,[(0,a.createElementVNode)("div",SQ,[(0,a.createElementVNode)("div",DQ,[(0,a.createVNode)(h,{ref:"resetForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.change_weak_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",$Q,[(0,a.createVNode)(d,{show:!0,message:o.invalidCode?e.$t("auth.invalid_password_reset_code"):o.error?.message||e.$t("auth.password_not_strong"),type:"error"},null,8,["message"])]),o.invalidCode?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("input",{name:"resetCode",value:o.code,type:"hidden"},null,8,TQ),(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,EQ),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{value:o.username,label:e.$t("auth.username"),readonly:"",name:"username","label-icon":"person"},null,8,["value","label"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.user.currentPassword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.user.currentPassword=e),rules:n.rules.currentPassword,label:e.$t("pim.current_password"),type:"password","label-icon":"key",autocomplete:"off",name:"currentPassword"},null,8,["modelValue","rules","label"])])),_:1}),(0,a.createVNode)(m,{class:"orangehrm-forgot-password-row"},{default:(0,a.withCtx)((()=>[n.user.newPassword?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,"password-strength":l.passwordStrength},null,8,["password-strength"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{modelValue:n.user.newPassword,"onUpdate:modelValue":t[1]||(t[1]=e=>n.user.newPassword=e),rules:n.rules.newPassword,label:e.$t("auth.new_password"),placeholder:e.$t("auth.password"),name:"password",type:"password","label-icon":"key",autocomplete:"off"},null,8,["modelValue","rules","label","placeholder"])])),_:1}),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.user.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=e=>n.user.confirmPassword=e),rules:n.rules.confirmPassword,placeholder:e.$t("auth.password"),label:e.$t("general.confirm_password"),type:"password","label-icon":"key",autocomplete:"off",name:"confirmPassword"},null,8,["modelValue","rules","placeholder","label"])])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",IQ,[(0,a.createVNode)(p,{label:e.$t("general.save"),size:"large",type:"submit","display-type":"secondary",class:"orangehrm-forgot-password-button"},null,8,["label"])])],64))])),_:1},8,["action","onSubmitValid"])])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var LQ={name:"ResetWeakPassword",components:{"password-strength-indicator":Vl,"oxd-alert":n.OxdAlert},props:{username:{type:String,required:!0},code:{type:String,required:!0},token:{type:String,required:!0},error:{type:Object,default:()=>null},invalidCode:{type:Boolean,default:()=>!1}},setup(){const e=new q(window.appGlobal.baseUrl,""),{passwordStrength:t,validatePassword:o}=fl(e);return{http:e,passwordStrength:t,validatePassword:o}},data(){return{user:{username:"",currentPassword:"",confirmPassword:""},rules:{currentPassword:[So,Do(64)],newPassword:[So,Do(64),(0,n.promiseDebounce)(this.validatePassword,500)],confirmPassword:[So,Do(64),e=>!!e&&e===this.user.newPassword||this.$t("general.passwords_do_not_match")]}}},computed:{submitUrl(){return A("/auth/resetWeakPassword")}},methods:{onSubmit(){this.$refs.resetForm.$el.submit()}}};const AQ=(0,i.Z)(LQ,[["render",BQ],["__scopeId","data-v-cae6a014"]]);var UQ=AQ;const PQ={class:"orangehrm-forgot-password-container"},qQ={class:"orangehrm-forgot-password-wrapper"},MQ={class:"orangehrm-card-container"};function FQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("card-note");return(0,a.openBlock)(),(0,a.createElementBlock)("div",PQ,[(0,a.createElementVNode)("div",qQ,[(0,a.createElementVNode)("div",MQ,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.reset_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(d,{"note-text":e.$t("auth.reset_password_token_expired_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),(0,a.createVNode)(i,{class:"orangehrm-forgot-password-reset"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:r.navigateUrl},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.click_here")),1)])),_:1},8,["onClick"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("auth.request_new_password_token")),1)])),_:1})])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var OQ={name:"ResetPasswordError",components:{"card-note":xQ},methods:{navigateUrl(){U("/auth/requestPasswordResetCode")}}};const jQ=(0,i.Z)(OQ,[["render",FQ],["__scopeId","data-v-0928170e"]]);var zQ=jQ;const RQ=e=>((0,a.pushScopeId)("data-v-3614f3e7"),e=e(),(0,a.popScopeId)(),e),GQ={class:"orangehrm-admin-access-container"},ZQ={class:"orangehrm-card-container"},QQ=RQ((()=>(0,a.createElementVNode)("br",null,null,-1))),HQ=["value"],WQ={class:"orangehrm-admin-access-button-container"},YQ=RQ((()=>(0,a.createElementVNode)("br",null,null,-1)));function JQ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-alert"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-button"),u=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",GQ,[(0,a.createElementVNode)("div",ZQ,[(0,a.createVNode)(u,{ref:"verifyForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-admin-access-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.admin_access")),1)])),_:1}),QQ,(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(n.noteContainerClass)},[(0,a.createVNode)(i,{tag:"toast-message"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.admin_access_note")),1)])),_:1})],2),(0,a.createVNode)(s,{show:null!==o.error,type:"error",message:o.error?.message},null,8,["show","message"]),(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,HQ),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"model-value":o.username,name:"username",label:e.$t("general.username"),"label-icon":"person",disabled:""},null,8,["model-value","label"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.password,"onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),name:"password",label:e.$t("general.password"),"label-icon":"key",type:"password",rules:n.rules.password,autofocus:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createElementVNode)("div",WQ,[(0,a.createVNode)(m,{class:"orangehrm-admin-access-button","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(m,{class:"orangehrm-admin-access-button","display-type":"secondary",size:"large",label:e.$t("general.confirm"),type:"submit"},null,8,["label"])])])),_:1},8,["action","onSubmitValid"])]),YQ,(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var XQ={name:"AdministratorAccess",components:{"oxd-alert":n.OxdAlert},props:{username:{type:String,required:!0},error:{type:Object,default:()=>null},token:{type:String,required:!0},backUrl:{type:String,default:null}},data(){return{password:"",rules:{password:[So]},noteClasses:{"orangehrm-admin-access-note":!0,"--padding":null===this.error},noteContainerClass:{"orangehrm-admin-access-note-container":null===this.error}}},computed:{submitUrl(){return A("/auth/adminVerify")}},methods:{onSubmit(){this.$refs.verifyForm.$el.submit()},onCancel(){U(this.backUrl)}}};const KQ=(0,i.Z)(XQ,[["render",JQ],["__scopeId","data-v-3614f3e7"]]);var eH=KQ;const tH={class:"orangehrm-forgot-password-container"},oH={class:"orangehrm-forgot-password-wrapper"},aH={class:"orangehrm-card-container"},lH=["value"],nH={class:"orangehrm-forgot-password-button-container"};function rH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("card-note"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",tH,[(0,a.createElementVNode)("div",oH,[(0,a.createElementVNode)("div",aH,[(0,a.createVNode)(p,{ref:"resetForm",method:"post",action:r.submitUrl,onSubmitValid:r.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.reset_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(d,{"note-text":e.$t("auth.username_identify_reset_note"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),(0,a.createElementVNode)("input",{name:"_token",value:o.token,type:"hidden"},null,8,lH),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),name:"username",label:e.$t("auth.username"),"label-icon":"person",rules:n.rules.username,placeholder:e.$t("auth.username")},null,8,["modelValue","label","rules","placeholder"])])),_:1}),(0,a.createVNode)(s),(0,a.createElementVNode)("div",nH,[(0,a.createVNode)(u,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--cancel","display-type":"ghost",size:"large",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(u,{class:"orangehrm-forgot-password-button orangehrm-forgot-password-button--reset","display-type":"secondary",size:"large",label:e.$t("auth.reset_password"),type:"submit"},null,8,["label"])])])),_:1},8,["action","onSubmitValid"])])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var iH={name:"RequestResetPassword",components:{"card-note":xQ},props:{token:{type:String,required:!0}},data(){return{username:"",rules:{username:[So]}}},computed:{submitUrl(){return A("/auth/requestResetPassword")}},methods:{onCancel(){U("/auth/login")},onSubmit(){this.$refs.resetForm.$el.submit()}}};const sH=(0,i.Z)(iH,[["render",rH],["__scopeId","data-v-cee5d450"]]);var dH=sH;const cH={class:"orangehrm-forgot-password-container"},mH={class:"orangehrm-forgot-password-wrapper"},uH={class:"orangehrm-card-container"};function pH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("card-note");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cH,[(0,a.createElementVNode)("div",mH,[(0,a.createElementVNode)("div",uH,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.reset_password_link_sent_successfully")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(d,{"note-text":e.$t("auth.reset_password_link_via_email"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),(0,a.createVNode)(d,{"note-text":e.$t("auth.follow_link_to_select_password"),class:"orangehrm-forgot-password-card-note"},null,8,["note-text"]),(0,a.createVNode)(d,{"note-text":e.$t("auth.email_not_receive_note"),class:"orangehrm-forgot-password-card-note","has-note":""},null,8,["note-text"])])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var hH={name:"ResetPasswordSuccess",components:{"card-note":xQ}};const gH=(0,i.Z)(hH,[["render",pH],["__scopeId","data-v-3198c915"]]);var vH=gH;const fH={class:"orangehrm-forgot-password-container"},yH={class:"orangehrm-forgot-password-wrapper"},CH={class:"orangehrm-card-container"};function bH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("card-note");return(0,a.openBlock)(),(0,a.createElementBlock)("div",fH,[(0,a.createElementVNode)("div",yH,[(0,a.createElementVNode)("div",CH,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-forgot-password-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("auth.reset_password")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(d,{"note-text":e.$t("auth.configured_receive_email_notification_note"),class:"orangehrm-forgot-password-card-note","has-note-icon":""},null,8,["note-text"]),(0,a.createVNode)(i,{class:"orangehrm-forgot-password-reset"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{tag:"span",class:"orangehrm-forgot-password-reset--link",onClick:r.navigateUrl},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.click_here")),1)])),_:1},8,["onClick"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("auth.back_to_login")),1)])),_:1})])]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])}var VH={name:"EmailConfigurationWarning",components:{"card-note":xQ},methods:{navigateUrl(){U("/auth/login")}}};const xH=(0,i.Z)(VH,[["render",bH],["__scopeId","data-v-64d8674c"]]);var wH=xH,NH={"auth-login":XZ,"auth-register":sQ,"auth-forbidden":uQ,"reset-password":kQ,"auth-admin-access":eH,"reset-weak-password":UQ,"reset-password-error":zQ,"reset-password-success":vH,"request-reset-password":dH,"email-configuration-warning":wH};function kH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("employee-attendance-widget"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("my-action-summary-widget"),c=(0,a.resolveComponent)("quick-launch-widget"),m=(0,a.resolveComponent)("buzz-latest-post-widget"),u=(0,a.resolveComponent)("employees-on-leave-widget"),p=(0,a.resolveComponent)("employee-subunit-widget"),h=(0,a.resolveComponent)("employee-location-widget"),g=(0,a.resolveComponent)("oxd-grid");return(0,a.openBlock)(),(0,a.createBlock)(g,{class:"orangehrm-dashboard-grid",cols:3},{default:(0,a.withCtx)((()=>[e.$can.read("dashboard_time_widget")?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(s,{class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d)])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c)])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m)])),_:1}),e.$can.read("dashboard_leave_widget")?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1,class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u)])),_:1})):(0,a.createCommentVNode)("",!0),e.$can.read("dashboard_subunit_widget")?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p)])),_:1})):(0,a.createCommentVNode)("",!0),e.$can.read("dashboard_location_widget")?((0,a.openBlock)(),(0,a.createBlock)(s,{key:3,class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})}const _H=["title"];function SH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-grid-item"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(m,{icon:"lightning-charge-fill",empty:r.isEmpty,loading:n.isLoading,title:e.$t("dashboard.quick_launch")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3,class:"orangehrm-quick-launch"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.sortedActions,(e=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:e,class:"orangehrm-quick-launch-card"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{"icon-type":"svg",class:"orangehrm-quick-launch-icon",name:e.icon,title:e.label,onClick:t=>r.onClickAction(e.path)},null,8,["name","title","onClick"]),(0,a.createElementVNode)("div",{class:"orangehrm-quick-launch-heading",title:e.label},[(0,a.createVNode)(s,{tag:"p",class:"--text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024)],8,_H)])),_:2},1024)))),128))])),_:1})])),_:1},8,["empty","loading","title"])}const DH={class:"orangehrm-dashboard-widget-header"},$H={class:"orangehrm-dashboard-widget-name"},TH={key:0,class:"orangehrm-dashboard-widget-body-nocontent"},EH=["src"];function IH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-loading-spinner"),m=(0,a.resolveComponent)("oxd-sheet");return(0,a.openBlock)(),(0,a.createBlock)(m,{gutters:!1,class:"orangehrm-dashboard-widget"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",DH,[(0,a.createElementVNode)("div",$H,[(0,a.createVNode)(i,{name:o.icon,type:o.iconType,class:"orangehrm-dashboard-widget-icon"},null,8,["name","type"]),(0,a.createVNode)(s,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1})]),(0,a.renderSlot)(e.$slots,"action",{},void 0,!0)]),(0,a.createVNode)(d),o.loading?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,class:"orangehrm-dashboard-widget-loader"})):((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,ref:"widgetRef",class:(0,a.normalizeClass)(l.widgetBodyClasses)},[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0),o.empty?((0,a.openBlock)(),(0,a.createElementBlock)("div",TH,[(0,a.createElementVNode)("img",{src:l.defaultPic,alt:"No Content",class:"orangehrm-dashboard-widget-img"},null,8,EH),(0,a.createVNode)(s,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.emptyText||e.$t("dashboard.not_available")),1)])),_:1})])):(0,a.createCommentVNode)("",!0)],2))])),_:3})}var BH={name:"BaseWidget",components:{"oxd-sheet":n.OxdSheet,"oxd-icon":n.OxdIcon,"oxd-loading-spinner":n.OxdSpinner},props:{icon:{type:String,required:!0},title:{type:String,required:!0},loading:{type:Boolean,default:!1},empty:{type:Boolean,default:!1},emptyText:{type:String,default:null},iconType:{type:String,default:void 0}},setup(){const e=(0,a.ref)(),t=`${window.appGlobal.publicPath}/images/dashboard_empty_widget_watermark.png`,o=(0,a.computed)((()=>({"orangehrm-dashboard-widget-body":!0,"--scroll-visible":e.value?.scrollHeight>e.value?.clientHeight})));return{widgetRef:e,defaultPic:t,widgetBodyClasses:o}}};const LH=(0,i.Z)(BH,[["render",IH],["__scopeId","data-v-fcab0262"]]);var AH=LH,UH={name:"QuickLaunchWidget",components:{"base-widget":AH},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/shortcuts");return{http:e}},data(){return{isLoading:!1,quickLaunchActions:[]}},computed:{isEmpty(){return 0===this.quickLaunchActions.length},sortedActions(){return[...this.quickLaunchActions].sort(((e,t)=>e.order-t.order))}},beforeMount(){this.isLoading=!0;const e={"leave.assign_leave":{order:1,icon:"leaveassign",label:this.$t("leave.assign_leave"),path:"/leave/assignLeave"},"leave.leave_list":{order:2,icon:"leavelist",label:this.$t("leave.leave_list"),path:"/leave/viewLeaveList"},"time.employee_timesheet":{order:3,icon:"timesheets",label:this.$t("general.timesheets"),path:"/time/viewEmployeeTimesheet"},"leave.apply_leave":{order:4,icon:"leaveapply",label:this.$t("leave.apply_leave"),path:"/leave/applyLeave"},"leave.my_leave":{order:5,icon:"myleaves",label:this.$t("general.my_leave"),path:"/leave/viewMyLeaveList"},"time.my_timesheet":{order:6,icon:"mytimesheet",label:this.$t("time.my_timesheet"),path:"/time/viewMyTimesheet"}};this.http.getAll().then((t=>{const{data:o}=t.data;for(const a in o)o[a]&&this.quickLaunchActions.push(e[a])})).finally((()=>{this.isLoading=!1}))},methods:{onClickAction(e){e&&U(e)}}};const PH=(0,i.Z)(UH,[["render",SH],["__scopeId","data-v-6321cefe"]]);var qH=PH;const MH={class:"orangehrm-buzz-widget-header-text"},FH=["src"];function OH(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("video-frame"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(p,{icon:"camera-fill",empty:l.isEmpty,loading:l.isLoading,title:e.$t("dashboard.buzz_latest_posts"),"empty-text":e.$t("dashboard.no_posts_added")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"orangehrm-buzz-widget",cols:1},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(l.posts,(e=>((0,a.openBlock)(),(0,a.createBlock)(m,{key:e,class:"orangehrm-buzz-widget-card"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",{class:"orangehrm-buzz-widget-header",onClick:t[0]||(t[0]=(...e)=>l.onClickPost&&l.onClickPost(...e))},[(0,a.createVNode)(i,{employee:e.employee},null,8,["employee"]),(0,a.createElementVNode)("div",MH,[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-widget-header-emp"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.employeeFullName),1)])),_:2},1024),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-widget-header-time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.dateTime),1)])),_:2},1024)])]),(0,a.createVNode)(d,{class:"orangehrm-buzz-widget-divider"}),e.text?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,tag:"p",class:"orangehrm-buzz-widget-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.text),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),e.postImgSrc?((0,a.openBlock)(),(0,a.createElementBlock)("img",{key:1,src:e.postImgSrc,class:"orangehrm-buzz-widget-picture"},null,8,FH)):(0,a.createCommentVNode)("",!0),e.postVideoSrc?((0,a.openBlock)(),(0,a.createBlock)(c,{key:2,"video-src":e.postVideoSrc},null,8,["video-src"])):(0,a.createCommentVNode)("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["empty","loading","title","empty-text"])}const jH={class:"orangehrm-buzz-video"},zH=["src"];function RH(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",jH,[(0,a.createElementVNode)("iframe",{src:r.embedURL,frameborder:"0",class:"orangehrm-buzz-video-frame",title:"OrangeHRM buzz video frame",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,zH)])}var GH={name:"VideoFrame",props:{videoSrc:{type:String,required:!0}},computed:{embedURL(){return new String(this.videoSrc).trim()}}};const ZH=(0,i.Z)(GH,[["render",RH],["__scopeId","data-v-2cbd4256"]]);var QH=ZH;function HH(e){const t=(t,o=0,a=!1)=>e.request({method:"GET",url:`/api/v2/buzz/shares/${t}/comments`,params:{limit:o,...a&&{model:"detailed"}}}),o=(t,o)=>e.request({method:"POST",url:`/api/v2/buzz/shares/${t}/comments`,data:{text:o}}),a=(t,o,a)=>e.request({method:"PUT",url:`/api/v2/buzz/shares/${t}/comments/${o}`,data:{text:a}}),l=(t,o)=>e.request({method:"DELETE",url:`/api/v2/buzz/shares/${t}/comments/${o}`}),n=t=>e.request({method:"GET",url:`/api/v2/buzz/shares/${t}/likes`}),r=(t,o,a,l)=>e.request({method:"GET",url:"/api/v2/buzz/feed",params:{limit:t,offset:o,sortOrder:a,sortField:l}}),i=(t,o)=>e.request({method:o?"DELETE":"POST",url:`/api/v2/buzz/shares/${t}/likes`}),s=(t,o)=>e.request({method:o?"DELETE":"POST",url:`/api/v2/buzz/comments/${t}/likes`}),d=t=>e.request({method:"DELETE",url:`/api/v2/buzz/shares/${t}`}),c=(t,o)=>("photo"===o.type&&delete o["link"],"video"===o.type&&(delete o["photos"],delete o["deletedPhotos"]),"text"===o.type&&(delete o["link"],delete o["photos"]),e.request({method:"PUT",url:`/api/v2/buzz/posts/${t}`,data:{...o},params:{model:"detailed"}})),m=(t,o)=>e.request({method:"PUT",url:`/api/v2/buzz/shares/${t}`,data:{text:o},params:{model:"detailed"}});return{fetchPosts:r,updatePost:c,deletePost:d,updatePostLike:i,fetchPostLikes:n,savePostComment:o,updateSharedPost:m,updatePostComment:a,deletePostComment:l,fetchPostComments:t,updateCommentLike:s}}const WH={class:"orangehrm-buzz-profile-image"},YH=["src"];function JH(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",WH,[(0,a.createElementVNode)("img",{alt:"profile picture",src:r.imageSrc},null,8,YH)])}var XH={name:"ProfileImage",props:{employee:{type:Object,required:!0}},computed:{imageSrc(){return`../pim/viewPhoto/empNumber/${this.employee.empNumber}`}}};const KH=(0,i.Z)(XH,[["render",JH],["__scopeId","data-v-7d93b59a"]]);var eW=KH,tW={name:"BuzzLatestPostWidget",components:{"base-widget":AH,"video-frame":QH,"profile-image":eW},setup(){const e=(0,a.ref)([]),t=(0,a.ref)(!1),{locale:o}=pt(),{jsDateFormat:l,jsTimeFormat:n}=Ae(),{$tEmpName:r}=il(),{fetchPosts:i}=HH(new q(window.appGlobal.baseUrl,"")),s=(0,a.computed)((()=>0===e.value.length)),d=()=>U("/buzz/viewBuzz");return(0,a.onBeforeMount)((()=>{t.value=!0,i(5,0,"DESC","share.createdAtUtc").then((t=>{const{data:a}=t.data;e.value=a.map((e=>{const{employee:t,createdDate:a,createdTime:i,originalPost:s}=e,d=e.video?.link||null,c=Xe(`${a} ${i} +00:00`,"yyyy-MM-dd HH:mm xxx"),m=Ke(c,`${l} ${n}`,{locale:o}),u=r(t,{includeMiddle:!0,excludePastEmpTag:!1}),p=Array.isArray(e?.photoIds)?`${window.appGlobal.baseUrl}/buzz/photo/${e.photoIds[0]}`:null,h=s?s.text:e.text;return{...e,text:h,dateTime:m,postImgSrc:p,postVideoSrc:d,employeeFullName:u}}))})).finally((()=>{t.value=!1}))})),{posts:e,isEmpty:s,isLoading:t,onClickPost:d}}};const oW=(0,i.Z)(tW,[["render",OH],["__scopeId","data-v-5021c2bc"]]);var aW=oW;function lW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-pie-chart"),s=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(s,{icon:"pie-chart-fill",loading:n.isLoading,title:e.$t("dashboard.employee_distribution_by_sub_unit")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{data:n.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])])),_:1},8,["loading","title"])}var nW={name:"EmployeeSubunitWidget",components:{"base-widget":AH,"oxd-pie-chart":n.OxdPieChart},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/employees/subunit");return{http:e}},data(){return{dataset:[],isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t,meta:o}=e.data,a=[n.CHART_COLORS.COLOR_HEAT_WAVE,n.CHART_COLORS.COLOR_CHROME_YELLOW,n.CHART_COLORS.COLOR_YELLOW_GREEN,n.CHART_COLORS.COLOR_MOUNTAIN_MEADOW,n.CHART_COLORS.COLOR_PACIFIC_BLUE,n.CHART_COLORS.COLOR_BLEU_DE_FRANCE,n.CHART_COLORS.COLOR_MAJORELLE_BLUE,n.CHART_COLORS.COLOR_MEDIUM_ORCHID,n.CHART_COLORS.COLOR_FANDANGO_PINK];this.dataset=t.map(((e,t)=>!!e.count&&{value:e.count,color:a[t],label:e.subunit.name})).filter((e=>e)),o?.otherEmployeeCount&&this.dataset.push({value:o.otherEmployeeCount,color:n.CHART_COLORS.COLOR_FANDANGO_PINK,label:this.$t("pim.other")}),o?.unassignedEmployeeCount&&this.dataset.push({value:o.unassignedEmployeeCount,color:n.CHART_COLORS.COLOR_TART_ORANGE,label:this.$t("dashboard.unassigned")})})).finally((()=>{this.isLoading=!1}))}};const rW=(0,i.Z)(nW,[["render",lW],["__scopeId","data-v-8c1519ac"]]);var iW=rW;const sW={key:0,class:"orangehrm-todo-list"},dW={key:0,class:"orangehrm-todo-list-item"},cW={key:1,class:"orangehrm-todo-list-item"},mW={key:2,class:"orangehrm-todo-list-item"},uW={key:3,class:"orangehrm-todo-list-item"},pW={key:4,class:"orangehrm-todo-list-item"};function hW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(d,{icon:"list-check",empty:r.isEmpty,"empty-text":r.emptyText,loading:e.isLoading,title:e.$t("dashboard.my_actions")},{default:(0,a.withCtx)((()=>[n.myActions.length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",sW,[n.leaveRequestCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",dW,[(0,a.createVNode)(i,{class:"orangehrm-report-icon",name:"attendanceAlt","icon-type":"svg","display-type":"success",onClick:r.onClickPendingLeave},null,8,["onClick"]),(0,a.createVNode)(s,{tag:"p",onClick:r.onClickPendingLeave},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.n_pending_leave_request",{pendingActionsCount:n.leaveRequestCount})),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0),n.timeSheetCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",cW,[(0,a.createVNode)(i,{class:"orangehrm-report-icon",name:"timeAlt","icon-type":"svg","display-type":"warn",onClick:r.onClickPendingTimesheet},null,8,["onClick"]),(0,a.createVNode)(s,{tag:"p",onClick:r.onClickPendingTimesheet},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.n_pending_time_sheet",{pendingActionsCount:n.timeSheetCount})),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0),n.reviewCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",mW,[(0,a.createVNode)(i,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:r.onClickPendingReview},null,8,["onClick"]),(0,a.createVNode)(s,{tag:"p",onClick:r.onClickPendingReview},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.n_pending_performance_evaluate",{pendingActionsCount:n.reviewCount})),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0),n.selfReviewCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",uW,[(0,a.createVNode)(i,{class:"orangehrm-report-icon",name:"appraisals","icon-type":"svg","display-type":"danger",onClick:r.onClickPendingReview},null,8,["onClick"]),(0,a.createVNode)(s,{tag:"p",onClick:r.onClickSelfReview},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.n_pending_self_review",{pendingActionsCount:n.selfReviewCount})),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0),n.interviewCount>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",pW,[(0,a.createVNode)(i,{class:"orangehrm-report-icon",name:"interview","icon-type":"svg","display-type":"info",onClick:r.onClickPendingInterview},null,8,["onClick"]),(0,a.createVNode)(s,{tag:"p",onClick:r.onClickPendingInterview},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.n_pending_candidate_interview",{pendingActionsCount:n.interviewCount})),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])),_:1},8,["empty","empty-text","loading","title"])}var gW={name:"MyActionSummaryWidget",components:{"base-widget":AH},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/employees/action-summary");return{http:e}},data(){return{myActions:[],leaveRequestCount:0,timeSheetCount:0,reviewCount:0,selfReviewCount:0,interviewCount:0}},computed:{isEmpty(){return 0===this.myActions.length},emptyText(){return this.$t("dashboard.no_pending_actions")}},beforeMount(){this.isLoading=!1,this.http.getAll().then((e=>{const{data:t}=e.data;this.myActions=t.map((e=>{const{group:t,pendingActionCount:o}=e;"Leave Requests To Approve"===t&&(this.leaveRequestCount=o),"Timesheets To Approve"===t&&(this.timeSheetCount=o),"Pending Appraisal Reviews"===t&&(this.reviewCount=o),"Pending Self Reviews"===t&&(this.selfReviewCount=o),"Candidates To Interview"===t&&(this.interviewCount=o)}))})).finally((()=>{this.isLoading=!1}))},methods:{onClickPendingLeave(){U("/leave/viewLeaveList")},onClickPendingTimesheet(){U("/time/viewEmployeeTimesheet")},onClickPendingReview(){U("/performance/searchEvaluatePerformanceReview")},onClickPendingInterview(){U("/recruitment/viewCandidates",void 0,{statusId:4})},onClickSelfReview(){U("/performance/myPerformanceReview")}}};const vW=(0,i.Z)(gW,[["render",hW],["__scopeId","data-v-267ef1b2"]]);var fW=vW;function yW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-pie-chart"),s=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(s,{icon:"pie-chart-fill",loading:n.isLoading,title:e.$t("dashboard.employee_distribution_by_location")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{data:n.dataset,"aspect-ratio":!1,"custom-legend":!0,"custom-tooltip":!0,"wrapper-classes":"emp-distrib-chart"},null,8,["data"])])),_:1},8,["loading","title"])}var CW={name:"EmployeeLocationWidget",components:{"base-widget":AH,"oxd-pie-chart":n.OxdPieChart},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/employees/locations");return{http:e}},data(){return{dataset:[],isLoading:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t,meta:o}=e.data,a=[n.CHART_COLORS.COLOR_HEAT_WAVE,n.CHART_COLORS.COLOR_CHROME_YELLOW,n.CHART_COLORS.COLOR_YELLOW_GREEN,n.CHART_COLORS.COLOR_MOUNTAIN_MEADOW,n.CHART_COLORS.COLOR_PACIFIC_BLUE,n.CHART_COLORS.COLOR_BLEU_DE_FRANCE,n.CHART_COLORS.COLOR_MAJORELLE_BLUE,n.CHART_COLORS.COLOR_MEDIUM_ORCHID,n.CHART_COLORS.COLOR_FANDANGO_PINK];this.dataset=t.map(((e,t)=>!!e.count&&{value:e.count,color:a[t],label:e.location.name})).filter((e=>e)),o?.otherEmployeeCount&&this.dataset.push({value:o.otherEmployeeCount,color:n.CHART_COLORS.COLOR_FANDANGO_PINK,label:this.$t("pim.other")}),o?.unassignedEmployeeCount&&this.dataset.push({value:o.unassignedEmployeeCount,color:n.CHART_COLORS.COLOR_TART_ORANGE,label:this.$t("dashboard.unassigned")})})).finally((()=>{this.isLoading=!1}))}};const bW=(0,i.Z)(CW,[["render",yW],["__scopeId","data-v-f6125ed6"]]);var VW=bW;const xW={class:"orangehrm-leave-card-profile-image"},wW=["src"],NW={class:"orangehrm-leave-card-details"};function kW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("base-widget"),c=(0,a.resolveComponent)("employees-on-leave-config-modal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(d,{icon:"leaveAlt","icon-type":"svg",class:"emp-leave-chart",empty:r.isEmpty,"empty-text":r.emptyText,loading:n.isLoading,title:e.$t("dashboard.employees_on_leave_today")},(0,a.createSlots)({default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.leaveList,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"orangehrm-leave-card"},[(0,a.createElementVNode)("div",xW,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:`../pim/viewPhoto/empNumber/${e.empNumber}`},null,8,wW)]),(0,a.createElementVNode)("div",NW,[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-leave-card-emp-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.empName),1)])),_:2},1024),e.leaveType?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,tag:"p",class:"orangehrm-leave-card-leave-details"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.leaveType),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-leave-card-emp-id"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.employeeId),1)])),_:2},1024)])))),128))])),_:2},[e.$can.update("dashboard_employees_on_leave_today_config")?{name:"action",fn:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"orangehrm-leave-card-icon",name:"gear-fill",onClick:r.onClickConfig},null,8,["onClick"])])),key:"0"}:void 0]),1032,["empty","empty-text","loading","title"]),n.showConfigModal?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,onClose:r.onConfigModalClose},null,8,["onClose"])):(0,a.createCommentVNode)("",!0)],64)}const _W={class:"orangehrm-modal-header"},SW={class:"orangehrm-config-title"};function DW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",_W,[(0,a.createVNode)(i,{type:"svg",name:"leaveAlt"}),(0,a.createElementVNode)("div",SW,[(0,a.createVNode)(s,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.employees_on_leave_today")),1)])),_:1}),(0,a.createVNode)(s,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.configurations")),1)])),_:1})])]),(0,a.createVNode)(d),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{class:"orangehrm-config-checkbox"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.showAccessibleEmployeesOnly,"onUpdate:modelValue":t[0]||(t[0]=e=>n.showAccessibleEmployeesOnly=e),type:"switch",label:e.$t("dashboard.only_show_accessible_employees_on_leave_for_other_users")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var $W={name:"EmployeesOnLeaveConfigModal",components:{"oxd-icon":n.OxdIcon,"oxd-dialog":n.OxdDialog},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/config/employee-on-leave-today");return{http:e}},data(){return{isLoading:!1,showAccessibleEmployeesOnly:!1}},beforeMount(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t}=e.data;this.showAccessibleEmployeesOnly=t.showOnlyAccessibleEmployeesOnLeaveToday})).finally((()=>this.isLoading=!1))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",data:{showOnlyAccessibleEmployeesOnLeaveToday:this.showAccessibleEmployeesOnly}}).then((()=>{this.$toast.updateSuccess(),this.onCancel()}))},onCancel(){this.$emit("close",!0)}}};const TW=(0,i.Z)($W,[["render",DW],["__scopeId","data-v-729478c0"]]);var EW=TW,IW={name:"EmployeesOnLeaveWidget",components:{"oxd-icon":n.OxdIcon,"base-widget":AH,"employees-on-leave-config-modal":EW},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/employees/leaves"),{$tEmpName:t}=il();return{http:e,tEmpName:t}},data(){return{leaveList:[],isLoading:!1,leavePeriod:null,showConfigModal:!1}},computed:{isEmpty(){return 0===this.leaveList.length},emptyText(){return this.leavePeriod?this.$t("dashboard.no_employees_are_on_leave_today"):this.$t("dashboard.leave_period_not_defined")}},beforeMount(){this.isLoading=!0,this.http.getAll({date:Ke(Je(),"yyyy-MM-dd")}).then((e=>{const{data:t,meta:o}=e.data;this.leaveList=t.map((e=>{const{employee:t,leaveType:o,duration:a}=e;let l=o?.name;return l&&"half_day_morning"===a&&(l+=` (${this.$t("leave.half_day_morning")})`),l&&"half_day_afternoon"===a&&(l+=` (${this.$t("leave.half_day_evening")})`),l&&"specify_time"===a&&(l+=` (${e.startTime} - ${e.endTime})`),{leaveType:l,empNumber:t.empNumber,employeeId:t.employeeId,empName:this.tEmpName(t,{includeMiddle:!1,excludePastEmpTag:!1})}})),this.leavePeriod=o?.leavePeriodDefined})).finally((()=>{this.isLoading=!1}))},methods:{onClickConfig(){this.showConfigModal=!0},onConfigModalClose(){this.showConfigModal=!1}}};const BW=(0,i.Z)(IW,[["render",kW],["__scopeId","data-v-0bbde4fe"]]);var LW=BW;const AW={class:"orangehrm-attendance-card"},UW={class:"orangehrm-attendance-card-profile"},PW={class:"orangehrm-attendance-card-profile-image"},qW=["src"],MW={class:"orangehrm-attendance-card-profile-record"},FW={class:"orangehrm-attendance-card-bar"},OW={class:"orangehrm-attendance-card-summary"},jW={class:"orangehrm-attendance-card-summary-week"},zW={class:"orangehrm-attendance-card-summary-total"};function RW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-icon"),m=(0,a.resolveComponent)("oxd-bar-chart"),u=(0,a.resolveComponent)("base-widget");return(0,a.openBlock)(),(0,a.createBlock)(u,{icon:"clock-fill",loading:n.isLoading,title:e.$t("dashboard.time_at_work")},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",AW,[(0,a.createElementVNode)("div",UW,[(0,a.createElementVNode)("div",PW,[(0,a.createElementVNode)("img",{alt:"profile picture",class:"employee-image",src:`../pim/viewPhoto/empNumber/${n.empNumber}`},null,8,qW)]),(0,a.createElementVNode)("div",MW,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-card-state"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.lastState),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-card-details"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.lastRecord),1)])),_:1})])]),(0,a.createElementVNode)("div",FW,[(0,a.createVNode)(i,{tag:"span",class:"orangehrm-attendance-card-fulltime"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(n.dayTotal.hours)+"h",1),(0,a.createTextVNode)(),(0,a.createElementVNode)("b",null,(0,a.toDisplayString)(n.dayTotal.minutes)+"m",1),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$t("dashboard.today")),1)])),_:1}),(0,a.createVNode)(s,{name:"stopwatch","display-type":"solid-main",class:"orangehrm-attendance-card-action",onClick:r.onClickPunchIn},null,8,["onClick"])]),(0,a.createVNode)(d),(0,a.createElementVNode)("div",OW,[(0,a.createElementVNode)("div",jW,[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("dashboard.this_week")),1)])),_:1}),(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.currentWeek),1)])),_:1})]),(0,a.createElementVNode)("div",zW,[(0,a.createVNode)(c,{name:"stopwatch",class:"orangehrm-attendance-card-icon"}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-attendance-card-fulltime"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(n.weekTotal.hours)+"h "+(0,a.toDisplayString)(n.weekTotal.minutes)+"m ",1)])),_:1})])])]),(0,a.createVNode)(m,{grid:!1,data:n.dataset,"y-axsis":!1,"aspect-ratio":!1,"wrapper-classes":"emp-attendance-chart"},null,8,["data"])])),_:1},8,["loading","title"])}var GW={name:"EmployeeAttendanceWidget",components:{"oxd-icon":n.OxdIcon,"base-widget":AH,"oxd-bar-chart":n.OxdBarChart},setup(){const{locale:e}=pt(),t=new q(window.appGlobal.baseUrl,"/api/v2/dashboard/employees/time-at-work");return{http:t,locale:e}},data(){return{dataset:[],state:null,endDate:null,userDate:null,userTime:null,startDate:null,isLoading:!1,empNumber:null,timezoneOffset:null,dayTotal:{hours:0,minutes:0},weekTotal:{hours:0,minutes:0}}},computed:{lastState(){switch(this.state){case"PUNCHED IN":return this.$t("attendance.punched_in");case"PUNCHED OUT":return this.$t("attendance.punched_out");default:return this.$t("attendance.not_punched_in")}},lastRecord(){if(!this.userDate||!this.userTime)return null;const e=Xe(`${this.userDate} ${this.userTime}`,"yyyy-MM-dd HH:mm"),t=Ke(e,"hh:mm a",{locale:this.locale});if(!(0,We.Z)(e)){const o=Ke(e,"MMM do",{locale:this.locale});return this.$t("dashboard.state_date_at_time_timezone_offset",{lastState:this.lastState,date:o,time:t,timezoneOffset:this.timezoneOffset})}return this.$t("dashboard.state_today_at_time_timezone_offset",{lastState:this.lastState,time:t,timezoneOffset:this.timezoneOffset})},currentWeek(){if(!this.startDate||!this.endDate)return null;const e=Ke(Xe(this.startDate),"MMM dd",{locale:this.locale}),t=Ke(Xe(this.endDate),"MMM dd",{locale:this.locale});return`${e} - ${t}`}},beforeMount(){this.fetchWidgetData()},methods:{onClickPunchIn(){U("/attendance/punchIn")},fetchWidgetData(){this.isLoading=!0;const e=Je(),t=(e.getTimezoneOffset()/60*-1).toFixed(4);this.http.getAll({timezoneOffset:t,currentDate:Ke(e,"yyyy-MM-dd"),currentTime:Ke(new Date,"HH:mm")}).then((e=>{const{data:t,meta:o}=e.data;this.dataset=t.map((e=>({value:e.totalTime.hours+e.totalTime.minutes/60,label:this.$t(`general.${new String(e.workDay.day).toLowerCase()}`),color:n.CHART_COLORS.COLOR_HEAT_WAVE})));const{lastAction:a,currentDay:l,currentWeek:r,currentUser:i}=o;a&&(this.state=a.state,this.userDate=a.userDate,this.userTime=a.userTime,this.timezoneOffset=a.timezoneOffset),r&&(this.weekTotal=r.totalTime,this.endDate=r.endDate?.date,this.startDate=r.startDate?.date),l&&(this.dayTotal=l.totalTime),i&&(this.empNumber=i.empNumber)})).finally((()=>{this.isLoading=!1}))}}};const ZW=(0,i.Z)(GW,[["render",RW],["__scopeId","data-v-e53df4d8"]]);var QW=ZW,HW={components:{"quick-launch-widget":qH,"buzz-latest-post-widget":aW,"employee-subunit-widget":iW,"my-action-summary-widget":fW,"employee-location-widget":VW,"employees-on-leave-widget":LW,"employee-attendance-widget":QW},mounted(){const e=new q(window.appGlobal.baseUrl,"events/push");e.create()}};const WW=(0,i.Z)(HW,[["render",kH],["__scopeId","data-v-47e79c96"]]);var YW=WW,JW={"view-dashboard":YW};function XW(e,t,o,l,n,r){const i=(0,a.resolveComponent)("post-filters"),s=(0,a.resolveComponent)("news-feed"),d=(0,a.resolveComponent)("oxd-tab-panel"),c=(0,a.resolveComponent)("upcoming-anniversaries"),m=(0,a.resolveComponent)("oxd-tab-container"),u=(0,a.resolveComponent)("oxd-grid-item"),p=(0,a.resolveComponent)("oxd-grid");return l.isMobile?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,ref:"swipeRef",modelValue:l.tabSelector,"onUpdate:modelValue":t[0]||(t[0]=e=>l.tabSelector=e),"keep-alive":!0},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{key:"buzz_newsfeed",name:e.$t("buzz.buzz_newsfeed")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{mobile:!0,employee:o.employee,"sort-field":l.sortField},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{mobile:!0,filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])])),_:1},8,["employee","sort-field"])])),_:1},8,["name"]),(0,a.createVNode)(d,{key:"buzz_anniversary",name:e.$t("buzz.upcoming_anniversaries")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c)])),_:1},8,["name"])])),_:1},8,["modelValue"])):l.width<1920?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,cols:2,class:"orangehrm-buzz-layout"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{employee:o.employee,"sort-field":l.sortField},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])])),_:1},8,["employee","sort-field"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c)])),_:1})])),_:1})):((0,a.openBlock)(),(0,a.createBlock)(p,{key:2,cols:3,class:"orangehrm-buzz-layout"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{filter:l.sortField,onUpdatePriority:l.onUpdatePriority},null,8,["filter","onUpdatePriority"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{employee:o.employee,"sort-field":l.sortField},null,8,["employee","sort-field"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c)])),_:1})])),_:1}))}var KW=o(840),eY=o.n(KW);function tY(e){let t;const o=(0,a.ref)();return(0,a.onMounted)((()=>{if(!o.value)return;t=new(eY().Manager)(o.value?.$el||o.value);const a=new(eY().Swipe);t.add(a),t.on("swipe",e)})),(0,a.onBeforeUnmount)((()=>{t?.destroy()})),{swipeContainer:o}}const oY={class:"orangehrm-buzz-newsfeed"},aY=["src"];function lY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("create-post"),d=(0,a.resolveComponent)("post-body"),c=(0,a.resolveComponent)("post-actions"),m=(0,a.resolveComponent)("post-stats"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("post-comment-container"),h=(0,a.resolveComponent)("post-container"),g=(0,a.resolveComponent)("oxd-grid-item"),v=(0,a.resolveComponent)("oxd-grid"),f=(0,a.resolveComponent)("oxd-loading-spinner"),y=(0,a.resolveComponent)("edit-post-modal"),C=(0,a.resolveComponent)("share-post-modal"),b=(0,a.resolveComponent)("photo-carousel"),V=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",oY,[(0,a.createVNode)(i,{type:"card-title",class:"orangehrm-buzz-newsfeed-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.buzz_newsfeed")),1)])),_:1}),((0,a.openBlock)(),(0,a.createBlock)(s,{key:e.posts,employee:o.employee,onRefresh:l.resetFeed},null,8,["employee","onRefresh"])),(0,a.renderSlot)(e.$slots,"default",{},void 0,!0),(0,a.createVNode)(v,{cols:1,class:"orangehrm-buzz-newsfeed-posts"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.posts,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(g,{key:e},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{post:e,onEdit:e=>l.onEdit(t),onDelete:e=>l.onDelete(t)},(0,a.createSlots)({content:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{post:e,onSelectPhoto:e=>l.onSelectPhoto(e,t)},null,8,["post","onSelectPhoto"])])),actionButton:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{post:e,onLike:e=>l.onLike(t),onShare:e=>l.onShare(t),onComment:e=>l.onComment(t)},null,8,["post","onLike","onShare","onComment"])])),postStats:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{post:e,mobile:o.mobile,onComment:e=>l.onComment(t)},null,8,["post","mobile","onComment"])])),_:2},[e.showComments?{name:"comments",fn:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"post-id":e.id,employee:o.employee,onCreate:e=>l.onCreateComment(t),onDelete:e=>l.onDeleteComment(t)},null,8,["post-id","employee","onCreate","onDelete"])])),key:"0"}:void 0]),1032,["post","onEdit","onDelete"])])),_:2},1024)))),128)),(0,a.withDirectives)((0,a.createVNode)(g,{class:"orangehrm-buzz-newsfeed-noposts"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("img",{src:l.noPostsPic,alt:"No Posts"},null,8,aY),(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.no_posts_available")),1)])),_:1})])),_:1},512),[[a.vShow,!e.isLoading&&0===e.posts.length]])])),_:1}),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(f,{key:0,class:"orangehrm-buzz-newsfeed-loader"})):(0,a.createCommentVNode)("",!0)]),e.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,employee:o.employee,data:e.editModalState.post,onClose:l.onCloseEditModal},null,8,["employee","data","onClose"])):(0,a.createCommentVNode)("",!0),e.showShareModal?((0,a.openBlock)(),(0,a.createBlock)(C,{key:1,employee:o.employee,data:e.shareModalState,onClose:l.onCloseShareModal},null,8,["employee","data","onClose"])):(0,a.createCommentVNode)("",!0),e.showPhotoCarousel?((0,a.openBlock)(),(0,a.createBlock)(b,{key:2,mobile:o.mobile,post:e.photoCarouselState.post,"photo-index":e.photoCarouselState.photoIndex,onClose:l.onClosePhotoCarousel,onLike:t[0]||(t[0]=t=>l.onLike(e.photoCarouselState.postIndex)),onCreateComment:t[1]||(t[1]=t=>l.onCreateComment(e.photoCarouselState.postIndex)),onDeleteComment:t[2]||(t[2]=t=>l.onDeleteComment(e.photoCarouselState.postIndex))},null,8,["mobile","post","photo-index","onClose"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(V,{ref:"deleteDialog",message:e.$t("buzz.post_delete_confirmation_message")},null,8,["message"])],64)}const nY={class:"orangehrm-buzz-post-body"},rY={key:1},iY=["onClick"],sY=["onClick"],dY={key:0};function cY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("video-frame"),d=(0,a.resolveComponent)("oxd-icon"),c=(0,a.resolveComponent)("photo-frame");return(0,a.openBlock)(),(0,a.createElementBlock)("div",nY,[o.post.text?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,tag:"p",class:(0,a.normalizeClass)(l.postClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.post.text),1)])),_:1},8,["class"])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-post-body-readmore",onClick:l.onClickReadMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.read_more")),1)])),_:1},8,["onClick"]),[[a.vShow,!e.readMore]]),!o.post.text||"video"!==o.post.type&&"photo"!==o.post.type?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("br",rY)),"video"===o.post.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,"video-src":o.post.video.link},null,8,["video-src"])):(0,a.createCommentVNode)("",!0),"photo"===o.post.type?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3,media:o.post.photoIds},{content:(0,a.withCtx)((({index:e})=>[3===e&&5===o.post.photoIds.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:"orangehrm-buzz-post-body-picture --more",onClick:t=>l.onClickPicture(e)},[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-post-body-more"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("+1")])),_:1}),(0,a.createVNode)(d,{class:"orangehrm-buzz-post-body-more",name:"images"})],8,iY)):((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:"orangehrm-buzz-post-body-picture",onClick:t=>l.onClickPicture(e)},null,8,sY))])),_:1},8,["media"])):(0,a.createCommentVNode)("",!0),l.originalPost?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:4},[o.post.text||"video"===o.post.type||"photo"===o.post.type?((0,a.openBlock)(),(0,a.createElementBlock)("br",dY)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-post-body-employee"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.employee),1)])),_:1}),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-post-body-date"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.dateTime),1)])),_:1}),l.originalPost.text?((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,tag:"p",class:"orangehrm-buzz-post-body-original-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.text),1)])),_:1})):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0)])}const mY=["src"];function uY(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(r.classes)},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.photos,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"orangehrm-buzz-photos-item"},[(0,a.renderSlot)(e.$slots,"content",{data:t,index:o},void 0,!0),(0,a.createElementVNode)("img",{src:t},null,8,mY)])))),128))],2)}var pY={name:"PhotoFrame",props:{media:{type:Array,required:!0}},computed:{classes(){return{"orangehrm-buzz-photos":!0,"--two-thumbnails":2===this.media.length,"--three-thumbnails":3===this.media.length,"--four-thumbnails":4===this.media.length,"--five-thumbnails":5===this.media.length}},photos(){return(this.media||[]).map((e=>{if("number"===typeof e)return`${window.appGlobal.baseUrl}/buzz/photo/${e}`;const{type:t,base64:o}=e;return`data:${t};base64,${o}`}))}}};const hY=(0,i.Z)(pY,[["render",uY],["__scopeId","data-v-1e5473e0"]]);var gY=hY,vY={name:"PostBody",components:{"oxd-icon":n.OxdIcon,"photo-frame":gY,"video-frame":QH},props:{post:{type:Object,required:!0}},emits:["close","selectPhoto"],setup(e,t){const{locale:o}=pt(),{jsDateFormat:l,jsTimeFormat:n}=Ae(),{$tEmpName:r}=il(),i=(0,a.reactive)({readMore:new String(e.post?.text).length<500}),s=(0,a.computed)((()=>({"orangehrm-buzz-post-body-text":!0,"--truncate":!1===i.readMore}))),d=()=>{i.readMore=!i.readMore},c=e=>{t.emit("selectPhoto",e)},m=(0,a.computed)((()=>{if(null===e.post.originalPost)return null;const{createdDate:t,createdTime:a}=e.post.originalPost,i=Xe(`${t} ${a} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:e.post.originalPost.text,employee:r(e.post.originalPost.employee,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:Ke(i,`${l} ${n}`,{locale:o})}}));return{postClasses:s,originalPost:m,onClickPicture:c,onClickReadMore:d,...(0,a.toRefs)(i)}}};const fY=(0,i.Z)(vY,[["render",cY],["__scopeId","data-v-6a53586a"]]);var yY=fY;const CY={class:"orangehrm-buzz-stats"},bY={class:"orangehrm-buzz-stats-row"},VY={class:"orangehrm-buzz-stats-row"};function xY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("post-stats-modal"),c=(0,a.resolveDirective)("click-outside");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",CY,[(0,a.createElementVNode)("div",bY,[(0,a.createVNode)(i,{name:"heart-fill",class:"orangehrm-buzz-stats-like-icon"}),(0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.likesClasses),onClick:r.onShowLikeList},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.likesCount),1)])),_:1},8,["class","onClick"]),n.showLikeList?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,type:"likes",icon:"heart-fill",mobile:o.mobile,"post-id":o.post.id,onClose:r.onClose},null,8,["mobile","post-id","onClose"])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",VY,[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-stats-active",onClick:r.onShowComments},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.commentsCount),1)])),_:1},8,["onClick"]),r.sharesCount?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)("  "),(0,a.createVNode)(s,{tag:"p",class:(0,a.normalizeClass)(r.sharesClasses),onClick:r.onShowSharesList},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.sharesCount),1)])),_:1},8,["class","onClick"])],64)):(0,a.createCommentVNode)("",!0),n.showSharesList?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,type:"shares",icon:"share-fill",mobile:o.mobile,"post-id":o.post.post.id,onClose:r.onClose},null,8,["mobile","post-id","onClose"])):(0,a.createCommentVNode)("",!0)])])),[[c,r.onClose]])}const wY={class:"orangehrm-buzz-stats-dialog-header"};function NY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-loading-spinner"),c=(0,a.resolveComponent)("oxd-sheet"),m=(0,a.resolveComponent)("oxd-icon"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-dialog");return o.mobile?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"orangehrm-buzz-stats-dialog","onUpdate:show":l.onClose},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",wY,[(0,a.createVNode)(m,{class:(0,a.normalizeClass)({"orangehrm-buzz-stats-dialog-icon":!0,"--likes":"likes"===o.type}),name:o.icon,"with-container":!0},null,8,["class","name"]),"shares"===o.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.n_share",{shareCount:e.total})),1)])),_:1})):(0,a.createCommentVNode)("",!0),"likes"===o.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:1},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.n_like",{likesCount:e.total})),1)])),_:1})):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(u),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.users,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"orangehrm-buzz-stats-dialog-employee"},[(0,a.createVNode)(i,{employee:e.employee},null,8,["employee"]),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-stats-dialog-employee-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.fullName),1)])),_:2},1024)])))),128)),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-buzz-loader"})):(0,a.createCommentVNode)("",!0)])),_:1},8,["onUpdate:show"])):((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,gutters:!1,type:"white",class:"orangehrm-buzz-stats-modal"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.users,(e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"orangehrm-buzz-stats-modal-employee"},[(0,a.createVNode)(i,{employee:e.employee},null,8,["employee"]),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-stats-modal-employee-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.fullName),1)])),_:2},1024)])))),128)),e.isLoading?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,class:"orangehrm-buzz-loader"})):(0,a.createCommentVNode)("",!0)])),_:1}))}var kY={name:"PostStatsModal",components:{"oxd-icon":n.OxdIcon,"oxd-sheet":n.OxdSheet,"oxd-dialog":n.OxdDialog,"profile-image":eW,"oxd-loading-spinner":n.OxdSpinner},props:{postId:{type:Number,required:!0},type:{type:String,required:!0},icon:{type:String,required:!0},mobile:{type:Boolean,default:!1}},emits:["close"],setup(e,t){let o;const l=10,{$tEmpName:n}=il();switch(e.type){case"likes":o=`/api/v2/buzz/shares/${e.postId}/likes`;break;case"shares":o=`/api/v2/buzz/posts/${e.postId}/shares`;break;default:break}const r=new q(window.appGlobal.baseUrl,o),i=(0,a.reactive)({total:0,offset:0,users:[],isLoading:!1}),s=()=>{i.isLoading=!0,r.getAll({limit:l,offset:i.offset}).then((e=>{const{data:t,meta:o}=e.data;if(i.total=o?.total||0,Array.isArray(t)){const e=t.map((e=>{const{employee:t}=e;return{employee:t,fullName:n(t,{includeMiddle:!1,excludePastEmpTag:!1})}}));i.users=[...i.users,...e]}})).finally((()=>i.isLoading=!1))};Gz((()=>{i.users.length>=i.total||(i.offset+=l,s())})),(0,a.onBeforeMount)((()=>s()));const d=()=>{t.emit("close")};return{onClose:d,fetchData:s,...(0,a.toRefs)(i)}}};const _Y=(0,i.Z)(kY,[["render",NY],["__scopeId","data-v-77c45dfa"]]);var SY=_Y,DY={name:"PostStats",components:{"oxd-icon":n.OxdIcon,"post-stats-modal":SY},directives:{"click-outside":n.clickOutsideDirective},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1}},emits:["comment"],data(){return{showLikeList:!1,showSharesList:!1}},computed:{likesCount(){return this.$t("buzz.n_like",{likesCount:this.post.stats?.numOfLikes||0})},sharesCount(){return null===this.post.stats?.numOfShares?null:this.$t("buzz.n_share",{shareCount:this.post.stats?.numOfShares||0})},commentsCount(){return this.$t("buzz.n_comment",{commentCount:this.post.stats?.numOfComments||0})},likesClasses(){return{"orangehrm-buzz-stats-active":this.post.stats?.numOfLikes>0}},sharesClasses(){return{"orangehrm-buzz-stats-active":this.post.stats?.numOfShares>0}}},methods:{onShowComments(){this.$emit("comment")},onShowLikeList(){this.showSharesList=!1,this.post.stats?.numOfLikes&&(this.showLikeList=!0)},onShowSharesList(){this.showLikeList=!1,this.post.stats?.numOfShares&&(this.showSharesList=!0)},onClose(){this.showLikeList=!1,this.showSharesList=!1}}};const $Y=(0,i.Z)(DY,[["render",xY],["__scopeId","data-v-096b057d"]]);var TY=$Y;const EY={class:"orangehrm-buzz-create-post-header"},IY={class:"orangehrm-buzz-create-post-header-text"},BY={class:"orangehrm-buzz-create-post-actions"};function LY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("oxd-buzz-post-input"),c=(0,a.resolveComponent)("oxd-form"),m=(0,a.resolveComponent)("oxd-divider"),u=(0,a.resolveComponent)("oxd-glass-button"),p=(0,a.resolveComponent)("oxd-sheet"),h=(0,a.resolveComponent)("share-video-modal"),g=(0,a.resolveComponent)("share-photo-modal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(p,{class:"orangehrm-buzz-create-post"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",EY,[(0,a.createVNode)(i,{employee:o.employee},null,8,["employee"]),(0,a.createElementVNode)("div",IY,[(0,a.createVNode)(c,{onSubmitValid:l.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.post,"onUpdate:modelValue":t[0]||(t[0]=e=>l.post=e),rules:l.rules,placeholder:e.$t("buzz.post_placeholder")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{type:"submit",label:e.$t("buzz.post")},null,8,["label"])])),_:1},8,["modelValue","rules","placeholder"])])),_:1},8,["onSubmitValid"])])]),(0,a.createVNode)(m),(0,a.createElementVNode)("div",BY,[(0,a.createVNode)(u,{icon:"cameraglass",label:e.$t("buzz.share_photos"),onClick:l.onClickSharePhotos},null,8,["label","onClick"]),(0,a.createVNode)(u,{icon:"videoglass",label:e.$t("buzz.share_video"),onClick:l.onClickShareVideos},null,8,["label","onClick"])])])),_:1}),l.showVideoModal?((0,a.openBlock)(),(0,a.createBlock)(h,{key:0,text:l.post,employee:o.employee,onClose:l.onCloseVideoModal},null,8,["text","employee","onClose"])):(0,a.createCommentVNode)("",!0),l.showPhotoModal?((0,a.openBlock)(),(0,a.createBlock)(g,{key:1,text:l.post,employee:o.employee,onClose:l.onClosePhotoModal},null,8,["text","employee","onClose"])):(0,a.createCommentVNode)("",!0)],64)}function AY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-buzz-post-input"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("video-frame"),c=(0,a.resolveComponent)("post-modal");return(0,a.openBlock)(),(0,a.createBlock)(c,{loading:e.isLoading,title:e.$t("buzz.share_video"),onSubmit:l.onSubmit,onClose:t[2]||(t[2]=t=>e.$emit("close",!1))},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.post.url,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.url=t),type:"textarea",rules:l.rules.url,label:e.$t("buzz.video_url"),placeholder:e.$t("buzz.paste_video_url")},null,8,["modelValue","rules","label","placeholder"]),e.embedURL?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"video-src":e.embedURL},null,8,["video-src"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","title","onSubmit"])}const UY={class:"orangehrm-modal-header"},PY={class:"orangehrm-buzz-post-modal-header"},qY={class:"orangehrm-buzz-post-modal-header-text"};function MY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("profile-image"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("oxd-form-actions"),u=(0,a.resolveComponent)("oxd-form"),p=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(p,{class:"orangehrm-dialog-modal",persistent:!0,"onUpdate:show":l.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",UY,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(u,{loading:o.loading,onSubmitValid:l.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",PY,[(0,a.createVNode)(d,{employee:o.employee},null,8,["employee"]),(0,a.createElementVNode)("div",qY,[(0,a.renderSlot)(e.$slots,"header",{},void 0,!0)])]),(0,a.renderSlot)(e.$slots,"default",{},void 0,!0),(0,a.createVNode)(m,{class:"orangehrm-buzz-post-modal-actions"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{type:"submit",disabled:o.disabled,label:o.actionLabel||e.$t("buzz.share")},null,8,["disabled","label"])])),_:1})])),_:3},8,["loading","onSubmitValid"])])),_:3},8,["onUpdate:show"])}var FY={name:"PostModal",components:{"oxd-dialog":n.OxdDialog,"profile-image":eW},props:{title:{type:String,required:!0},employee:{type:Object,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},actionLabel:{type:String,default:null,required:!1}},emits:["close","submit"],setup(e,t){const o=()=>{t.emit("submit")},a=()=>{t.emit("close")};return{onSubmit:o,onCancel:a}}};const OY=(0,i.Z)(FY,[["render",MY],["__scopeId","data-v-cbb80b9a"]]);var jY=OY,zY={name:"ShareVideoModal",components:{"post-modal":jY,"video-frame":QH,"oxd-buzz-post-input":n.OxdBuzzPostInput},props:{text:{type:String,default:null}},emits:["close"],setup(e,t){const{$t:o}=Ne(),l=new q(window.appGlobal.baseUrl,"/api/v2/buzz/posts"),r=(0,a.reactive)({post:{text:e.text||null,url:null},embedURL:null,isLoading:!1}),i={url:[So,(0,n.promiseDebounce)((async e=>{if(!e)return!0;r.embedURL=null;const t=await l.request({method:"GET",url:"/api/v2/buzz/validation/links",params:{url:e}}),{data:a}=t.data;return!0===a?.valid?(r.embedURL=a.embeddedURL,!0):o("general.invalid_video_url_message")}),500)],text:[Do(65530)]},s=()=>{r.isLoading=!0,l.create({type:"video",link:r.post.url,text:r.post.text}).then((()=>t.emit("close",!0)))};return{rules:i,onSubmit:s,...(0,a.toRefs)(r)}}};const RY=(0,i.Z)(zY,[["render",AY]]);var GY=RY;function ZY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-buzz-post-input"),s=(0,a.resolveComponent)("photo-input"),d=(0,a.resolveComponent)("post-modal");return(0,a.openBlock)(),(0,a.createBlock)(d,{loading:e.isLoading,disabled:l.isDisabled,title:e.$t("buzz.share_photos"),onSubmit:l.onSubmit,onClose:t[2]||(t[2]=t=>e.$emit("close",!1))},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{modelValue:e.post.photos,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.photos=t)},null,8,["modelValue"])])),_:1},8,["loading","disabled","title","onSubmit"])}const QY={class:"orangehrm-photo-input"},HY={class:"orangehrm-photo-input-field"};function WY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("oxd-alert"),d=(0,a.resolveComponent)("photo-upload-area"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("photo-frame");return(0,a.openBlock)(),(0,a.createElementBlock)("div",QY,[(0,a.createVNode)(s,{type:"error",show:!!l.validationMessage,message:l.validationMessage},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{name:"x",class:"orangehrm-photo-input-remove",onClick:l.onClickCloseAlert},null,8,["onClick"])])),_:1},8,["show","message"]),l.showUploadArea?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"onUpdate:modelValue":l.onFileChange},null,8,["onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",HY,[l.showUploadButton?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,type:"file",value:"","onUpdate:modelValue":l.onFileChange},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"icon-name":"file-image",label:e.$t("buzz.add_photos")},null,8,["label"])])),_:1},8,["onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(u,{media:o.modelValue},{content:(0,a.withCtx)((({index:e})=>[(0,a.createVNode)(i,{name:"x",class:"orangehrm-photo-input-remove --float",onClick:t=>l.onClickRemove(e)},null,8,["onClick"])])),_:1},8,["media"])])}const YY={class:"orangehrm-photo-upload-area"};function JY(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(d,{type:"file"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",YY,[(0,a.createVNode)(i,{class:"orangehrm-photo-upload-icon",name:"images"}),(0,a.createVNode)(s,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.add_photos")),1)])),_:1})])])),_:1})}var XY={name:"PhotoUploadArea",components:{"oxd-icon":n.OxdIcon}};const KY=(0,i.Z)(XY,[["render",JY],["__scopeId","data-v-42c23441"]]);var eJ=KY,tJ={name:"PhotoInput",components:{"oxd-alert":n.OxdAlert,"photo-frame":gY,"photo-upload-area":eJ},props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(e,t){const{$t:o}=Ne(),l=(0,a.ref)(""),n=Zo(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/x-png"]),r=Go(2097152),i=a=>{if(a)return l.value="",!0!==r(a)?l.value=o("buzz.file_size_validation_message"):!0!==n(a)?l.value=o("buzz.file_type_validation_message"):void t.emit("update:modelValue",[...e.modelValue||[],a])},s=o=>{l.value="",t.emit("update:modelValue",(e.modelValue||[]).filter(((e,t)=>o!==t)))},d=()=>{l.value=""},c=(0,a.computed)((()=>Array.isArray(e.modelValue)&&e.modelValue.length<1)),m=(0,a.computed)((()=>Array.isArray(e.modelValue)&&e.modelValue.length>0&&e.modelValue.length<5));return{onFileChange:i,onClickRemove:s,showUploadArea:c,showUploadButton:m,onClickCloseAlert:d,validationMessage:l}}};const oJ=(0,i.Z)(tJ,[["render",WY],["__scopeId","data-v-7401001c"]]);var aJ=oJ,lJ={name:"SharePhotoModal",components:{"post-modal":jY,"photo-input":aJ,"oxd-buzz-post-input":n.OxdBuzzPostInput},props:{text:{type:String,default:null}},emits:["close"],setup(e,t){const o={text:[Do(65530)]},l=new q(window.appGlobal.baseUrl,"/api/v2/buzz/posts"),n=(0,a.reactive)({post:{text:e.text||null,photos:[]},isLoading:!1}),r=()=>{n.isLoading=!0,l.create({type:"photo",text:n.post.text,photos:n.post.photos}).then((()=>t.emit("close",!0)))},i=(0,a.computed)((()=>0===n.post.photos.length));return{rules:o,onSubmit:r,isDisabled:i,...(0,a.toRefs)(n)}}};const nJ=(0,i.Z)(lJ,[["render",ZY]]);var rJ=nJ,iJ={name:"CreatePost",components:{"oxd-sheet":n.OxdSheet,"profile-image":eW,"oxd-glass-button":n.OxdGlassButton,"oxd-buzz-post-input":n.OxdBuzzPostInput,"share-video-modal":GY,"share-photo-modal":rJ},props:{employee:{type:Object,required:!0}},emits:["refresh"],setup(e,t){const o=(0,a.ref)(null),{saveSuccess:l}=ao(),n=(0,a.ref)(!1),r=(0,a.ref)(!1),i=[Do(65530)],s=new q(window.appGlobal.baseUrl,"/api/v2/buzz/posts"),d=()=>{null!==o.value&&""!==String(o.value).trim()&&s.create({type:"text",text:o.value}).then((()=>{l(),o.value=null,t.emit("refresh")}))},c=()=>{r.value=!0},m=()=>{n.value=!0},u=e=>{n.value=!1,e&&(l(),t.emit("refresh"))},p=e=>{r.value=!1,e&&(l(),t.emit("refresh"))};return{post:o,rules:i,onSubmit:d,showVideoModal:n,showPhotoModal:r,onCloseVideoModal:u,onClosePhotoModal:p,onClickSharePhotos:c,onClickShareVideos:m}}};const sJ=(0,i.Z)(iJ,[["render",LY],["__scopeId","data-v-cc1398f0"]]);var dJ=sJ;const cJ={class:"orangehrm-buzz-post-actions"};function mJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("post-like"),s=(0,a.resolveComponent)("post-comment"),d=(0,a.resolveComponent)("post-share");return(0,a.openBlock)(),(0,a.createElementBlock)("div",cJ,[(0,a.createVNode)(i,{like:o.post.liked,onClick:t[0]||(t[0]=e=>l.onClickAction("like"))},null,8,["like"]),(0,a.createVNode)(s,{onClick:t[1]||(t[1]=e=>l.onClickAction("comment"))}),(0,a.createVNode)(d,{onClick:t[2]||(t[2]=e=>l.onClickAction("share"))})])}const uJ=e=>((0,a.pushScopeId)("data-v-e149abea"),e=e(),(0,a.popScopeId)(),e),pJ=(0,a.createStaticVNode)('<g id="Group" fill="none" fill-rule="evenodd" transform="translate(467 392)" data-v-e149abea><path id="heart" class="orangehrm-heart-icon-path" d="M29.144 20.773c-.063-.13-4.227-8.67-11.44-2.59C7.63 28.795 28.94 43.256 29.143 43.394c.204-.138 21.513-14.6 11.44-25.213-7.214-6.08-11.377 2.46-11.44 2.59z" fill="#64728c" data-v-e149abea></path><g class="orangehrm-heart-icon-group7" opacity="0" transform="translate(7 6)" data-v-e149abea><circle class="orangehrm-heart-icon-oval1" fill="#9CD8C3" cx="2" cy="6" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval2" fill="#8CE8C3" cx="5" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group6" opacity="0" transform="translate(0 28)" data-v-e149abea><circle class="orangehrm-heart-icon-oval1" fill="#CC8EF5" cx="2" cy="7" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval2" fill="#91D2FA" cx="3" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group3" opacity="0" transform="translate(52 28)" data-v-e149abea><circle class="orangehrm-heart-icon-oval2" fill="#9CD8C3" cx="2" cy="7" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval1" fill="#8CE8C3" cx="4" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group2" opacity="0" transform="translate(44 6)" data-v-e149abea><circle class="orangehrm-heart-icon-oval2" fill="#CC8EF5" cx="5" cy="6" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval1" fill="#CC8EF5" cx="2" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group5" opacity="0" transform="translate(14 50)" data-v-e149abea><circle class="orangehrm-heart-icon-oval1" fill="#91D2FA" cx="6" cy="5" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval2" fill="#91D2FA" cx="2" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group4" opacity="0" transform="translate(35 50)" data-v-e149abea><circle class="orangehrm-heart-icon-oval1" fill="#F48EA7" cx="6" cy="5" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval2" fill="#F48EA7" cx="2" cy="2" r="2" data-v-e149abea></circle></g><g class="orangehrm-heart-icon-group1" opacity="0" transform="translate(24)" data-v-e149abea><circle class="orangehrm-heart-icon-oval1" fill="#9FC7FA" cx="2.5" cy="3" r="2" data-v-e149abea></circle><circle class="orangehrm-heart-icon-oval2" fill="#9FC7FA" cx="7.5" cy="2" r="2" data-v-e149abea></circle></g></g>',1),hJ=[pJ],gJ=uJ((()=>(0,a.createElementVNode)("span",{class:"orangehrm-heart-icon-circle"},null,-1)));function vJ(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)({"orangehrm-like-animation":o.like})},[((0,a.openBlock)(),(0,a.createElementBlock)("svg",{id:"heart-svg",class:"orangehrm-heart-icon",viewBox:"467 392 58 57",xmlns:"http://www.w3.org/2000/svg",onClick:t[0]||(t[0]=(...t)=>e.addLike&&e.addLike(...t))},hJ)),gJ],2)}var fJ={name:"PostLikeButton",props:{like:{type:Boolean,required:!0}}};const yJ=(0,i.Z)(fJ,[["render",vJ],["__scopeId","data-v-e149abea"]]);var CJ=yJ;function bJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createBlock)(i,{name:"share-fill","with-container":!0})}var VJ={name:"PostShareButton"};const xJ=(0,i.Z)(VJ,[["render",bJ]]);var wJ=xJ;function NJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createBlock)(i,{name:"chat-text-fill","with-container":!0})}var kJ={name:"PostCommentButton"};const _J=(0,i.Z)(kJ,[["render",NJ]]);var SJ=_J,DJ={name:"PostActions",components:{"post-like":CJ,"post-share":wJ,"post-comment":SJ},props:{post:{type:Object,required:!0}},emits:["like","comment","share"],setup(e,t){let o=!1;const{updatePostLike:a}=HH(new q(window.appGlobal.baseUrl,"")),l=l=>{switch(l){case"comment":t.emit("comment");break;case"share":t.emit("share");break;case"like":o||(o=!0,a(e.post.id,e.post.liked).then((()=>{o=!1,t.emit("like")})));break;default:break}};return{onClickAction:l}}};const $J=(0,i.Z)(DJ,[["render",mJ],["__scopeId","data-v-f9d19a8e"]]);var TJ=$J;const EJ={key:2};function IJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-buzz-post-input"),s=(0,a.resolveComponent)("video-frame"),d=(0,a.resolveComponent)("photo-frame"),c=(0,a.resolveComponent)("oxd-text"),m=(0,a.resolveComponent)("photo-input"),u=(0,a.resolveComponent)("oxd-input-field"),p=(0,a.resolveComponent)("post-modal");return(0,a.openBlock)(),(0,a.createBlock)(p,{loading:e.isLoading,title:e.$t("buzz.edit_post"),"action-label":e.$t("buzz.post"),onSubmit:l.onSubmit,onClose:t[3]||(t[3]=t=>e.$emit("close",!1))},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text},null,8,["modelValue","rules"])])),default:(0,a.withCtx)((()=>[o.data.originalPost?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},["video"===o.data.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"video-src":o.data.video.link},null,8,["video-src"])):(0,a.createCommentVNode)("",!0),"photo"===o.data.type?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,media:o.data.photoIds},null,8,["media"])):(0,a.createCommentVNode)("",!0),"video"===o.data.type||"photo"===o.data.type?((0,a.openBlock)(),(0,a.createElementBlock)("br",EJ)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{tag:"p",class:"orangehrm-buzz-share-employee"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.employee),1)])),_:1}),(0,a.createVNode)(c,{tag:"p",class:"orangehrm-buzz-share-date"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.dateTime),1)])),_:1}),l.originalPost.text?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3,tag:"p",class:"orangehrm-buzz-share-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.text),1)])),_:1})):(0,a.createCommentVNode)("",!0)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},["text"===e.post.type||"photo"===e.post.type?((0,a.openBlock)(),(0,a.createBlock)(m,{key:0,modelValue:e.post.photos,"onUpdate:modelValue":t[1]||(t[1]=t=>e.post.photos=t)},null,8,["modelValue"])):(0,a.createCommentVNode)("",!0),"video"===e.post.type?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,modelValue:e.post.video,"onUpdate:modelValue":t[2]||(t[2]=t=>e.post.video=t),type:"textarea",rules:l.rules.url,label:e.$t("buzz.video_url")},null,8,["modelValue","rules","label"])):(0,a.createCommentVNode)("",!0),e.embedURL?((0,a.openBlock)(),(0,a.createBlock)(s,{key:2,"video-src":e.embedURL},null,8,["video-src"])):(0,a.createCommentVNode)("",!0)],64))])),_:1},8,["loading","title","action-label","onSubmit"])}var BJ={name:"EditPostModal",components:{"post-modal":jY,"photo-frame":gY,"photo-input":aJ,"video-frame":QH,"oxd-buzz-post-input":n.OxdBuzzPostInput},props:{data:{type:Object,required:!0}},emits:["close"],setup(e,t){const{$t:o}=Ne(),{locale:l}=pt(),{jsDateFormat:r,jsTimeFormat:i}=Ae(),{$tEmpName:s}=il(),d=new q(window.appGlobal.baseUrl,""),{updateSuccess:c}=ao(),{updatePost:m,updateSharedPost:u}=HH(d),p=(0,a.reactive)({post:{text:e.data.text,type:e.data.type,photos:e.data.photoIds||[],video:e.data.video?.link||null},isLoading:!1,embedURL:e.data.video?.link||null}),h=()=>{let o="text";p.isLoading=!0,p.post.photos.length>0&&(o="photo"),p.post.video&&(o="video"),new Promise((t=>{e.data.originalPost?t(u(e.data.id,p.post.text)):t(m(e.data.post.id,{type:o,text:p.post.text,link:p.post.video,photos:p.post.photos.filter((e=>"object"===typeof e)),deletedPhotos:(e.data.photoIds||[]).filter((e=>-1===p.post.photos.findIndex((t=>t===e))))}))})).then((e=>{c(),t.emit("close",e.data)}))},g={url:[So,(0,n.promiseDebounce)((async e=>{if(!e)return!0;p.embedURL=null;const t=await d.request({method:"GET",url:"/api/v2/buzz/validation/links",params:{url:e}}),{data:a}=t.data;return!0===a?.valid?(p.embedURL=a.embeddedURL,!0):o("general.invalid_video_url_message")}),500)],text:[Do(65530),t=>"video"===e.data.type||p.post.photos.length>0||So(t)]},v=(0,a.computed)((()=>{const t=e.data.originalPost?.text,o=e.data.originalPost?.employee,{createdDate:a,createdTime:n}=e.data.originalPost,d=Xe(`${a} ${n} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:t,employee:s(o,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:Ke(d,`${r} ${i}`,{locale:l})}}));return{rules:g,onSubmit:h,originalPost:v,...(0,a.toRefs)(p)}}};const LJ=(0,i.Z)(BJ,[["render",IJ],["__scopeId","data-v-d7bc64d6"]]);var AJ=LJ;function UJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("post-actions-pill"),s=(0,a.resolveComponent)("photo-viewer"),d=(0,a.resolveComponent)("post-details");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(l.layoutClasses)},[l.showPhoto?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,post:o.post,"photo-index":o.photoIndex,onClose:t[1]||(t[1]=t=>e.$emit("close",!1))},{default:(0,a.withCtx)((()=>[o.mobile?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,post:o.post,onLike:t[0]||(t[0]=t=>e.$emit("like")),onComment:l.onClickComment},null,8,["post","onComment"])):(0,a.createCommentVNode)("",!0)])),_:1},8,["post","photo-index"])):(0,a.createCommentVNode)("",!0),l.showDetails?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,post:o.post,mobile:o.mobile,onLike:t[2]||(t[2]=t=>e.$emit("like")),onClose:t[3]||(t[3]=t=>e.$emit("close",!1)),onCreateComment:t[4]||(t[4]=t=>e.$emit("createComment",t)),onDeleteComment:t[5]||(t[5]=t=>e.$emit("deleteComment",t))},null,8,["post","mobile"])):(0,a.createCommentVNode)("",!0)],2)}const PJ={class:"orangehrm-photo-viewer"},qJ=["src"],MJ=["src"],FJ={key:0,class:"orangehrm-photo-viewer-controls"},OJ={class:"orangehrm-photo-viewer-actions"};function jJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",PJ,[(0,a.createElementVNode)("img",{class:"orangehrm-photo-viewer-background",alt:"photo",src:l.selectedPhoto},null,8,qJ),(0,a.createElementVNode)("img",{class:"orangehrm-photo-viewer-photo",alt:"background",src:l.selectedPhoto},null,8,MJ),o.post.photoIds.length>1?((0,a.openBlock)(),(0,a.createElementBlock)("div",FJ,[(0,a.createVNode)(i,{class:"orangehrm-photo-viewer-icon actions",name:"chevron-left",disabled:0===e.index,onClick:l.onClickPreviousPhoto},null,8,["disabled","onClick"]),(0,a.createVNode)(i,{class:"orangehrm-photo-viewer-icon actions",name:"chevron-right",disabled:e.index===o.post.photoIds.length-1,onClick:l.onClickNextPhoto},null,8,["disabled","onClick"])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",OJ,[(0,a.renderSlot)(e.$slots,"default",{},void 0,!0)]),(0,a.createVNode)(i,{class:"orangehrm-photo-viewer-close actions",name:"x",onClick:l.onClickClose},null,8,["onClick"])])}var zJ={name:"PhotoViewer",props:{post:{type:Object,required:!0},photoIndex:{type:Number,required:!0}},emits:["close"],setup(e,t){const o=(0,a.reactive)({index:e.photoIndex}),l=()=>o.index++,n=()=>o.index--,r=(0,a.computed)((()=>{const t=e.post.photoIds[o.index];return`${window.appGlobal.baseUrl}/buzz/photo/${t}`})),i=e=>{e.key&&"Escape"!==e.key||t.emit("close")};return window.addEventListener("keydown",i),(0,a.onBeforeUnmount)((()=>window.removeEventListener("keydown",i))),{onClickClose:i,selectedPhoto:r,onClickNextPhoto:l,onClickPreviousPhoto:n,...(0,a.toRefs)(o)}}};const RJ=(0,i.Z)(zJ,[["render",jJ],["__scopeId","data-v-606dc22d"]]);var GJ=RJ;const ZJ={class:"orangehrm-post-details"},QJ={class:"orangehrm-post-details-header"},HJ={class:"orangehrm-post-details-header-text"},WJ={class:"orangehrm-post-details-actions"};function YJ(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveComponent)("profile-image"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-divider"),m=(0,a.resolveComponent)("post-like"),u=(0,a.resolveComponent)("post-stats"),p=(0,a.resolveComponent)("post-comment-container");return(0,a.openBlock)(),(0,a.createElementBlock)("div",ZJ,[(0,a.createVNode)(i,{class:"orangehrm-post-details-close",name:"x","with-container":!1,onClick:l.onClickClose},null,8,["onClick"]),(0,a.createElementVNode)("div",QJ,[(0,a.createVNode)(s,{employee:o.post.employee},null,8,["employee"]),(0,a.createElementVNode)("div",HJ,[(0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-details-emp-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeFullName),1)])),_:1}),(0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-details-time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.postDateTime),1)])),_:1})])]),o.post.text?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,tag:"p",class:(0,a.normalizeClass)(l.postClasses)},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.post.text),1)])),_:1},8,["class"])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-details-readmore",onClick:l.onClickReadMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.read_more")),1)])),_:1},8,["onClick"]),[[a.vShow,!l.readMore]]),(0,a.createVNode)(c),(0,a.createElementVNode)("div",WJ,[(0,a.createVNode)(m,{like:o.post.liked,onClick:l.onClickLike},null,8,["like","onClick"]),(0,a.createVNode)(u,{post:o.post,mobile:o.mobile},null,8,["post","mobile"])]),(0,a.createVNode)(c),(0,a.createVNode)(p,{"post-id":o.post.id,employee:o.post.employee,onCreate:t[0]||(t[0]=t=>e.$emit("createComment",t)),onDelete:t[1]||(t[1]=t=>e.$emit("deleteComment",t))},null,8,["post-id","employee"])])}const JJ={class:"orangehrm-buzz-comment"},XJ={class:"orangehrm-buzz-comment-add"},KJ={key:0};function eX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("oxd-form"),c=(0,a.resolveComponent)("post-comment"),m=(0,a.resolveComponent)("oxd-text"),u=(0,a.resolveComponent)("delete-confirmation"),p=(0,a.resolveDirective)("autofocus");return(0,a.openBlock)(),(0,a.createElementBlock)("div",JJ,[(0,a.createElementVNode)("div",XJ,[(0,a.createVNode)(i,{employee:o.employee},null,8,["employee"]),(0,a.createVNode)(d,{onSubmitValid:l.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{modelValue:e.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.text=t),placeholder:e.$t("buzz.write_your_comment")},null,8,["modelValue","placeholder"]),[[p]])])),_:1},8,["onSubmitValid"])]),e.total>0?((0,a.openBlock)(),(0,a.createElementBlock)("br",KJ)):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.comments,(e=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:e,data:e,"post-id":o.postId,onEdit:l.onEditComment,onLike:l.onLikeComment,onDelete:l.onDeleteComment},null,8,["data","post-id","onEdit","onLike","onDelete"])))),128)),e.total>4?((0,a.openBlock)(),(0,a.createBlock)(m,{key:1,tag:"p",class:"orangehrm-buzz-comment-readmore",onClick:l.onClickShowMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.showAllComments?e.$t("general.show_less"):e.$t("general.show_more")),1)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(u,{ref:"deleteDialog",message:e.$t("buzz.post_delete_confirmation_message")},null,8,["message"])])}function tX(){const e={mounted(e){e&&e.querySelector("input")?.focus()}};return{autofocus:e}}const oX={class:"orangehrm-comment-wrapper"},aX={class:"orangehrm-post-comment"},lX={key:1,class:"orangehrm-post-comment-area"},nX={key:0,class:"orangehrm-post-comment-stats"},rX={key:2,class:"orangehrm-post-comment-action-area"};function iX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("oxd-form"),m=(0,a.resolveComponent)("oxd-icon"),u=(0,a.resolveDirective)("autofocus");return(0,a.openBlock)(),(0,a.createElementBlock)("div",oX,[(0,a.createVNode)(i,{employee:o.data.employee},null,8,["employee"]),(0,a.createElementVNode)("div",aX,[e.edit?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,onSubmitValid:l.onSubmit},{default:(0,a.withCtx)((()=>[(0,a.withDirectives)((0,a.createVNode)(s,{modelValue:e.comment,"onUpdate:modelValue":t[0]||(t[0]=t=>e.comment=t),rules:l.rules,onKeydown:(0,a.withKeys)((0,a.withModifiers)(l.onCancelComment,["stop"]),["esc"])},null,8,["modelValue","rules","onKeydown"]),[[u]]),(0,a.createVNode)(d,{tag:"span"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.press_esc_to"))+"",1)])),_:1}),(0,a.createVNode)(d,{tag:"span",class:"orangehrm-post-comment-action --cancel",onClick:l.onCancelComment},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.cancel")),1)])),_:1},8,["onClick"])])),_:1},8,["onSubmitValid"])):((0,a.openBlock)(),(0,a.createElementBlock)("div",lX,[(0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-comment-employee"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeFullName),1)])),_:1}),(0,a.createVNode)(d,{tag:"span",class:(0,a.normalizeClass)({"orangehrm-post-comment-text":!0,"--truncate":!1===e.readMore})},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.comment),1)])),_:1},8,["class"]),(0,a.withDirectives)((0,a.createVNode)(d,{tag:"span",class:"orangehrm-post-comment-readmore",onClick:l.onClickReadMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.read_more")),1)])),_:1},8,["onClick"]),[[a.vShow,!e.readMore]]),(0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-comment-datetime"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.dateTime),1)])),_:1}),o.data.comment.numOfLikes>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",nX,[(0,a.createVNode)(m,{name:"heart-fill",class:"orangehrm-post-comment-stats-icon"}),(0,a.createVNode)(d,{tag:"p",class:"orangehrm-post-comment-stats-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.data.comment.numOfLikes),1)])),_:1})])):(0,a.createCommentVNode)("",!0)])),e.edit?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",rX,[(0,a.createVNode)(d,{tag:"p",class:(0,a.normalizeClass)({"orangehrm-post-comment-action":!0,"--liked":!0===o.data.comment.liked}),onClick:l.onClickLike},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.like")),1)])),_:1},8,["class","onClick"]),o.data.permission.canUpdate?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,tag:"p",class:"orangehrm-post-comment-action",onClick:l.onClickEdit},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.edit")),1)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),o.data.permission.canDelete?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,tag:"p",class:"orangehrm-post-comment-action",onClick:l.onClickDelete},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("performance.delete")),1)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0)]))])])}var sX={name:"PostComment",components:{"oxd-icon":n.OxdIcon,"profile-image":eW},directives:{...tX()},props:{postId:{type:Number,required:!0},data:{type:Object,required:!0}},emits:["edit","delete","like"],setup(e,t){let o=!1;const{locale:l}=pt(),{jsDateFormat:n,jsTimeFormat:r}=Ae(),{$tEmpName:i}=il(),s=[So,Do(65530)],d=(0,a.reactive)({edit:!1,comment:e.data.comment.text,readMore:new String(e.data.comment.text).length<500}),{updatePostComment:c,updateCommentLike:m}=HH(new q(window.appGlobal.baseUrl,"")),u=()=>{c(e.postId,e.data.comment.id,d.comment).then((()=>{d.edit=!1,t.emit("edit",e.data.comment.id)}))},p=()=>{d.edit=!0},h=()=>{o||(o=!0,m(e.data.comment.id,e.data.comment.liked).then((()=>{o=!1,t.emit("like",e.data.comment.id)})))},g=()=>{t.emit("delete",e.data.comment.id)},v=()=>{d.readMore=!d.readMore},f=()=>{d.comment=e.data.comment.text,d.edit=!1},y=(0,a.computed)((()=>{const{createdDate:t,createdTime:o}=e.data.comment,a=Xe(`${t} ${o} +00:00`,"yyyy-MM-dd HH:mm xxx");return Ke(a,`${n} ${r}`,{locale:l})})),C=(0,a.computed)((()=>i(e.data.employee,{includeMiddle:!0,excludePastEmpTag:!1})));return{rules:s,dateTime:y,onSubmit:u,onClickLike:h,onClickEdit:p,onClickDelete:g,onClickReadMore:v,onCancelComment:f,employeeFullName:C,...(0,a.toRefs)(d)}}};const dX=(0,i.Z)(sX,[["render",iX],["__scopeId","data-v-b16f1772"]]);var cX=dX,mX={name:"PostCommentContainer",components:{"post-comment":cX,"profile-image":eW,"delete-confirmation":vo},directives:{...tX()},props:{postId:{type:Number,required:!0},employee:{type:Object,required:!0}},emits:["create","delete"],setup(e,t){const o=(0,a.ref)(),l=(0,a.reactive)({text:null,total:0,comments:[],showAllComments:!1}),{saveSuccess:n,updateSuccess:r,deleteSuccess:i}=ao(),{fetchPostComments:s,savePostComment:d,deletePostComment:c}=HH(new q(window.appGlobal.baseUrl,"")),m=()=>{s(e.postId,l.showAllComments?0:4,!0).then((e=>{const{data:t,meta:o}=e.data;l.total=o.total,l.comments=[...t]}))},u=()=>{l.text&&d(e.postId,l.text).then((()=>{l.text=null,m(),n(),t.emit("create")}))},p=()=>{l.showAllComments=!l.showAllComments,m()},h=()=>{m(),r()},g=a=>{o.value.showDialog().then((o=>{"ok"===o&&c(e.postId,a).then((()=>{m(),i(),t.emit("delete")}))}))},v=()=>{m()};return(0,a.onBeforeMount)((()=>m())),{onSubmit:u,deleteDialog:o,onLikeComment:v,onEditComment:h,onClickShowMore:p,onDeleteComment:g,...(0,a.toRefs)(l)}}};const uX=(0,i.Z)(mX,[["render",eX],["__scopeId","data-v-58a27a86"]]);var pX=uX,hX={name:"PostDetails",components:{"post-stats":TY,"post-like":CJ,"profile-image":eW,"post-comment-container":pX},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1}},emits:["like","close","createComment","deleteComment"],setup(e,t){let o=!1;const{locale:l}=pt(),{jsDateFormat:n,jsTimeFormat:r}=Ae(),{$tEmpName:i}=il(),s=(0,a.ref)(new String(e.post?.text).length<500),{updatePostLike:d}=HH(new q(window.appGlobal.baseUrl,"")),c=(0,a.computed)((()=>{const{createdDate:t,createdTime:o}=e.post,a=Xe(`${t} ${o} +00:00`,"yyyy-MM-dd HH:mm xxx");return Ke(a,`${n} ${r}`,{locale:l})})),m=(0,a.computed)((()=>i(e.post.employee,{includeMiddle:!0,excludePastEmpTag:!1}))),u=()=>t.emit("close"),p=()=>{o||(o=!0,d(e.post.id,e.post.liked).then((()=>{o=!1,t.emit("like")})))},h=(0,a.computed)((()=>({"orangehrm-post-details-text":!0,"--truncate":!1===s.value}))),g=()=>{s.value=!s.value};return{readMore:s,postClasses:h,onClickLike:p,onClickClose:u,postDateTime:c,onClickReadMore:g,employeeFullName:m}}};const gX=(0,i.Z)(hX,[["render",YJ],["__scopeId","data-v-486acada"]]);var vX=gX;const fX={class:"orangehrm-buzz-pill"},yX={class:"orangehrm-buzz-pill-actions"},CX={class:"orangehrm-buzz-pill-stats"},bX={class:"orangehrm-buzz-pill-stats-likes"},VX={class:"orangehrm-buzz-pill-stats-other"};function xX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("post-like"),s=(0,a.resolveComponent)("post-comment"),d=(0,a.resolveComponent)("oxd-icon"),c=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",fX,[(0,a.createElementVNode)("div",yX,[(0,a.createVNode)(i,{like:o.post.liked,onClick:l.onClickLike},null,8,["like","onClick"]),(0,a.createVNode)(s,{onClick:l.onClickComment},null,8,["onClick"])]),(0,a.createElementVNode)("div",CX,[(0,a.createElementVNode)("div",bX,[(0,a.createVNode)(d,{name:"heart-fill"}),(0,a.createVNode)(c,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.n_like",{likesCount:o.post.stats.numOfLikes})),1)])),_:1})]),(0,a.createElementVNode)("div",VX,[(0,a.createVNode)(c,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.combinedPostStats),1)])),_:1})])])])}var wX={name:"PostActionsPill",components:{"oxd-icon":n.OxdIcon,"post-like":CJ,"post-comment":SJ},props:{post:{type:Object,required:!0}},emits:["like","comment"],setup(e,t){let o=!1;const{updatePostLike:a}=HH(new q(window.appGlobal.baseUrl,"")),l=()=>{t.emit("comment")},n=()=>{o||(o=!0,a(e.post.id,e.post.liked).then((()=>{o=!1,t.emit("like")})))};return{onClickLike:n,onClickComment:l}},computed:{combinedPostStats(){const e=this.$t("buzz.n_comment",{commentCount:this.post.stats?.numOfComments||0}),t=this.$t("buzz.n_share",{shareCount:this.post.stats?.numOfShares||0});return null===this.post.stats?.numOfShares?e:`${e}, ${t}`}}};const NX=(0,i.Z)(wX,[["render",xX],["__scopeId","data-v-0963cda2"]]);var kX=NX,_X={name:"PhotoCarousel",components:{"photo-viewer":GJ,"post-details":vX,"post-actions-pill":kX},props:{post:{type:Object,required:!0},mobile:{type:Boolean,default:!1},photoIndex:{type:Number,required:!0}},emits:["like","close","createComment","deleteComment"],setup(e){const t=(0,a.reactive)({view:"photo",index:e.photoIndex}),o=()=>t.index++,l=()=>t.index--,n=()=>t.view="details",r=(0,a.computed)((()=>e.post.photoIds[t.index])),i=(0,a.computed)((()=>({"orangehrm-photo-carousel":!0,"--web":!1===e.mobile}))),s=(0,a.computed)((()=>!1===e.mobile||"photo"===t.view)),d=(0,a.computed)((()=>!1===e.mobile||"details"===t.view));return{showPhoto:s,showDetails:d,layoutClasses:i,selectedPhoto:r,onClickComment:n,onClickNextPhoto:o,onClickPreviousPhoto:l,...(0,a.toRefs)(t)}}};const SX=(0,i.Z)(_X,[["render",UJ],["__scopeId","data-v-052f1294"]]);var DX=SX;const $X={class:"orangehrm-buzz-post"},TX={class:"orangehrm-buzz-post-header"},EX={class:"orangehrm-buzz-post-header-details"},IX={class:"orangehrm-buzz-post-header-text"},BX={key:0,class:"orangehrm-buzz-post-header-config"},LX={class:"orangehrm-buzz-post-body"},AX={class:"orangehrm-buzz-post-footer"};function UX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("profile-image"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-icon-button"),c=(0,a.resolveComponent)("oxd-icon"),m=(0,a.resolveComponent)("oxd-dropdown"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-sheet");return(0,a.openBlock)(),(0,a.createBlock)(p,{gutters:!1,type:"white",class:"orangehrm-buzz"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",$X,[(0,a.createElementVNode)("div",TX,[(0,a.createElementVNode)("div",EX,[(0,a.createVNode)(i,{employee:o.post.employee},null,8,["employee"]),(0,a.createElementVNode)("div",IX,[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-post-emp-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.employeeFullName),1)])),_:1}),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-buzz-post-time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.postDateTime),1)])),_:1})])]),o.post.permission.canUpdate||o.post.permission.canDelete?((0,a.openBlock)(),(0,a.createElementBlock)("div",BX,[(0,a.createVNode)(m,null,{content:(0,a.withCtx)((()=>[o.post.permission.canDelete?((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:0,class:"orangehrm-buzz-post-header-config-item",onClick:t[0]||(t[0]=t=>e.$emit("delete",t))},[(0,a.createVNode)(c,{name:"trash"}),(0,a.createVNode)(s,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.delete_post")),1)])),_:1})])):(0,a.createCommentVNode)("",!0),o.post.permission.canUpdate?((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:1,class:"orangehrm-buzz-post-header-config-item",onClick:t[1]||(t[1]=t=>e.$emit("edit",t))},[(0,a.createVNode)(c,{name:"pencil"}),(0,a.createVNode)(s,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.edit_post")),1)])),_:1})])):(0,a.createCommentVNode)("",!0)])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{name:"three-dots","with-container":!0})])),_:1})])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(u)]),(0,a.createElementVNode)("div",LX,[(0,a.renderSlot)(e.$slots,"content",{},void 0,!0),(0,a.renderSlot)(e.$slots,"body",{},void 0,!0)]),(0,a.createElementVNode)("div",AX,[(0,a.renderSlot)(e.$slots,"actionButton",{},void 0,!0),(0,a.renderSlot)(e.$slots,"postStats",{},void 0,!0)]),(0,a.renderSlot)(e.$slots,"comments",{},void 0,!0)])),_:3})}var PX={name:"PostContainer",components:{"oxd-icon":n.OxdIcon,"oxd-sheet":n.OxdSheet,"oxd-dropdown":n.OxdDropdownMenu,"profile-image":eW},props:{post:{type:Object,required:!0}},emits:["edit","delete"],setup(e){const{locale:t}=pt(),{jsDateFormat:o,jsTimeFormat:l}=Ae(),{$tEmpName:n}=il(),r=(0,a.computed)((()=>n(e.post.employee,{includeMiddle:!0,excludePastEmpTag:!1}))),i=(0,a.computed)((()=>{const{createdDate:a,createdTime:n}=e.post,r=Xe(`${a} ${n} +00:00`,"yyyy-MM-dd HH:mm xxx");return Ke(r,`${o} ${l}`,{locale:t})}));return{postDateTime:i,employeeFullName:r}}};const qX=(0,i.Z)(PX,[["render",UX],["__scopeId","data-v-061e7373"]]);var MX=qX;const FX={key:2};function OX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-buzz-post-input"),s=(0,a.resolveComponent)("video-frame"),d=(0,a.resolveComponent)("photo-frame"),c=(0,a.resolveComponent)("oxd-text"),m=(0,a.resolveComponent)("post-modal");return(0,a.openBlock)(),(0,a.createBlock)(m,{loading:e.isLoading,title:e.$t("buzz.share_post"),onSubmit:l.onSubmit,onClose:t[1]||(t[1]=t=>e.$emit("close",!1))},{header:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.post.text,"onUpdate:modelValue":t[0]||(t[0]=t=>e.post.text=t),rules:l.rules.text,placeholder:e.$t("buzz.post_placeholder")},null,8,["modelValue","rules","placeholder"])])),default:(0,a.withCtx)((()=>["video"===o.data.type?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"video-src":o.data.video.link},null,8,["video-src"])):(0,a.createCommentVNode)("",!0),"photo"===o.data.type?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,media:o.data.photoIds},null,8,["media"])):(0,a.createCommentVNode)("",!0),"video"===o.data.type||"photo"===o.data.type?((0,a.openBlock)(),(0,a.createElementBlock)("br",FX)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{tag:"p",class:"orangehrm-buzz-share-employee"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.employee),1)])),_:1}),(0,a.createVNode)(c,{tag:"p",class:"orangehrm-buzz-share-date"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.dateTime),1)])),_:1}),l.originalPost.text?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3,tag:"p",class:"orangehrm-buzz-share-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(l.originalPost.text),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1},8,["loading","title","onSubmit"])}var jX={name:"SharePostModal",components:{"post-modal":jY,"photo-frame":gY,"video-frame":QH,"oxd-buzz-post-input":n.OxdBuzzPostInput},props:{data:{type:Object,required:!0}},emits:["close"],setup(e,t){const{locale:o}=pt(),{saveSuccess:l}=ao(),{jsDateFormat:n,jsTimeFormat:r}=Ae(),{$tEmpName:i}=il(),s={text:[Do(65530)]},d=new q(window.appGlobal.baseUrl,"/api/v2/buzz/shares"),c=(0,a.reactive)({post:{text:null},isLoading:!1}),m=()=>{c.isLoading=!0,d.create({text:c.post.text,shareId:e.data.id}).then((()=>{l(),t.emit("close",!0)}))},u=(0,a.computed)((()=>{const t=e.data.originalPost?.text||e.data.text,a=e.data.originalPost?.employee||e.data.employee,{createdDate:l,createdTime:s}=e.data.originalPost||e.data,d=Xe(`${l} ${s} +00:00`,"yyyy-MM-dd HH:mm xxx");return{text:t,employee:i(a,{includeMiddle:!0,excludePastEmpTag:!1}),dateTime:Ke(d,`${n} ${r}`,{locale:o})}}));return{rules:s,onSubmit:m,originalPost:u,...(0,a.toRefs)(c)}}};const zX=(0,i.Z)(jX,[["render",OX],["__scopeId","data-v-67079a5e"]]);var RX=zX,GX={name:"NewsFeed",components:{"post-body":yY,"post-stats":TY,"create-post":dJ,"post-actions":TJ,"oxd-loading-spinner":n.OxdSpinner,"photo-carousel":DX,"post-container":MX,"edit-post-modal":AJ,"share-post-modal":RX,"post-comment-container":pX,"delete-confirmation":vo},props:{employee:{type:Object,required:!0},sortField:{type:String,required:!0},mobile:{type:Boolean,default:!1}},setup(e){const t=10,o=(0,a.ref)(),{deleteSuccess:l}=ao(),{fetchPosts:n,deletePost:r}=HH(new q(window.appGlobal.baseUrl,"")),i=`${window.appGlobal.publicPath}/images/buzz_no_posts.svg`,s=(0,a.reactive)({total:0,offset:0,posts:[],isLoading:!1,showEditModal:!1,editModalState:null,showShareModal:!1,shareModalState:null,showPhotoCarousel:!1,photoCarouselState:null}),d=()=>{s.isLoading=!0,n(t,s.offset,"DESC",e.sortField).then((e=>{const{data:t,meta:o}=e.data;s.total=o.total||0,Array.isArray(t)&&(s.posts=[...s.posts,...t])})).finally((()=>s.isLoading=!1))};Gz((()=>{s.posts.length>=s.total||(s.offset+=t,d())}));const c=e=>{s.posts[e].liked=!s.posts[e].liked,s.posts[e].liked?s.posts[e].stats.numOfLikes++:s.posts[e].stats.numOfLikes--},m=e=>{s.showEditModal=!0,s.editModalState={postIndex:e,post:s.posts[e]},document.body.style.overflow="hidden"},u=e=>{s.showShareModal=!0,s.shareModalState=s.posts[e],document.body.style.overflow="hidden"},p=e=>{s.posts[e].showComments?s.posts[e].showComments=!1:s.posts[e].showComments=!0},h=()=>{s.posts=[],s.offset=0,d()},g=(e,t)=>{s.photoCarouselState={postIndex:t,photoIndex:e,post:s.posts[t]},s.showPhotoCarousel=!0,document.body.style.overflow="hidden"},v=()=>{s.showPhotoCarousel=!1,s.photoCarouselState=null,document.body.style.overflow="auto"},f=e=>{s.showShareModal=!1,s.shareModalState=null,document.body.style.overflow="auto",e&&h()},y=e=>{const{data:t}=e;t&&(s.posts[s.editModalState.postIndex]={...t}),s.showEditModal=!1,s.editModalState=null,document.body.style.overflow="auto"},C=e=>{o.value.showDialog().then((t=>{"ok"===t&&r(s.posts[e].id).then((()=>{h(),l()}))}))},b=e=>{s.posts[e].stats.numOfComments++},V=e=>{s.posts[e].stats.numOfComments--};return(0,a.onBeforeMount)((()=>d())),(0,a.watch)((()=>e.sortField),(()=>{s.posts=[],s.offset=0,d()})),{onLike:c,onEdit:m,onShare:u,onDelete:C,resetFeed:h,onComment:p,noPostsPic:i,deleteDialog:o,onSelectPhoto:g,onCreateComment:b,onDeleteComment:V,onCloseEditModal:y,onCloseShareModal:f,onClosePhotoCarousel:v,...(0,a.toRefs)(s)}}};const ZX=(0,i.Z)(GX,[["render",lY],["__scopeId","data-v-74e739a2"]]);var QX=ZX;const HX={class:"orangehrm-post-filters"};function WX(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",HX,[(0,a.createVNode)(i,{"icon-name":"clock-history",class:"orangehrm-post-filters-button",label:r.mostRecentButtonLabel,"display-type":r.mostRecentButtonType,onClick:t[0]||(t[0]=t=>e.$emit("updatePriority","share.createdAtUtc"))},null,8,["label","display-type"]),(0,a.createVNode)(i,{"icon-name":"heart-fill",class:"orangehrm-post-filters-button",label:r.mostLikesButtonLabel,"display-type":r.mostLikesButtonType,onClick:t[1]||(t[1]=t=>e.$emit("updatePriority","share.numOfLikes"))},null,8,["label","display-type"]),(0,a.createVNode)(i,{"icon-name":"chat-dots-fill",class:"orangehrm-post-filters-button",label:r.mostCommentsButtonLabel,"display-type":r.mostCommentsButtonType,onClick:t[2]||(t[2]=t=>e.$emit("updatePriority","share.numOfComments"))},null,8,["label","display-type"])])}var YX={name:"PostFilters",props:{filter:{type:String,required:!0},mobile:{type:Boolean,default:!1}},emits:["updatePriority"],computed:{isMostRecent(){return"share.createdAtUtc"===this.filter},isMostLikes(){return"share.numOfLikes"===this.filter},isMostComments(){return"share.numOfComments"===this.filter},mostRecentButtonType(){return this.isMostRecent?"label-warn":"text"},mostLikesButtonType(){return this.isMostLikes?"label-warn":"text"},mostCommentsButtonType(){return this.isMostComments?"label-warn":"text"},mostRecentButtonLabel(){return this.mobile?this.isMostRecent?this.$t("buzz.most_recent_posts"):"":this.$t("buzz.most_recent_posts")},mostLikesButtonLabel(){return this.mobile?this.isMostLikes?this.$t("buzz.most_liked_posts"):"":this.$t("buzz.most_liked_posts")},mostCommentsButtonLabel(){return this.mobile?this.isMostComments?this.$t("buzz.most_commented_posts"):"":this.$t("buzz.most_commented_posts")}}};const JX=(0,i.Z)(YX,[["render",WX],["__scopeId","data-v-5df7d87f"]]);var XX=JX;const KX={class:"orangehrm-buzz-anniversary"},eK={class:"orangehrm-buzz-anniversary-profile"},tK={class:"orangehrm-buzz-anniversary-profile-details"},oK={class:"orangehrm-buzz-anniversary-duration"},aK=["src"],lK={class:"orangehrm-buzz-anniversary-durations-text"},nK={key:0,class:"orangehrm-buzz-anniversary-nocontent"},rK=["src"],iK={key:0,class:"orangehrm-buzz-anniversary-footer"};function sK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("profile-image");return(0,a.openBlock)(),(0,a.createElementBlock)("div",KX,[(0,a.createVNode)(i,{type:"card-title",class:"orangehrm-buzz-anniversary-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.upcoming_anniversaries")),1)])),_:1}),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["orangehrm-buzz-anniversary-content",{"--show-more":n.anniversariesCount>5}])},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.anniversaries,(t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"orangehrm-buzz-anniversary-item"},[(0,a.createElementVNode)("div",eK,[(0,a.createVNode)(s,{employee:t},null,8,["employee"]),(0,a.createElementVNode)("div",tK,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-anniversary-emp-name"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.empName),1)])),_:2},1024),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-anniversary-job-details"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.jobTitle),1)])),_:2},1024)])]),(0,a.createElementVNode)("div",oK,[(0,a.createElementVNode)("img",{alt:"year celebration",class:"orangehrm-buzz-anniversary-year-celebration",src:l.celebrationPic},null,8,aK),(0,a.createElementVNode)("div",lK,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-anniversary-duration-years"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.anniversaryYear),1)])),_:2},1024),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-anniversary-duration-years"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("buzz.n_year",{yearsCount:t.anniversaryYear})),1)])),_:2},1024),(0,a.createVNode)(i,{tag:"p",class:"orangehrm-buzz-anniversary-duration-date"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(t.joinedDate),1)])),_:2},1024)])])])))),128)),r.isEmpty?((0,a.openBlock)(),(0,a.createElementBlock)("div",nK,[(0,a.createElementVNode)("img",{src:l.noContentPic,alt:"No Content"},null,8,rK),(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.no_records_found")),1)])),_:1})])):(0,a.createCommentVNode)("",!0)],2),n.anniversariesCount>5?((0,a.openBlock)(),(0,a.createElementBlock)("div",iK,[(0,a.createVNode)(i,{tag:"p",onClick:r.onSeeMore},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.isViewDetails?e.$t("general.show_more"):e.$t("general.show_less")),1)])),_:1},8,["onClick"])])):(0,a.createCommentVNode)("",!0)])}var dK={name:"UpcomingAnniversaries",components:{"profile-image":eW},setup(){const{locale:e}=pt(),{$tEmpName:t}=il(),o=`${window.appGlobal.publicPath}/images/year_celebration.png`,a=`${window.appGlobal.publicPath}/images/buzz_no_anniversaries.png`,l=new q(window.appGlobal.baseUrl,"/api/v2/buzz/anniversaries");return{http:l,locale:e,noContentPic:a,celebrationPic:o,tEmpName:t}},data(){return{viewMore:!1,isLoading:!1,anniversaries:[],anniversariesCount:0}},computed:{isViewDetails(){return!this.viewMore},isEmpty(){return!this.isLoading&&0===this.anniversaries.length}},beforeMount(){this.anniversariesLimit=5,this.getAnniversaries()},methods:{onSeeMore(){this.viewMore=!this.viewMore,this.viewMore?this.anniversariesLimit=0:this.anniversariesLimit=5,this.getAnniversaries()},getAnniversaries(){this.isLoading=!0,this.http.getAll({limit:this.anniversariesLimit}).then((e=>{const{data:t,meta:o}=e.data;this.anniversaries=t.map((e=>{const{employee:t,jobTitle:o,joinedDate:a}=e;return{empNumber:t.empNumber,empName:this.tEmpName(t,{includeMiddle:!1,excludePastEmpTag:!1}),jobTitle:o.title,joinedDate:Ke(Xe(a),"MMM dd",{locale:this.locale}),anniversaryYear:(new Date).getFullYear()-new Date(a).getFullYear()}})),this.anniversariesCount=o?.total})).finally((()=>this.isLoading=!1))}}};const cK=(0,i.Z)(dK,[["render",sK],["__scopeId","data-v-7a43ba69"]]);var mK=cK,uK={components:{"news-feed":QX,"oxd-tab-panel":n.OxdTabPanel,"post-filters":XX,"oxd-tab-container":n.OxdTabContainer,"upcoming-anniversaries":mK},props:{employee:{type:Object,required:!0}},setup(){const{$t:e}=Ne(),t=(0,a.ref)(null),o=(0,n.useResponsive)(),l=(0,a.ref)("share.createdAtUtc"),r=(0,a.computed)((()=>!(o.screenType===n.DEVICE_TYPES.DEVICE_LG||o.screenType===n.DEVICE_TYPES.DEVICE_XL))),i=(0,a.computed)((()=>o.windowWidth)),{swipeContainer:s}=tY((o=>{const a=o.offsetDirection;2===a&&(t.value=e("buzz.upcoming_anniversaries")),4===a&&(t.value=e("buzz.buzz_newsfeed"))})),d=e=>{e&&(l.value=e)};return{width:i,isMobile:r,sortField:l,tabSelector:t,onUpdatePriority:d,swipeRef:s}}};const pK=(0,i.Z)(uK,[["render",XW],["__scopeId","data-v-df9a4d4c"]]);var hK=pK,gK={"view-buzz":hK};const vK=e=>((0,a.pushScopeId)("data-v-b551a176"),e=e(),(0,a.popScopeId)(),e),fK={class:"orangehrm-system-check"},yK=vK((()=>(0,a.createElementVNode)("br",null,null,-1))),CK=vK((()=>(0,a.createElementVNode)("br",null,null,-1))),bK=vK((()=>(0,a.createElementVNode)("b",null,"/src/log",-1))),VK=vK((()=>(0,a.createElementVNode)("b",null,"/src/log/orangehrm.log",-1)));function xK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("flex-table"),d=(0,a.resolveComponent)("oxd-button"),c=(0,a.resolveComponent)("oxd-form-actions"),m=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createBlock)(m,{loading:n.isLoading,class:(0,a.normalizeClass)(n.isLoading?"orangehrm-system-check-form-loading":"orangehrm-system-check-form")},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",fK,[(0,a.createVNode)(i,{tag:"h5",class:"orangehrm-system-check-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" System Check ")])),_:1}),yK,(0,a.createVNode)(i,{class:"orangehrm-system-check-content"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" To properly function the system, please ensure that all of the system check items listed below are green. If any are red, please take the necessary steps to fix them. ")])),_:1}),CK,n.error?.message?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-system-check-content --error"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" An unexpected error occurred. Please provide the file write permission to "),bK,(0,a.createTextVNode)(" directory and check the error log in "),VK,(0,a.createTextVNode)(" file for more details. ")])),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.items,(e=>((0,a.openBlock)(),(0,a.createBlock)(s,{key:e.category,items:e.checks,"title-name":e.category},null,8,["items","title-name"])))),128)),(0,a.createVNode)(c,{class:"orangehrm-system-check-action"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"orangehrm-left-space","display-type":"ghost",label:"Re-Check",type:"submit",onClick:r.reCheck},null,8,["onClick"])])),_:1})]),(0,a.renderSlot)(e.$slots,"footer",{},void 0,!0)])),_:3},8,["loading","class"])}const wK={class:"orangehrm-flex-table"};function NK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider");return(0,a.openBlock)(),(0,a.createElementBlock)("div",wK,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-flex-table-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.titleName),1)])),_:1}),(0,a.createVNode)(s,{class:"orangehrm-flex-table-divider"}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.items,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"orangehrm-flex-table-row"},[(0,a.createVNode)(i,{class:"orangehrm-flex-table-content"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)])),_:2},1024),(0,a.createVNode)(i,{class:(0,a.normalizeClass)(r.getClass(e.value.status))},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.value.message),1)])),_:2},1032,["class"])])))),128))])}var kK={name:"FlexTable",props:{titleName:{type:String,required:!0},items:{type:Array,required:!0,default:()=>[]}},methods:{getClass(e){return 1===e?"orangehrm-flex-table-value --success":2===e?"orangehrm-flex-table-value --warning":"orangehrm-flex-table-value --error"}}};const _K=(0,i.Z)(kK,[["render",NK],["__scopeId","data-v-29402b1e"]]);var SK=_K,DK={name:"SystemCheckScreen",components:{"flex-table":SK},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/core/system-check");return{http:e}},data(){return{items:[],isLoading:!1,isInterrupted:!1,error:null}},beforeMount(){this.fetchData()},methods:{fetchData(){this.isLoading=!0,this.http.getAll().then((e=>{const{data:t,meta:o}=e.data;this.items=t,this.isInterrupted=o.isInterrupted,this.error=o.error})).finally((()=>{this.isLoading=!1}))},reCheck(){this.fetchData()}}};const $K=(0,i.Z)(DK,[["render",xK],["__scopeId","data-v-b551a176"]]);var TK=$K,EK={"system-check":TK};const IK={class:"orangehrm-background-container"},BK={class:"orangehrm-card-container"};function LK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("onboarding-details"),c=(0,a.resolveComponent)("onboarding-tasks"),m=(0,a.resolveComponent)("stepper"),u=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",IK,[(0,a.createElementVNode)("div",BK,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)("add"===o.mode?"Create a ":"Update")+" task assignment ",1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(u,{ref:"form",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{tabs:n.tabs,onAfterChange:r.beforeChange,onCompleted:r.complete},{0:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{rules:n.rules.onboardingDetails,activity:n.activity},null,8,["rules","activity"])])),1:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{activity:n.activity,type:r.activityType,data:n.tasksData,onTasksChanged:r.tasksChanged},null,8,["activity","type","data","onTasksChanged"])])),_:1},8,["tabs","onAfterChange","onCompleted"])])),_:1},8,["loading"])])])])}function AK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field"),s=(0,a.resolveComponent)("oxd-form-row"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("task-type-dropdown"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("date-input");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:r.activityModel.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.activityModel.name=e),autofocus:"",label:"Title",rules:o.rules.name,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.activityModel.employee,"onUpdate:modelValue":t[1]||(t[1]=e=>r.activityModel.employee=e),value:r.activityModel.employee,label:"Employee",name:"employee",required:!1},null,8,["modelValue","value"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:r.activityModel.supervisor,"onUpdate:modelValue":t[2]||(t[2]=e=>r.activityModel.supervisor=e),label:"Supervisor",name:"supervisor",required:!1},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{required:"",name:"type",selected:r.activityModel.types,label:"Type",rules:o.rules.type,onOptionsChanged:r.optionsChanged},null,8,["selected","rules","onOptionsChanged"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.activityModel.startDate,"onUpdate:modelValue":t[3]||(t[3]=e=>r.activityModel.startDate=e),label:"Start Date",name:"startDate",rules:o.rules.startDate,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.activityModel.endDate,"onUpdate:modelValue":t[4]||(t[4]=e=>r.activityModel.endDate=e),label:"End Date",name:"endDate",rules:o.rules.endDate,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:r.activityModel.dueDate,"onUpdate:modelValue":t[5]||(t[5]=e=>r.activityModel.dueDate=e),label:"Due Date",name:"dueDate",rules:o.rules.dueDate,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:r.activityModel.notes,"onUpdate:modelValue":t[6]||(t[6]=e=>r.activityModel.notes=e),type:"textarea",name:"notes",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:o.rules.notes},null,8,["modelValue","label","placeholder","rules"])])),_:1})])}function UK(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{modelValue:l.selectedOptions,"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedOptions=e),type:"multiselect",label:"Task Type",options:l.options,rules:o.rules,required:o.required},null,8,["modelValue","options","rules","required"])}var PK={name:"TaskTypeDropdown",components:{OxdInputField:n.OxdInputField},props:{rules:{type:Array,required:!1,default:Array.from([])},selected:{type:Array,required:!1,default:()=>Array.from([])},required:{type:Boolean,required:!1,default:!1}},emits:["optionsChanged"],setup(){const e=(0,a.ref)([]),t=(0,a.ref)([]),o=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-types");return(0,a.onBeforeMount)((()=>{o.getAll().then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.name})))}))})),{options:e,selectedOptions:t}},watch:{selectedOptions(e){this.$emit("optionsChanged",e)},selected(e){this.selectedOptions=e}}};const qK=(0,i.Z)(PK,[["render",UK]]);var MK=qK,FK={name:"OnboardingDetails",components:{EmployeeAutocomplete:rl,TaskTypeDropdown:MK,OxdFormRow:n.OxdFormRow,OxdInputField:n.OxdInputField,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem,DateInput:vt},props:{activity:{type:Object,required:!0},rules:{type:Object,required:!0}},emits:["update:prop"],computed:{activityModel:{get(){return this.activity},set(e){this.$emit("update:prop",e)}}},methods:{optionsChanged(e){this.activityModel.type=e}}};const OK=(0,i.Z)(FK,[["render",AK]]);var jK=OK;const zK=e=>((0,a.pushScopeId)("data-v-1eb33c20"),e=e(),(0,a.popScopeId)(),e),RK={class:"board-wrapper p-2 w-full"},GK={class:"flex items-center justify-center w-full"},ZK={class:"board-group inline-flex h-full"},QK={class:"flex flex-col w-full"},HK={class:"board-group-header"},WK=zK((()=>(0,a.createElementVNode)("h4",null,"All Tasks",-1))),YK={type:"button",class:"gray-background"},JK=["infinite-scroll-disabled"],XK={class:"board-group inline-flex h-full"},KK={class:"flex flex-col w-full"},e0={class:"board-group-header"},t0=zK((()=>(0,a.createElementVNode)("h4",null,"Assigning Tasks",-1))),o0={type:"button",class:"gray-background"},a0={class:"board-group-body"};function l0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("EllipsisHorizontalIcon"),s=(0,a.resolveComponent)("dropdown-menu"),d=(0,a.resolveComponent)("task-list-item"),c=(0,a.resolveComponent)("draggable"),m=(0,a.resolveDirective)("infinite-scroll");return(0,a.openBlock)(),(0,a.createElementBlock)("div",RK,[(0,a.createElementVNode)("div",GK,[(0,a.createElementVNode)("div",ZK,[(0,a.createElementVNode)("div",QK,[(0,a.createElementVNode)("div",HK,[WK,(0,a.createVNode)(s,{"menu-items":n.dropdownMenuItems,onMenuItemClicked:r.tasksMenuItemClicked},{icon:(0,a.withCtx)((()=>[(0,a.createElementVNode)("button",YK,[(0,a.createVNode)(i,{class:"icon w-5 h-5"})])])),_:1},8,["menu-items","onMenuItemClicked"])]),(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"board-group-body","infinite-scroll-distance":"10","infinite-scroll-disabled":n.loadMore},[(0,a.createVNode)(c,{modelValue:n.tasks,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tasks=e),"item-key":"id",group:"tasks",tag:"ul","drag-class":"drag","ghost-class":"ghost"},{item:(0,a.withCtx)((({element:e})=>[(0,a.createVNode)(d,{task:e},null,8,["task"])])),_:1},8,["modelValue"])],8,JK)),[[m,r.loadMoreTasks]])])]),(0,a.createElementVNode)("div",XK,[(0,a.createElementVNode)("div",KK,[(0,a.createElementVNode)("div",e0,[t0,(0,a.createVNode)(s,{"menu-items":n.dropdownMenuItems,onMenuItemClicked:r.elpTasksMenuItemClicked},{icon:(0,a.withCtx)((()=>[(0,a.createElementVNode)("button",o0,[(0,a.createVNode)(i,{class:"icon w-5 h-5"})])])),_:1},8,["menu-items","onMenuItemClicked"])]),(0,a.createElementVNode)("div",a0,[(0,a.createVNode)(c,{modelValue:n.elpTasks,"onUpdate:modelValue":t[1]||(t[1]=e=>n.elpTasks=e),group:"tasks",tag:"ul","item-key":"id",class:"empty-drag-container","drag-class":"drag","ghost-class":"ghost",onChange:r.boardingTasksChanged},{item:(0,a.withCtx)((({element:e})=>[(0,a.createVNode)(d,{task:e,onTaskDetailChanged:r.emitTasksChanged},null,8,["task","onTaskDetailChanged"])])),_:1},8,["modelValue","onChange"])])])])])])}var n0=o(8066),r0=o(9980),i0=o.n(r0);function s0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("MenuButton"),s=(0,a.resolveComponent)("MenuItem"),d=(0,a.resolveComponent)("MenuItems"),c=(0,a.resolveComponent)("Menu");return(0,a.openBlock)(),(0,a.createBlock)(c,{as:"div",class:"relative z-10"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,null,{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"icon")])),_:3}),(0,a.createVNode)(a.Transition,{"enter-active-class":"transition transform duration-100 ease-out","enter-from-class":"opacity-0 scale-90","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition transform duration-100 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-90"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{class:"origin-top-left md:origin-top-left mt-1 focus:outline-none absolute right-0 md:left-0 border-gray-300 bg-white overflow-hidden rounded-md shadow-lg border w-40"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.menuItems,((t,o)=>((0,a.openBlock)(),(0,a.createBlock)(s,{key:o,class:"cursor-pointer",onClick:o=>e.$emit("menuItemClicked",t)},{default:(0,a.withCtx)((({active:e})=>[(0,a.createElementVNode)("a",{class:(0,a.normalizeClass)([{"bg-gray-100":e},"block px-4 py-2 text-sm text-gray-700"])},(0,a.toDisplayString)(t.title),3)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:3})}var d0=o(523),c0={name:"DropdownMenu",components:{Menu:d0.v2,MenuButton:d0.j2,MenuItems:d0.sd,MenuItem:d0.sN},props:{menuItems:{type:Array,required:!0}},emits:["menuItemClicked"]};const m0=(0,i.Z)(c0,[["render",s0]]);var u0=m0;const p0={class:"flex flex-col list-item"},h0={class:"text-sm"},g0={key:0,class:"flex items-center justify-end"},v0={class:"text-xs text-gray-500"};function f0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("clock-icon"),s=(0,a.resolveComponent)("oxd-input-field"),d=(0,a.resolveComponent)("oxd-form-row"),c=(0,a.resolveComponent)("date-input"),m=(0,a.resolveComponent)("app-dialog");return(0,a.openBlock)(),(0,a.createElementBlock)("li",{onClick:t[1]||(t[1]=(...e)=>r.listItemClick&&r.listItemClick(...e))},[(0,a.createElementVNode)("div",p0,[(0,a.createElementVNode)("h3",h0,(0,a.toDisplayString)(o.task.title),1),o.task.dueDate?((0,a.openBlock)(),(0,a.createElementBlock)("div",g0,[(0,a.createElementVNode)("h3",v0,(0,a.toDisplayString)(o.task.dueDate),1),(0,a.createVNode)(i,{class:"ml-1 w-4 h-4 text-gray-500"})])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(m,{ref:"appDialog",title:"Change Due date","submit-button-text":"Done",onSubmit:r.onDialogSubmit},{body:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",null,[(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{value:o.task.title,autofocus:"",label:"Task Title",disabled:""},null,8,["value"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{value:o.task.notes,type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",disabled:""},null,8,["value","label","placeholder"])])),_:1}),(0,a.createVNode)(d,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:r.taskModel.dueDate,"onUpdate:modelValue":t[0]||(t[0]=e=>r.taskModel.dueDate=e),label:"Due Date",rules:n.rules.dueDate},null,8,["modelValue","rules"])])),_:1})])])),_:1},8,["onSubmit"])])}var y0=o(2648);const C0={class:"orangehrm-dialog-header-container"},b0={class:"mt-3 px-4"},V0={class:"orangehrm-dialog-horizontal-padding"};function x0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-button"),c=(0,a.resolveComponent)("submit-button"),m=(0,a.resolveComponent)("oxd-form-actions"),u=(0,a.resolveComponent)("oxd-dialog");return n.show?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",C0,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.title),1)])),_:1})]),(0,a.createVNode)(s,{class:"orangehrm-dialog-horizontal-margin orangehrm-clear-margins"}),(0,a.createElementVNode)("div",b0,[(0,a.renderSlot)(e.$slots,"body")]),(0,a.createElementVNode)("div",V0,[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"display-type":"ghost",label:o.cancelButtonText,onClick:t[0]||(t[0]=e=>n.show=!1)},null,8,["label"]),(0,a.createVNode)(c,{label:o.submitButtonText,"button-type":"button",onClick:r.onSubmit},null,8,["label","onClick"])])),_:1})])])),_:3},8,["onUpdate:show"])):(0,a.createCommentVNode)("",!0)}var w0={name:"AppDialog",components:{"oxd-dialog":n.OxdDialog},props:{title:{type:String,required:!0},cancelButtonText:{type:String,default:"Cancel"},submitButtonText:{type:String,default:"Submit"}},emits:["submit"],data(){return{show:!1}},methods:{showDialog(){this.show=!0},onCancel(){this.show=!1},onSubmit(){this.$emit("submit"),this.show=!1}}};const N0=(0,i.Z)(w0,[["render",x0]]);var k0=N0,_0={name:"TaskListItem",components:{AppDialog:k0,ClockIcon:y0.Z},props:{task:{type:Object,required:!0}},emits:["taskDetailChanged"],data(){return{dueDate:null,userValidDateFormat:"yyyy-mm-dd",rules:{dueDate:[$o(this.userValidDateFormat),Fo((()=>(new Date).toISOString().split("T")[0]),"Due Date should be after today")]}}},computed:{taskModel:{get(){return this.task},set(e){this.$emit("update:prop",e)}},taskDueDate(){return this.task.dueDate}},watch:{taskDueDate(){this.$emit("taskDetailChanged")}},methods:{listItemClick(){this.$refs.appDialog.showDialog()},onDialogSubmit(){this.$emit("taskDetailChanged")}}};const S0=(0,i.Z)(_0,[["render",f0],["__scopeId","data-v-11288e34"]]);var D0=S0,$0=o(6842);const T0="Move all";var E0={name:"OnboardingTasks",directives:{infiniteScroll:$0.Z},components:{EllipsisHorizontalIcon:n0.Z,Draggable:i0(),DropdownMenu:u0,TaskListItem:D0},props:{type:{type:Array,default:null},activity:{type:Object,required:!0},data:{type:Object,default:null}},emits:["tasksChanged"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/tasks");return{http:e}},data(){return{tasks:[],meta:{},elpTasks:[],loadMore:!1,hasMoreTasks:!0,menuItems:["Reset","Move All"],dropdownMenuItems:[{title:T0}]}},watch:{data(e){this.activity.existingTasks&&(this.elpTasks=[...this.activity.existingTasks,...this.elpTasks]);const t=this.elpTasks.map((e=>e.id)),{data:o,meta:a}=e;this.meta=a,this.hasMoreTasks=!0,t.length>0?this.tasks=[...o].filter((e=>!t.includes(e.id))):this.tasks=[...o]}},methods:{loadMoreTasks(){this.hasMoreTasks=this.meta.total>this.tasks?.length+this.elpTasks.length,this.type&&this.hasMoreTasks&&this.http.request({params:{taskTypes:this.type?.map((e=>e.id)).join(","),offset:this.tasks.length+this.elpTasks.length}}).then((({data:e})=>{const{data:t,meta:o}=e,a=this.elpTasks.map((e=>e.id));this.tasks=[...this.tasks,...t.filter((e=>!a.includes(e.id)))],this.meta=o}))},emitTasksChanged(){this.$emit("tasksChanged",this.elpTasks)},boardingTasksChanged(){this.emitTasksChanged()},elpTasksMenuItemClicked({title:e}){switch(e){case T0:this.tasks=[...this.tasks,...this.elpTasks],this.elpTasks=[]}},tasksMenuItemClicked({title:e}){switch(e){case T0:this.elpTasks=[...this.elpTasks,...this.tasks],this.tasks=[],this.emitTasksChanged()}}}};const I0=(0,i.Z)(E0,[["render",l0],["__scopeId","data-v-1eb33c20"]]);var B0=I0;const L0={class:"wizard-wrapper"},A0={class:"stepper-tab"};function U0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("wizard");return(0,a.openBlock)(),(0,a.createElementBlock)("div",L0,[(0,a.createVNode)(i,{ref:"wizard","start-index":o.startIndex,"custom-tabs":o.tabs,"before-mount":r.beforeMount,onChange:r.stepChanged,"onComplete:wizard":r.completed},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.tabs.length,((t,o)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:o,class:"stepper-content"},[(0,a.withDirectives)((0,a.createElementVNode)("div",A0,[(0,a.renderSlot)(e.$slots,o,{},void 0,!0)],512),[[a.vShow,n.currentStep===o]])])))),128))])),_:3},8,["start-index","custom-tabs","before-mount","onChange","onComplete:wizard"])])}var P0=o(229),q0={name:"Stepper",components:{Wizard:P0.Z},props:{startIndex:{type:Number,default:0,validator:e=>e>=0},formRef:{type:Object,default:null},tabs:{type:Array,default:Array.from([{title:"Step 1"},{title:"Step 2"}])}},emits:["completed","beforeChange","afterChange","beforeMount"],data(){return{currentStep:0,nextButton:{disabled:!0}}},methods:{stepChanged(e){this.$emit("beforeChange",{index:e,ref:this.$refs.wizard}),this.currentStep=e,this.$emit("afterChange",{index:e,ref:this.$refs.wizard})},completed(){this.$emit("completed")},beforeMount(){this.$emit("beforeMount",this.currentStep)}}};const M0=(0,i.Z)(q0,[["render",U0],["__scopeId","data-v-2618c4da"]]);var F0=M0;const O0={employee:null,supervisor:null,dueDate:null,startDate:null,endDate:null,tasks:[],type:[],types:[],name:null},j0="edit",z0="add";var R0={name:"CreateOnboarding",components:{Stepper:F0,OnboardingDetails:jK,OnboardingTasks:B0,OxdText:n.OxdText,OxdForm:n.OxdForm,OxdDivider:n.OxdDivider},props:{mode:{type:String,default:z0},assignment:{type:Object,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/tasks");return{http:e}},data(){return{isLoading:!1,activity:{...O0},fetchedTasks:{},tasksData:{},rules:{onboardingDetails:{name:[So,Do(100)],startDate:[So,$o(this.userDateFormat),Wo((()=>this.activity.endDate),this.$t("performance.review_period_start_date_should_be_before_end_date"))],endDate:[So,$o(this.userDateFormat),Fo((()=>this.activity.startDate),this.$t("performance.review_period_end_date_should_be_after_start_date"))],dueDate:[So,$o(),Fo((()=>this.activity.endDate),this.$t("performance.due_date_should_be_after_review_period_end_date"))],type:[So]}},tabs:[{title:"Task Details",id:1},{title:"Tasks",id:2}]}},computed:{activityType(){return this.activity.type}},watch:{activityType(e){if(e&&e.length){const t=e?.map((e=>e.id)).join(",");this.http.request({params:{taskTypes:t}}).then((({data:e})=>{this.tasksData=e}))}}},mounted(){this.mode===j0&&this.assignment&&(this.activity={name:this.assignment.name,notes:this.assignment.notes,employee:{id:this.assignment.assignee?.id,label:this.assignment.assignee?.name},supervisor:this.assignment.supervisor?.id?{id:this.assignment.supervisor?.id,label:this.assignment.supervisor?.name}:null,dueDate:this.assignment.dueDate?.split(" ")[0],startDate:this.assignment.startDate?.split(" ")[0],endDate:this.assignment.endDate?.split(" ")[0],tasks:[],existingTasks:this.assignment.taskGroups.map((e=>e.task)),types:this.assignment.taskTypes.map((e=>({id:e.id,label:e.name})))})},methods:{tasksChanged(e){this.activity.tasks=e},save(e){this.http.request({url:"/api/v2/task-management/task-assignments",method:"POST",data:e}).then((()=>this.$toast.saveSuccess())).then((()=>{U("/taskManagement/viewTaskGroups")})).catch((()=>{this.isLoading=!1}))},update(e){this.http.request({url:`/api/v2/task-management/task-assignments/${this.assignment.id}`,method:"PUT",data:e}).then((()=>this.$toast.updateSuccess())).then((()=>{U("/taskManagement/viewTaskGroups")})).catch((()=>{this.isLoading=!1}))},complete(){if(!this.activity.tasks||0===this.activity.tasks.length)return void this.$toast.unexpectedError("Tasks cannot be empty!");this.isLoading=!0;const{dueDate:e,endDate:t,startDate:o,notes:a,type:l,tasks:n,employee:r,name:i,supervisor:s}=this.activity,d={dueDate:e,endDate:t,startDate:o,notes:a,name:i,types:l?.map((e=>e.id)).join(","),supervisorId:s?.id,employeeId:r?.id,tasks:n.map((e=>{const{dueDate:t,id:o}=e;return{dueDate:t??null,id:o}}))};this.mode===z0&&this.save(d),this.mode===j0&&this.update(d)},beforeChange({index:e,ref:t}){const{validate:o}=this.$refs.form;e>0&&o(),setTimeout((()=>{e>=0&&this.$refs.form.isFromInvalid&&t.changeTab(e-1)}),10)}}};const G0=(0,i.Z)(R0,[["render",LK]]);var Z0=G0;const Q0={class:"flex relative h-full"},H0={class:"fixed top-15 right-3 h-screen w-1/4"};function W0(e,t,o,l,n,r){const i=(0,a.resolveComponent)("task-progress"),s=(0,a.resolveComponent)("assignment"),d=(0,a.resolveComponent)("assignment-detail"),c=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Q0,[(0,a.createElementVNode)("div",{ref:"list",class:(0,a.normalizeClass)({"w-2/3 mr-3":n.showDetails,"w-full":!n.showDetails})},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.tasks,(e=>((0,a.openBlock)(),(0,a.createBlock)(s,{key:e.id,"task-group":e,class:(0,a.normalizeClass)({active:e.isActive}),onOpenDetails:r.openAssignmentDetail,onToggleActive:r.toggleActive},{exportOptions:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{"fill-color":o.theme["--oxd-primary-one-color"]??null,progress:e.progress},null,8,["fill-color","progress"])])),_:2},1032,["task-group","class","onOpenDetails","onToggleActive"])))),128))],2),(0,a.createElementVNode)("div",H0,[n.selectedTask&&n.showDetails?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"task-group":n.selectedTask,onOnClose:r.onClose,onOnToggleMarkComplete:r.onToggleMarkComplete,onOnSubmit:r.onSubmit},null,8,["task-group","onOnClose","onOnToggleMarkComplete","onOnSubmit"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(c,{ref:"deleteDialog","confirm-button-text":"Yes, Submit","with-confirmation-icon":!1,message:n.submitConfirmation},null,8,["message"])])}const Y0={class:"oxd-table-filter"},J0={class:"oxd-table-filter-header"},X0={class:"oxd-table-filter-header-title"},K0={class:"oxd-table-filter-header-options"},e1={class:"--toggle"},t1={class:"--export mr-2"},o1={class:"--toggle"},a1={class:"oxd-table-filter-area mt-2"},l1={class:"mt-8"};function n1(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-icon-button"),d=(0,a.resolveComponent)("task-group"),c=(0,a.resolveComponent)("comment"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-divider"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Y0,[(0,a.createElementVNode)("div",J0,[(0,a.createElementVNode)("div",X0,[(0,a.createVNode)(i,{class:"oxd-table-filter-title cursor-pointer",tag:"h5",onClick:r.openMenu},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.taskGroup?.name),1)])),_:1},8,["onClick"])]),(0,a.createElementVNode)("div",K0,[(0,a.createElementVNode)("div",e1,[(0,a.renderSlot)(e.$slots,"toggleOptions",{},void 0,!0)]),(0,a.createElementVNode)("div",t1,[(0,a.renderSlot)(e.$slots,"exportOptions",{},void 0,!0)]),(0,a.createElementVNode)("div",o1,[(0,a.createVNode)(s,{name:o.taskGroup.isActive?"caret-up-fill":"caret-down-fill",onClick:r.toggleFilters},null,8,["name","onClick"])])])]),(0,a.withDirectives)((0,a.createElementVNode)("div",a1,[(0,a.createVNode)(d,{"is-owner":o.isOwner,"task-list":o.taskGroup.taskGroups,"task-group":o.taskGroup,"task-group-id":o.taskGroup.id,completed:o.taskGroup.completed,"submitted-at":o.taskGroup.submittedAt},null,8,["is-owner","task-list","task-group","task-group-id","completed","submitted-at"]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(n.comments,(e=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:e.id,comment:e},null,8,["comment"])))),128)),(0,a.createElementVNode)("div",l1,[(0,a.createVNode)(v,{onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.newComment.body,"onUpdate:modelValue":t[0]||(t[0]=e=>n.newComment.body=e),type:"textarea",placeholder:"Add Comment"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(p),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{loading:n.loading,disabled:!n.newComment||!n.newComment.body,label:"Add Comment"},null,8,["loading","disabled"])])),_:1})])),_:1},8,["onSubmitValid"])])],512),[[a.vShow,o.taskGroup.isActive]])])}o(541);const r1={class:"p-2"};function i1(e,t,o,l,n,r){const i=(0,a.resolveComponent)("check-badge-icon"),s=(0,a.resolveComponent)("datatable");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(s,{alternating:"",headers:r.headers,items:o.taskList,class:"z-10","rows-per-page":10},{expand:(0,a.withCtx)((e=>[(0,a.createElementVNode)("div",r1,(0,a.toDisplayString)(e.task.notes),1)])),"item-isCompleted":(0,a.withCtx)((e=>[(0,a.createVNode)(i,{class:(0,a.normalizeClass)(["h-6 cursor-pointer",{"text-green-600":e.isCompleted||o.submittedAt,"text-gray-400":!e.isCompleted&&!o.submittedAt}]),onClick:t=>r.toggleComplete(e)},null,8,["class","onClick"])])),"item-dueDate":(0,a.withCtx)((e=>[(0,a.createElementVNode)("h3",{class:(0,a.normalizeClass)({"text-red-400":!e?.isCompleted&&r.isDeadlineApproaching(e?.dueDate)})},(0,a.toDisplayString)(r.formatDate(e?.dueDate)),3)])),_:1},8,["headers","items"])])}var s1=o(8010),d1=o(319),c1=o(381),m1=o.n(c1),u1={name:"TaskGroup",components:{Datatable:s1.Z,CheckBadgeIcon:d1.Z},props:{isOwner:{type:Boolean,default:!0},taskGroup:{type:Object,default:null},taskList:{type:Array,required:!0},taskGroupId:{type:Number,required:!0},completed:{type:Boolean,required:!0},submittedAt:{type:Object,required:!0}},emits:["update:prop"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-groups");return{http:e}},data(){return{checkedItems:[],sortDefinition:null,showDrawer:!1}},computed:{headers(){let e=[{value:"task.title",text:"Title"},{value:"dueDate",text:"Due Date",sortable:!0}];return this.isOwner&&(e=[{value:"isCompleted",text:""},...e]),e},taskListModel:{get(){return this.taskList},set(e){this.$emit("update:prop",e)}},taskGroupModel:{get(){return this.taskGroup},set(e){this.$emit("update:prop",e)}}},methods:{toggleComplete(e){this.submittedAt||this.http.request({url:"/api/v2/task-management/task-groups/actions",method:"put",data:{action:"toggle_complete",groupAssignmentId:this.taskGroupId,taskGroupId:e.id}}).then((()=>{const t=[...this.taskList],o=t.findIndex((t=>t.id===e.id));t[o].isCompleted=!t[o].isCompleted,this.taskListModel=t;const a=t.length;let l=t.filter((e=>e.isCompleted)).length;this.taskGroupModel.progress=0===a?0:Math.round(l/a*100)}))},formatDate(e){return e?m1()(e).format("DD MMM"):""},isDeadlineApproaching(e){if(!e)return!1;const t=e.split(" ")[0];return new Date(t)<new Date}}};const p1=(0,i.Z)(u1,[["render",i1]]);var h1=p1;const g1={class:"comment"},v1={class:"comment__header mb-[10px]"},f1={class:"comment__author"},y1={class:"comment__avatar"},C1=["src"],b1={class:"comment__content"},V1={class:"comment__title"},x1={class:"comment__body"},w1={key:0,class:"pl-[20px] comment__inner-commment"};function N1(e,t,o,l,n,r){const i=(0,a.resolveComponent)("Comment",!0);return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",g1,[(0,a.createElementVNode)("div",v1,[(0,a.createElementVNode)("div",f1,[(0,a.createElementVNode)("div",y1,[(0,a.createElementVNode)("img",{src:l.imgSrc,alt:""},null,8,C1)]),(0,a.createElementVNode)("div",b1,[(0,a.createElementVNode)("h3",V1,(0,a.toDisplayString)(o.comment.user.name),1)])])]),(0,a.createElementVNode)("div",null,[(0,a.createElementVNode)("p",x1,(0,a.toDisplayString)(o.comment.body),1)])]),o.comment.replies&&o.comment.replies.length?((0,a.openBlock)(),(0,a.createElementBlock)("div",w1,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.comment.replies,((e,t)=>((0,a.openBlock)(),(0,a.createBlock)(i,(0,a.normalizeProps)((0,a.mergeProps)({key:t},{comment:e})),null,16)))),128))])):(0,a.createCommentVNode)("",!0)])}const k1=`${window.appGlobal.publicPath}/images/default-photo.png`;var _1={setup(e){const t=(0,a.computed)((()=>e.comment?.user?`${window.appGlobal.baseUrl}/pim/viewPhoto/empNumber/${e.comment?.user?.id}`:k1));return{imgSrc:t}},props:{avatar:{type:String,default:"https://picsum.photos/200"},comment:{type:Object,default:()=>Array.from([])}}};const S1=(0,i.Z)(_1,[["render",N1]]);var D1=S1;const $1="groupAssignment";function T1(e){const t=t=>e.request({method:"POST",url:"/api/v2/comments",data:t}),o=(t,o)=>e.request({method:"PUT",url:`/api/v2/comments/${t}`,data:o}),a=t=>e.request({method:"DELETE",url:"/api/v2/comments",data:{ids:t}});return{addComment:t,deleteComment:a,editComment:o}}var E1={name:"Assignment",components:{OxdIconButton:n.OxdIconButton,OxdText:n.OxdText,TaskGroup:h1,Comment:D1,OxdForm:n.OxdForm,OxdDivider:n.OxdDivider,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,SubmitButton:d,OxdInputField:n.OxdInputField},props:{taskGroup:{type:Object,required:!0},isOwner:{type:Boolean,default:!0}},emits:["open-details","toggleActive"],setup(){const e=new q(window.appGlobal.baseUrl,""),{addComment:t,deleteComment:o,editComment:a}=T1(e);return{addComment:t,deleteComment:o,editComment:a}},data(){return{newComment:{},loading:!1,comments:[...this.taskGroup.comments]}},methods:{openMenu(){this.$emit("open-details",this.taskGroup),this.toggleFilters()},toggleFilters(){this.$emit("toggleActive",this.taskGroup)},onSave(){const e={...this.newComment,model_type:$1,model_id:this.taskGroup.id};this.loading=!0,this.addComment(e).then((({data:e})=>{const t=e.data;this.comments.unshift(t),this.newComment={body:""}})).finally((()=>this.loading=!1))}}};const I1=(0,i.Z)(E1,[["render",n1],["__scopeId","data-v-659c0d2f"]]);var B1=I1;const L1={class:"orangehrm-background-container"},A1={class:"orangehrm-paper-container"},U1={class:"flex flex-col p-3"},P1={class:"flex flex-col mt-3"},q1=(0,a.createElementVNode)("h5",{class:"text-sm text-gray-400"},"Notes",-1);function M1(e,t,o,l,n,r){const i=(0,a.resolveComponent)("detail-tools"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-text"),c=(0,a.resolveComponent)("detail-item");return(0,a.openBlock)(),(0,a.createElementBlock)("div",L1,[(0,a.createElementVNode)("div",A1,[(0,a.createVNode)(i,{"is-owner":o.isOwner,"task-group":o.taskGroup,onOnToggleMarkComplete:r.onToggleMarkComplete,onOnSubmit:r.onSubmit,onOnClose:r.onClose},null,8,["is-owner","task-group","onOnToggleMarkComplete","onOnSubmit","onOnClose"]),(0,a.createVNode)(s),(0,a.createElementVNode)("div",U1,[(0,a.createVNode)(d,{type:"subtitle-1 w-full"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("h2",null,(0,a.toDisplayString)(o.taskGroup?.name),1)])),_:1}),(0,a.createVNode)(c,{title:"Creator","sub-title":o.taskGroup?.creator?.name},null,8,["sub-title"]),(0,a.createVNode)(c,{title:"Assignee","sub-title":o.taskGroup?.assignee?.name},null,8,["sub-title"]),(0,a.createVNode)(c,{title:"Supervisor","sub-title":o.taskGroup?.supervisor?.name},null,8,["sub-title"]),(0,a.createVNode)(c,{title:"Start Date","sub-title":r.formatDate(o.taskGroup?.startDate)},null,8,["sub-title"]),(0,a.createVNode)(c,{title:"End Date",expiring:!o.taskGroup.isCompleted&&r.isDeadlineApproaching(o.taskGroup.endDate),"sub-title":r.formatDate(o.taskGroup?.endDate)},null,8,["expiring","sub-title"]),(0,a.createVNode)(c,{title:"Due Date",expiring:!o.taskGroup.isCompleted&&r.isDeadlineApproaching(o.taskGroup.dueDate),"sub-title":r.formatDate(o.taskGroup?.dueDate)},null,8,["expiring","sub-title"]),o.taskGroup.submittedAt?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,title:"Submitted On","sub-title":r.formatDate(o.taskGroup?.submittedAt)},null,8,["sub-title"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",P1,[q1,(0,a.createVNode)(d,{type:"card-body"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("h4",null,(0,a.toDisplayString)(o.taskGroup?.notes),1)])),_:1})])])])])}const F1={class:"flex justify-between p-2 items-center"},O1={key:1};function j1(e,t,o,l,n,r){const i=(0,a.resolveComponent)("ellipsis-vertical-icon"),s=(0,a.resolveComponent)("dropdown-menu"),d=(0,a.resolveComponent)("oxd-icon-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",F1,[!o.taskGroup.submittedAt&&o.isOwner?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"menu-items":r.menuItems,onMenuItemClicked:r.menuItemClicked},{icon:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{class:"h-6"})])),_:1},8,["menu-items","onMenuItemClicked"])):((0,a.openBlock)(),(0,a.createElementBlock)("h1",O1)),(0,a.createVNode)(d,{name:"arrow-bar-right",onClick:r.onClose},null,8,["onClick"])])}var z1=o(313);const R1="Mark Complete",G1="Submit";var Z1={name:"DetailTools",components:{OxdIconButton:n.OxdIconButton,EllipsisVerticalIcon:z1.Z,DropdownMenu:u0},props:{taskGroup:{type:Object,required:!0},isOwner:{type:Boolean,default:!0}},emits:["onToggleMarkComplete","onClose","onSubmit"],computed:{menuItems(){return this.taskGroup.completed?[{title:G1}]:[{title:R1},{title:G1}]}},methods:{onToggleMarkComplete(){this.$emit("onToggleMarkComplete")},onClose(){this.$emit("onClose")},menuItemClicked({title:e}){switch(e){case R1:this.$emit("onToggleMarkComplete");break;case G1:this.$emit("onSubmit");break}}}};const Q1=(0,i.Z)(Z1,[["render",j1]]);var H1=Q1;const W1={class:"flex justify-start items-center grid grid-flow-col mt-3 auto-cols-max"},Y1={class:"w-32"},J1={class:"text-sm text-gray-400"};function X1(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("div",W1,[(0,a.createElementVNode)("div",Y1,[(0,a.createElementVNode)("h5",J1,(0,a.toDisplayString)(o.title),1)]),(0,a.createElementVNode)("h4",{class:(0,a.normalizeClass)(["text-gray-500",{"text-red-400":o.expiring}])},(0,a.toDisplayString)(o.subTitle),3)])}var K1={name:"DetailItem",props:{title:{type:String,required:!0},subTitle:{type:String,required:!0},expiring:{type:Boolean,default:!1,required:!1}}};const e8=(0,i.Z)(K1,[["render",X1]]);var t8=e8,o8={name:"AssignmentDetail",components:{DetailTools:H1,OxdText:n.OxdText,DetailItem:t8},props:{taskGroup:{type:Object,required:!0},isOwner:{type:Boolean,default:!0}},emits:["onToggleMarkComplete","onClose","onSubmit"],computed:{formatDate(){return e=>m1()(e).format("DD MMM")}},methods:{isDeadlineApproaching(e){const t=e.split(" ")[0];return new Date(t)<new Date},onToggleMarkComplete(){this.$emit("onToggleMarkComplete")},onSubmit(){this.$emit("onSubmit")},onClose(){this.$emit("onClose")}}};const a8=(0,i.Z)(o8,[["render",M1]]);var l8=a8;function n8(e,t,o,l,n,r){const i=(0,a.resolveComponent)("circle-progress");return(0,a.openBlock)(),(0,a.createBlock)(i,{size:o.size,"border-width":5,"border-bg-width":5,"fill-color":o.fillColor,percent:o.progress},null,8,["size","fill-color","percent"])}var r8=o(1419),i8=o.n(r8),s8={name:"TaskProgress",components:{CircleProgress:i8()},props:{progress:{type:Number,required:!0},size:{type:Number,default:30},fillColor:{type:String,default:"#288feb"}}};const d8=(0,i.Z)(s8,[["render",n8]]);var c8=d8;const m8="complete_assignment",u8="submit";var p8={name:"MyAssignments",components:{TaskProgress:c8,Assignment:B1,AssignmentDetail:l8,"delete-confirmation":vo},props:{theme:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/my-assignments");return{http:e}},data(){return{meta:null,tasks:[],selectedTask:null,showDetails:!0,submitConfirmation:"The will be submitted and can't be edited again. Are you sure you want to continue?"}},mounted(){this.loadData()},methods:{toggleActive(e){const t=[...this.tasks];t.map((t=>(t.isActive=t.id===e.id,t))),this.tasks=t,this.selectedTask=e,this.$nextTick((()=>{const e=this.$refs.list.querySelector(".active");e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}))},onClose(){this.showDetails=!1},openAssignmentDetail(e){this.selectedTask=e,this.showDetails=!0},loadData(){this.http.getAll().then((e=>{const{meta:t,data:o}=e.data;this.meta=t,this.tasks=o.map(((e,t)=>({...e,isActive:0===t}))),this.selectedTask=o[0]}))},allTasksComplete(){return this.selectedTask.taskGroups.every((e=>e.isCompleted))},onToggleMarkComplete(){this.http.request({url:"/api/v2/task-management/task-groups/actions",method:"PUT",data:{action:m8,groupAssignmentId:this.selectedTask?.id}}).then((()=>{const e=[...this.tasks],t=e.findIndex((e=>e.id===this.selectedTask?.id));e[t].completed=!0,e[t].progress=100,e[t].taskGroups=e[t].taskGroups.map((e=>({...e,isCompleted:!0}))),this.tasks=e,this.selectedTask={...e[t]},this.$toast.generalSuccess("Assignment completed successfully")}))},submitAssignment(){this.allTasksComplete()?this.http.request({url:"/api/v2/task-management/task-groups/actions",method:"PUT",data:{action:u8,groupAssignmentId:this.selectedTask?.id}}).then((()=>{const e=[...this.tasks],t=e.findIndex((e=>e.id===this.selectedTask?.id));e[t].submittedAt=(new Date).toISOString(),this.selectedTask={...e[t]},this.tasks=e,this.$toast.generalSuccess("Assignment submitted successfully")})):this.$toast.unexpectedError("An assignment can only be submitted after all subtasks are completed")},onSubmit(){this.$refs.deleteDialog.showDialog().then((e=>{"ok"===e&&this.submitAssignment()}))}}};const h8=(0,i.Z)(p8,[["render",W0]]);var g8=h8;const v8=(0,a.createElementVNode)("br",null,null,-1),f8={class:"orangehrm-background-container"},y8={class:"orangehrm-paper-container"},C8={class:"orangehrm-header-container"},b8={class:"orangehrm-container"},V8={class:"orangehrm-bottom-container"};function x8(e,t){const o=(0,a.resolveComponent)("oxd-input-field"),l=(0,a.resolveComponent)("oxd-grid-item"),n=(0,a.resolveComponent)("date-input"),r=(0,a.resolveComponent)("oxd-grid"),i=(0,a.resolveComponent)("employee-autocomplete"),s=(0,a.resolveComponent)("oxd-form-row"),d=(0,a.resolveComponent)("oxd-divider"),c=(0,a.resolveComponent)("oxd-button"),m=(0,a.resolveComponent)("oxd-form-actions"),u=(0,a.resolveComponent)("oxd-form"),p=(0,a.resolveComponent)("oxd-table-filter"),h=(0,a.resolveComponent)("table-header"),g=(0,a.resolveComponent)("oxd-card-table"),v=(0,a.resolveComponent)("oxd-pagination"),f=(0,a.resolveComponent)("delete-confirmation"),y=(0,a.resolveComponent)("add-comment-modal");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(p,{"filter-title":"Filter Task Groups"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{onSubmitValid:e.filterItems,onReset:e.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(o,{modelValue:e.filters.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.name=t),label:"Title"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.filters.submittedAt,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.submittedAt=t),label:"Submitted At"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(r,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.filters.employee,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.employee=t),label:"Assignee"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:e.filters.supervisor,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.supervisor=t),label:"Supervisor"},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(r,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.filters.startDate,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filters.startDate=t),label:"Start Date"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.filters.endDate,"onUpdate:modelValue":t[5]||(t[5]=t=>e.filters.endDate=t),label:"End Date"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(l,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{modelValue:e.filters.dueDate,"onUpdate:modelValue":t[6]||(t[6]=t=>e.filters.dueDate=t),label:"Due Date"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(d),(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(c,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1}),v8,(0,a.createElementVNode)("div",f8,[(0,a.createElementVNode)("div",y8,[(0,a.createElementVNode)("div",C8,[(0,a.createVNode)(c,{label:"Assign","icon-name":"plus","display-type":"secondary",onClick:e.onClickAdd},null,8,["onClick"])]),(0,a.createVNode)(h,{selected:e.checkedItems.length,total:e.total,loading:e.isLoading,onDelete:e.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",b8,[(0,a.createVNode)(g,{ref:"cardTable",selected:e.checkedItems,"onUpdate:selected":t[7]||(t[7]=t=>e.checkedItems=t),order:e.sortDefinition,"onUpdate:order":t[8]||(t[8]=t=>e.sortDefinition=t),headers:e.headers,items:e.taskGroups?.data,selectable:e.showActions,loading:e.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","headers","items","selectable","loading"])]),(0,a.createElementVNode)("div",V8,[e.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,current:e.currentPage,"onUpdate:current":t[9]||(t[9]=t=>e.currentPage=t),length:e.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(f,{ref:"deleteDialog","with-confirmation-icon":!1,"confirm-button-text":"Yes",message:e.confirmationMessage},null,8,["message"]),e.showCommentModal?((0,a.openBlock)(),(0,a.createBlock)(y,{key:0,id:e.commentModalState,"model-id":e.selectedTaskGroup?.id,"model-type":e.modelType,comments:e.selectedTaskGroup?.comments,onClose:e.onCommentModalClose},null,8,["id","model-id","model-type","comments","onClose"])):(0,a.createCommentVNode)("",!0)])],64)}function w8(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("h3",{class:(0,a.normalizeClass)({"text-red-400":!o.isCompleted&&r.isDeadlineApproaching(o.date)})},(0,a.toDisplayString)(o.date),3)}var N8={name:"DeadlineDate",props:{date:{type:String,required:!0},isCompleted:{type:Boolean,default:!1}},methods:{isDeadlineApproaching(e){const t=e.split(" ")[0];return new Date(t)<new Date}}};const k8=(0,i.Z)(N8,[["render",w8]]);var _8=k8;function S8(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("h3",{class:(0,a.normalizeClass)({"text-red-400":!o.isCompleted,"text-green-400":o.isCompleted})},(0,a.toDisplayString)(o.isCompleted?"Yes":"No"),3)}var D8={name:"CompleteCell",props:{isCompleted:{type:Boolean,required:!0}}};const $8=(0,i.Z)(D8,[["render",S8]]);var T8=$8;const E8={key:0,class:"flex"};function I8(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-icon-button"),s=(0,a.resolveDirective)("tooltip");return o.taskGroup.submittedAt?((0,a.openBlock)(),(0,a.createElementBlock)("div",E8,[(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("span",null,[(0,a.createVNode)(i,{class:"mr-2",name:"check","display-type":"success",onClick:r.onApprove},null,8,["onClick"])])),[[s,"Approve Assignment"]]),(0,a.createVNode)(i,{name:"x","display-type":"danger",onClick:r.onReject},null,8,["onClick"])])):(0,a.createCommentVNode)("",!0)}var B8={name:"ApprovalCell",components:{OxdIconButton:n.OxdIconButton},props:{taskGroup:{type:Object,required:!0}},emits:["approve","reject"],methods:{onApprove(){console.log("approve"),this.emitter.emit("approve",this.taskGroup)},onReject(){this.emitter.emit("reject",this.taskGroup)}}};const L8=(0,i.Z)(B8,[["render",I8]]);var A8=L8;const U8={class:"italic"};function P8(e,t,o,l,n,r){return(0,a.openBlock)(),(0,a.createElementBlock)("h3",U8,(0,a.toDisplayString)(o.name["name"]??""),1)}var q8={name:"NameCell",props:{name:{type:String,required:!0}}};const M8=(0,i.Z)(q8,[["render",P8]]);var F8=M8;const O8={component:"oxd-button",props:{label:"Approve",displayType:"label-success",size:"small",onClick:null}},j8={component:"oxd-button",props:{label:"Reject",displayType:"label-danger",size:"small",onClick:null}},z8={component:"oxd-button",props:{label:"Cancel",displayType:"label-warn",size:"medium",onClick:null}},R8={component:"oxd-table-dropdown",props:{options:[],style:{"margin-left":"auto"},onClick:null}};function G8(e,{primaryActions:t={approve:O8,reject:j8,cancel:z8,more:R8}}={}){const o=t=>e.request({method:"PUT",url:"/api/v2/task-management/task-groups/actions",data:t});return{assignmentActions:t,performAssignmentAction:o}}const Z8={class:"orangehrm-modal-header"},Q8={class:"orangehrm-modal-content"};function H8(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("comment"),c=(0,a.resolveComponent)("oxd-input-field"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(v,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Z8,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Add Comments ")])),_:1})]),(0,a.createVNode)(s),(0,a.createElementVNode)("div",Q8,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.comments,(e=>((0,a.openBlock)(),(0,a.createBlock)(d,{key:e.id,comment:e},null,8,["comment"])))),128))]),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{modelValue:n.comment,"onUpdate:modelValue":t[0]||(t[0]=e=>n.comment=e),type:"textarea",placeholder:e.$t("general.comment_here"),rules:n.rules.comment},null,8,["modelValue","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])),_:1},8,["onUpdate:show"])}var W8={name:"AddCommentModal",components:{"oxd-dialog":n.OxdDialog,Comment:D1,OxdText:n.OxdText,OxdForm:n.OxdForm,OxdDivider:n.OxdDivider,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,SubmitButton:d,OxdInputField:n.OxdInputField,OxdButton:n.OxdButton},props:{id:{type:Number,required:!1,default:null},leaveRequest:{type:Boolean,default:!0},modelType:{type:String,required:!0},modelId:{type:Number,required:!0},comments:{type:Array,default:()=>Array.from([])}},emits:["close"],setup(){const e=new q(window.appGlobal.baseUrl),{addComment:t,deleteComment:o,editComment:a}=T1(e);return{http:e,addComment:t,deleteComment:o,editComment:a}},data(){return{isLoading:!1,comment:null,rules:{comment:[So]}}},methods:{onSave(){const e={body:this.comment,model_type:this.modelType,model_id:this.modelId};this.isLoading=!0,this.addComment(e).then((()=>{this.comment=null,this.$emit("close",!0)})).finally((()=>this.isLoading=!1))},onCancel(){this.comment=null,this.$emit("close",!0)}}};const Y8=(0,i.Z)(W8,[["render",H8],["__scopeId","data-v-ec66ad64"]]);var J8=Y8;const X8={"task.title":"DEFAULT"},K8="The selected record will be permanently deleted. Are you sure you want to continue?",e2="The selected assignment will be approved. Are you sure you want to continue?",t2="The selected assignment will be rejected. Are you sure you want to continue?";var o2={name:"TaskGroups",components:{AddCommentModal:J8,"delete-confirmation":vo,OxdCardTable:n.OxdCardTable,TableHeader:v,OxdPagination:n.OxdPagination,OxdButton:n.OxdButton,OxdForm:n.OxdForm,OxdTableFilter:n.OxdTableFilter,OxdFormRow:n.OxdFormRow,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem,OxdFormActions:n.OxdFormActions,OxdDivider:n.OxdDivider,DateInput:vt,OxdInputField:n.OxdInputField,EmployeeAutocomplete:rl},props:{showActions:{type:Boolean,default:!0},userId:{type:String,required:!0},apiUrl:{type:String,default:()=>"/api/v2/task-management/task-assignments"},theme:{type:Object,required:!0}},setup(e){const{sortDefinition:t,sortField:o,sortOrder:l,onSort:n}=fo({sortDefinition:X8}),r=(0,a.ref)({name:"",startDate:"",endDate:"",dueDate:"",submittedAt:"",employee:null,supervisor:null}),i=(0,a.computed)((()=>({name:r.value.name,startDate:r.value.startDate,endDate:r.value.endDate,dueDate:r.value.dueDate,employeeId:r.value.employee?.id,supervisorId:r.value.supervisor?.id,submittedAt:r.value.submittedAt,sortField:o.value,sortOrder:l.value}))),s=new q(window.appGlobal.baseUrl,e.apiUrl),{assignmentActions:d,performAssignmentAction:c}=G8(s),{showPaginator:m,currentPage:u,total:p,pages:h,response:g,isLoading:v,execQuery:f}=so(s,{query:i});return n(f),{http:s,showPaginator:m,currentPage:u,isLoading:v,total:p,assignmentActions:d,pages:h,execQuery:f,performAssignmentAction:c,taskGroups:g,filters:r,sortDefinition:t}},data(){return{checkedItems:[],showCommentModal:!1,commentModalState:null,selectedTaskGroup:null,modelType:$1,confirmationMessage:K8}},computed:{headers(){return[{name:"name",slot:"name",title:"Name",sortField:"t.name",style:{flex:1}},{name:"startDate",slot:"startDate",title:"Start Date",sortField:"t.startDate",style:{flex:1}},{name:"endDate",slot:"endDate",title:"End Date",sortField:"t.endDate",style:{flex:1},cellRenderer:this.endDateCellRenderer},{name:"dueDate",slot:"dueDate",title:"Due Date",sortField:"t.dueDate",style:{flex:1},cellRenderer:this.dueDateCellRenderer},{name:"completed",slot:"completed",title:"Completed",sortField:"t.completed",style:{flex:1},cellRenderer:this.renderCompletedCell},{name:"submittedAt",slot:"submittedAt",title:"Submitted At",sortField:"t.submittedAt",style:{flex:1}},{name:"creator",slot:"creator",title:"Creator",style:{flex:1},cellRenderer:this.renderCreatorName},{name:"supervisor",slot:"supervisor",title:"Supervisor",style:{flex:1},cellRenderer:this.renderSupervisorName},{name:"assignee",slot:"assignee",title:"Assignee",style:{flex:1},cellRenderer:this.renderAssigneeName},{name:"progress",slot:"progress",title:"Progress",style:{flex:1},cellRenderer:this.renderProgressCell},{name:"approvals",slot:"approvals",title:"",style:{flex:1},cellRenderer:this.renderApprovalCell},{name:"actions",slot:"action",title:"",style:{flex:1,flexDirection:"row"},cellType:"oxd-table-cell-actions",cellRenderer:this.actionCellRenderer}]}},methods:{actionCellRenderer(...[,,,e]){const t={},{more:o}=this.assignmentActions,a=[{label:this.$t("general.add_comment"),context:"add_comment"},{label:"View Assignment Details",context:"assignment_details"},{label:this.$t("leave.view_pim_info"),context:"pim_details"}];return e.creator.id===this.userId&&(a.push({label:"Edit Assignment Details",context:"edit_details"}),a.push({label:"Delete Assignment",context:"delete_assignment"})),o.props.options=a,o.props.onClick=t=>this.onAssignmentDropdownAction(t,e),t.more=o,{props:{header:{cellConfig:t}}}},onAssignmentDropdownAction(e,t){switch(e.context){case"delete_assignment":this.confirmationMessage=K8,this.onClickDelete(t);break;case"edit_details":this.onClickEdit(t);break;case"pim_details":U("/pim/viewPersonalDetails/empNumber/{id}",{id:t.assignee.id.toString()});break;case"add_comment":this.selectedTaskGroup=t,this.showCommentModal=!0;break;case"assignment_details":this.onClickView(t);break}},onClickAdd(){U("/taskManagement/createTask")},onClickEdit(e){U(`/taskManagement/viewTaskGroups/edit/${e.id}`)},onClickView(e){U(`/taskManagement/viewTaskGroups/${e.id}`)},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},async filterItems(){await this.execQuery()},async resetDataTable(){this.checkedItems=[],await this.execQuery()},deleteItems(e){this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()}))},onCommentModalClose(){this.commentModalState=null,this.showCommentModal=!1,this.resetDataTable()},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.taskGroups?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},dueDateCellRenderer(e,t,o,a){return this.renderDateCell(e,t,o,a,"dueDate")},endDateCellRenderer(e,t,o,a){return this.renderDateCell(e,t,o,a,"endDate")},renderDateCell(e,t,o,a,l){return{component:_8,props:{date:a[l],isComplete:a.completed}}},renderCompletedCell(e,t,o,a){return{component:T8,props:{isComplete:a.completed}}},renderProgressCell(e,t,o,a){return{component:c8,props:{progress:a?.progress,fillColor:this.theme["--oxd-primary-one-color"]??null}}},renderNameCell(e,t,o,a,l){return{component:F8,props:{name:a[l]}}},renderApprovalCell(e,t,o,a){return{component:A8,props:{taskGroup:a}}},renderSupervisorName(e,t,o,a){return this.renderNameCell(e,t,o,a,"supervisor")},renderAssigneeName(e,t,o,a){return this.renderNameCell(e,t,o,a,"assignee")},renderCreatorName(e,t,o,a){return this.renderNameCell(e,t,o,a,"creator")}},mounted(){this.emitter.on("approve",(e=>{this.confirmationMessage=e2,this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.performAssignmentAction({action:"approve",groupAssignmentId:e.id}).then((()=>{this.resetDataTable(),this.$toast.generalSuccess("Assignment approved")}))}))})),this.emitter.on("reject",(e=>{this.confirmationMessage=t2,this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.performAssignmentAction({action:"reject",groupAssignmentId:e.id}).then((()=>{this.resetDataTable(),this.$toast.generalSuccess("Assignment approved")}))}))}))}};const a2=(0,i.Z)(o2,[["render",x8]]);var l2=a2;function n2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("task-groups");return(0,a.openBlock)(),(0,a.createBlock)(i,{"api-url":"/api/v2/task-management/employee-assignments","show-actions":!1,theme:o.theme,"user-id":o.userId},null,8,["theme","user-id"])}var r2={name:"EmployeeTaskGroups",components:{TaskGroups:l2},props:{theme:{type:Object,default:null},userId:{type:String,required:!0}}};const i2=(0,i.Z)(r2,[["render",n2]]);var s2=i2;const d2={class:"orangehrm-background-container"},c2={class:"orangehrm-paper-container"},m2={class:"orangehrm-header-container"},u2={class:"orangehrm-container"},p2={class:"orangehrm-bottom-container"};function h2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-button"),s=(0,a.resolveComponent)("table-header"),d=(0,a.resolveComponent)("oxd-card-table"),c=(0,a.resolveComponent)("oxd-pagination"),m=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)("div",d2,[(0,a.createElementVNode)("div",c2,[(0,a.createElementVNode)("div",m2,[(0,a.createVNode)(i,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(s,{selected:n.checkedItems.length,total:l.items.data?.length,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",u2,[(0,a.createVNode)(d,{ref:"cardTable",selected:n.checkedItems,"onUpdate:selected":t[0]||(t[0]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[1]||(t[1]=e=>l.sortDefinition=e),headers:r.headers,items:l.items?.data,selectable:!0,clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:r.onClickEdit},null,8,["selected","order","headers","items","loading","onClick"])]),(0,a.createElementVNode)("div",p2,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,current:l.currentPage,"onUpdate:current":t[2]||(t[2]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(m,{ref:"deleteDialog"},null,512)])}const g2={"task.title":"DEFAULT","task.type":"DEFAULT","jobTitle.jobTitleName":"DEFAULT"};var v2={name:"TaskTypes",components:{"delete-confirmation":vo,OxdButton:n.OxdButton,OxdCardTable:n.OxdCardTable,OxdPagination:n.OxdPagination,TableHeader:v},props:{unSelectableTaskIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map((t=>{const o=e.unSelectableTaskIds.findIndex((e=>e===t.id));return{...t,isSelectable:-1===o}})),o=(0,a.ref)({name:""}),{sortDefinition:l,onSort:n}=fo({sortDefinition:g2}),r=(0,a.computed)((()=>({name:o.value.name}))),i=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-types"),{showPaginator:s,currentPage:d,total:c,pages:m,pageSize:u,response:p,isLoading:h,execQuery:g}=so(i,{query:r,normalizer:t});return n(g),{http:i,showPaginator:s,currentPage:d,isLoading:h,total:c,pages:m,pageSize:u,execQuery:g,items:p,filters:o,sortDefinition:l}},data(){return{checkedItems:[],rules:{tasks:[]}}},computed:{headers(){return[{name:"name",slot:"name",title:"Name",sortField:"taskType.name",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}]}},methods:{onClickEdit(e){e.id&&U("/taskManagement/saveTaskType/{id}",{id:e.id})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},async filterItems(){await this.execQuery()},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){U("/taskManagement/saveTaskType")}}};const f2=(0,i.Z)(v2,[["render",h2]]);var y2=f2;const C2=(0,a.createElementVNode)("br",null,null,-1),b2={class:"orangehrm-background-container"},V2={class:"orangehrm-paper-container"},x2={class:"orangehrm-header-container"},w2={class:"orangehrm-container"},N2={class:"orangehrm-bottom-container"};function k2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("task-auto-complete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("onboarding-type-dropdown"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("table-header"),y=(0,a.resolveComponent)("oxd-card-table"),C=(0,a.resolveComponent)("oxd-pagination"),b=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(v,{"filter-title":"Task Information"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems,onReset:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.task,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.task=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.type,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.type=e),label:"Task Type"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid","onReset"])])),_:1}),C2,(0,a.createElementVNode)("div",b2,[(0,a.createElementVNode)("div",V2,[(0,a.createElementVNode)("div",x2,[(0,a.createVNode)(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(f,{selected:n.checkedItems.length,total:l.total,loading:l.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createElementVNode)("div",w2,[(0,a.createVNode)(y,{ref:"cardTable",selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[3]||(t[3]=e=>l.sortDefinition=e),headers:r.headers,items:l.items?.data,selectable:!0,clickable:!0,loading:l.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card",onClick:r.onClickEdit},null,8,["selected","order","headers","items","loading","onClick"])]),(0,a.createElementVNode)("div",N2,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,current:l.currentPage,"onUpdate:current":t[4]||(t[4]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(b,{ref:"deleteDialog"},null,512)])],64)}function _2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:"Task Type",options:l.options,rules:o.rules,required:o.required},null,8,["options","rules","required"])}var S2={name:"OnboardingTypeDropdown",props:{rules:{type:Array,required:!1,default:Array.from([])},required:{type:Boolean,required:!1,default:!1}},setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-types");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.name})))}))})),{options:e}}};const D2=(0,i.Z)(S2,[["render",_2]]);var $2=D2;function T2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:"Task Title",clear:!1,"create-options":r.loadTasks},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["create-options"])}var E2={name:"TaskAutoComplete",components:{OxdInputField:n.OxdInputField},props:{params:{type:Object,default:()=>({})},apiPath:{type:String,default:"/api/v2/onboarding/tasks"}},setup(e){const t=new q(window.appGlobal.baseUrl,e.apiPath);return{http:t}},methods:{async loadTasks(e){return new Promise((t=>{e.trim()?this.http.getAll({title:e.trim()}).then((({data:e})=>{const o=e.data.map((e=>({id:e.id,label:e.title,_task:e})));t(o)})):t([])}))}}};const I2=(0,i.Z)(E2,[["render",T2]]);var B2=I2;const L2={"task.title":"DEFAULT","task.type":"DEFAULT","jobTitle.jobTitleName":"DEFAULT"};var A2={name:"TaskList",components:{"delete-confirmation":vo,TaskAutoComplete:B2,OnboardingTypeDropdown:$2,OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem,OxdDivider:n.OxdDivider,OxdTableFilter:n.OxdTableFilter,OxdButton:n.OxdButton,OxdCardTable:n.OxdCardTable,OxdPagination:n.OxdPagination,TableHeader:v},props:{unSelectableTaskIds:{type:Array,default:()=>[]}},setup(e){const t=t=>t.map((t=>{const o=e.unSelectableTaskIds.findIndex((e=>e===t.id));return{...t,taskType:t.taskType?.name,isSelectable:-1===o}})),o=(0,a.ref)({title:"",notes:"",jobTitleId:null,type:null,task:null}),{sortDefinition:l,sortField:n,sortOrder:r,onSort:i}=fo({sortDefinition:L2}),s=(0,a.computed)((()=>({model:"detailed",title:o.value.task?.label,taskType:o.value.type?parseInt(o.value.type?.id):null,jobTitleId:o.value.jobTitleId?.id,sortField:n.value,sortOrder:r.value}))),d=new q(window.appGlobal.baseUrl,"/api/v2/task-management/tasks"),{showPaginator:c,currentPage:m,total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f}=so(d,{query:s,normalizer:t});return i(f),{http:d,showPaginator:c,currentPage:m,isLoading:v,total:u,pages:p,pageSize:h,execQuery:f,items:g,filters:o,sortDefinition:l}},data(){return{checkedItems:[],rules:{tasks:[]}}},computed:{headers(){return[{name:"title",slot:"title",title:"Title",sortField:"task.title",style:{flex:1}},{name:"taskType",slot:"taskType",title:"Type",sortField:"taskType.name",style:{flex:1}},{name:"notes",slot:"notes",title:"Notes",sortField:"task.notes",style:{flex:1}},{name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}]}},methods:{onClickEdit(e){e.id&&U("/taskManagement/saveTask/{id}",{id:e.id})},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},async filterItems(){await this.execQuery()},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},async resetDataTable(){this.checkedItems=[],await this.execQuery()},onClickAdd(){U("/taskManagement/saveTask")}}};const U2=(0,i.Z)(A2,[["render",k2]]);var P2=U2;const q2={class:"orangehrm-background-container"},M2={class:"orangehrm-card-container"};function F2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("onboarding-type-dropdown"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",q2,[(0,a.createElementVNode)("div",M2,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Add Task ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.task.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.task.title=e),autofocus:"",label:"Task Title",rules:n.rules.title,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.task.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.task.type=e),required:"",label:"Task Type",rules:n.rules.type},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.task.notes,"onUpdate:modelValue":t[2]||(t[2]=e=>n.task.notes=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:n.rules.notes},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const O2={title:"",notes:"",jobTitleId:null,type:null};var j2={name:"SaveTask",components:{OnboardingTypeDropdown:$2,OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdDivider:n.OxdDivider,OxdButton:n.OxdButton,OxdText:n.OxdText,OxdInputField:n.OxdInputField,SubmitButton:d,RequiredText:b},props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/tasks");return{http:e}},data(){return{isLoading:!1,task:{...O2},rules:{title:[So,Do(100)],type:[So],notes:[Do(1e3)]}}},methods:{onSave(){this.isLoading=!0;const e={...this.task,jobTitleId:this.task?.jobTitleId?.id,type:this.task?.type?.id};this.http.create({...e}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()})).catch((()=>this.isLoading=!1))},onCancel(){U("/taskManagement/viewTasks")}}};const z2=(0,i.Z)(j2,[["render",F2]]);var R2=z2;const G2={class:"orangehrm-background-container"},Z2={class:"orangehrm-card-container"};function Q2(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("onboarding-type-dropdown"),u=(0,a.resolveComponent)("required-text"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",G2,[(0,a.createElementVNode)("div",Z2,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Edit Task ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.task.title,"onUpdate:modelValue":t[0]||(t[0]=e=>n.task.title=e),autofocus:"",label:"Task Title",rules:n.rules.title,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.task.type,"onUpdate:modelValue":t[1]||(t[1]=e=>n.task.type=e),required:"",label:"Task Type",rules:n.rules.type},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.task.notes,"onUpdate:modelValue":t[2]||(t[2]=e=>n.task.notes=e),type:"textarea",label:e.$t("general.note"),placeholder:e.$t("general.add_note"),"label-icon":"pencil-square",rules:n.rules.notes},null,8,["modelValue","label","placeholder","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u),(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(h)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const H2={title:"",notes:"",type:null};var W2={name:"EditTask",components:{OnboardingTypeDropdown:$2,OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdDivider:n.OxdDivider,OxdButton:n.OxdButton,OxdText:n.OxdText,OxdInputField:n.OxdInputField,SubmitButton:d,RequiredText:b},props:{taskId:{type:String,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/tasks");return{http:e}},data(){return{isLoading:!1,task:{...H2},rules:{title:[So,Do(100)],taskId:[So],type:[So],notes:[Do(1e3)]}}},created(){this.isLoading=!0,this.http.get(this.taskId).then((e=>{const{data:t}=e.data;return this.task.title=t.title,this.task.notes=t.notes,this.task.type={id:t.taskType?.id,label:t.taskType?.name},this.http.getAll({limit:0})})).then((e=>{const{data:t}=e.data;this.rules.title.push((e=>{const o=t.findIndex((t=>t.title===e));if(o>-1){const{id:e}=t[o];return e===this.taskId||this.$t("general.already_exists")}return!0}))})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0;const e={...this.task,type:this.task?.type?.id};this.http.update(this.taskId,{...e}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()})).catch((()=>{this.isLoading=!1}))},onCancel(){U("/taskManagement/viewTasks")}}};const Y2=(0,i.Z)(W2,[["render",Q2]]);var J2=Y2;const X2={class:"orangehrm-background-container"},K2={class:"orangehrm-card-container"};function e3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",X2,[(0,a.createElementVNode)("div",K2,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Add Task Type")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taskType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.taskType.name=e),autofocus:"",label:"Name",rules:n.rules.name,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const t3={name:""};var o3={name:"SaveTaskType",components:{OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdDivider:n.OxdDivider,OxdButton:n.OxdButton,OxdText:n.OxdText,OxdInputField:n.OxdInputField,SubmitButton:d,RequiredText:b},props:{allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-types");return{http:e}},data(){return{isLoading:!1,taskType:{...t3},rules:{name:[So,Do(100)]}}},methods:{onSave(){this.isLoading=!0,this.http.create({...this.taskType}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()})).catch((()=>{this.isLoading=!1}))},onCancel(){U("/taskManagement/viewTaskTypes")}}};const a3=(0,i.Z)(o3,[["render",e3]]);var l3=a3;const n3={class:"orangehrm-background-container"},r3={class:"orangehrm-card-container"};function i3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("required-text"),u=(0,a.resolveComponent)("oxd-button"),p=(0,a.resolveComponent)("submit-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n3,[(0,a.createElementVNode)("div",r3,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("Edit Task Type")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.taskType.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.taskType.name=e),autofocus:"",label:"Name",rules:n.rules.name,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m),(0,a.createVNode)(u,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(p)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const s3={name:""};var d3={name:"EditTaskType",components:{OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdDivider:n.OxdDivider,OxdButton:n.OxdButton,OxdText:n.OxdText,OxdInputField:n.OxdInputField,SubmitButton:d,RequiredText:b},props:{taskTypeId:{type:String,required:!0},allowedFileTypes:{type:Array,required:!0},maxFileSize:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-types");return{http:e}},data(){return{isLoading:!1,taskType:{...s3},rules:{name:[So,Do(100)]}}},created(){this.isLoading=!0,this.http.get(this.taskTypeId).then((e=>{const{data:t}=e.data;this.taskType.name=t.name})).finally((()=>{this.isLoading=!1}))},methods:{onSave(){this.isLoading=!0,this.http.create({...this.taskType}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()})).catch((()=>{this.isLoading=!1}))},onCancel(){U("/taskManagement/viewTaskTypes")}}};const c3=(0,i.Z)(d3,[["render",i3]]);var m3=c3;const u3={class:"flex relative h-full"},p3={class:"fixed top-15 right-3 h-screen w-1/4"};function h3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("task-progress"),s=(0,a.resolveComponent)("assignment"),d=(0,a.resolveComponent)("assignment-detail");return(0,a.openBlock)(),(0,a.createElementBlock)("div",u3,[(0,a.createElementVNode)("div",{ref:"list",class:(0,a.normalizeClass)({"w-2/3 mr-3":n.showDetails,"w-full":!n.showDetails})},[n.selectedTask?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,"task-group":n.selectedTask,class:(0,a.normalizeClass)({active:!0}),"is-owner":r.isOwner,onOpenDetails:r.openAssignmentDetail,onToggleActive:r.toggleActive},{exportOptions:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{"fill-color":o.theme["--oxd-primary-one-color"]??null,progress:n.selectedTask.progress},null,8,["fill-color","progress"])])),_:1},8,["task-group","is-owner","onOpenDetails","onToggleActive"])):(0,a.createCommentVNode)("",!0)],2),(0,a.createElementVNode)("div",p3,[n.selectedTask&&n.showDetails?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,"is-owner":r.isOwner,"task-group":n.selectedTask,onOnClose:r.onClose,onOnToggleMarkComplete:r.onToggleMarkComplete,onOnSubmit:r.onSubmit},null,8,["is-owner","task-group","onOnClose","onOnToggleMarkComplete","onOnSubmit"])):(0,a.createCommentVNode)("",!0)])])}var g3={name:"FullAssignment",components:{TaskProgress:c8,Assignment:B1,AssignmentDetail:l8},props:{assignmentId:{type:String,default:null},creatorId:{type:String,default:null},theme:{type:Object,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-assignments");return{http:e}},data(){return{selectedTask:null,showDetails:!0}},computed:{isOwner(){return!(!this.creatorId||!this.selectedTask)&&this.creatorId.toString()===this.selectedTask?.creator?.id?.toString()}},mounted(){this.loadData()},methods:{toggleActive(){this.$nextTick((()=>{const e=this.$refs.list.querySelector(".active");e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}))},onClose(){this.showDetails=!1},openAssignmentDetail(e){this.selectedTask=e,this.showDetails=!0},loadData(){this.http.get(this.assignmentId).then((e=>{const{data:t}=e.data;this.selectedTask={...t,isActive:!0}}))},allTasksComplete(){return this.selectedTask.taskGroups.every((e=>e.isCompleted))},onToggleMarkComplete(){this.http.request({url:"/api/v2/task-management/task-groups/actions",method:"PUT",data:{action:m8,groupAssignmentId:this.selectedTask?.id}}).then((()=>{const e=this.tasks,t=e.findIndex((e=>e.id===this.selectedTask?.id));e[t].completed=!0,e[t].taskGroups=e[t].taskGroups.map((e=>({...e,isCompleted:!0}))),this.tasks=e,this.$toast.generalSuccess("Assignment completed successfully")}))},submitAssignment(){this.allTasksComplete()?this.http.request({url:"/api/v2/task-management/task-groups/actions",method:"PUT",data:{action:u8,groupAssignmentId:this.selectedTask?.id}}).then((()=>{const e=this.tasks,t=e.findIndex((e=>e.id===this.selectedTask?.id));e[t].submittedAt=(new Date).toISOString(),this.tasks=e,this.$toast.generalSuccess("Assignment submitted successfully")})):this.$toast.unexpectedError("An assignment can only be submitted after all subtasks are completed")},onSubmit(){this.$refs.deleteDialog.showDialog().then((e=>{"ok"===e&&this.submitAssignment()}))}}};const v3=(0,i.Z)(g3,[["render",h3]]);var f3=v3;function y3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("create-onboarding");return n.selectedTask?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,mode:"edit",assignment:n.selectedTask},null,8,["assignment"])):(0,a.createCommentVNode)("",!0)}var C3={name:"EditAssignment",components:{CreateOnboarding:Z0},props:{assignmentId:{type:String,default:null}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/task-management/task-assignments");return{http:e}},data(){return{selectedTask:null}},mounted(){this.loadData()},methods:{loadData(){this.http.get(this.assignmentId).then((e=>{const{data:t}=e.data;t.submittedAt?this.$toast.warn({message:"The assignment has already been submitted",title:"Assignment Submitted"}).then((()=>{U("/taskManagement/viewTaskGroups")})):this.selectedTask=t}))}}};const b3=(0,i.Z)(C3,[["render",y3]]);var V3=b3,x3={"create-onboarding":Z0,"my-assignments":g8,"task-groups":l2,"employee-task-groups":s2,"task-types":y2,"task-list":P2,"save-task":R2,"edit-task":J2,"save-task-type":l3,"edit-task-type":m3,"full-assignment":f3,"edit-assignment":V3};const w3=(0,a.createElementVNode)("br",null,null,-1),N3={class:"orangehrm-paper-container"},k3={class:"orangehrm-header-container"},_3={class:"orangehrm-container"},S3={class:"orangehrm-bottom-container"};function D3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("event-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("table-header"),y=(0,a.resolveComponent)("oxd-card-table"),C=(0,a.resolveComponent)("oxd-pagination"),b=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(v,{"filter-title":e.$t("claim.events")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.name=e),label:e.$t("claim.event_name")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.status,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),options:n.ClaimEventStatuses},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),w3,(0,a.createElementVNode)("div",N3,[(0,a.createElementVNode)("div",k3,[(0,a.createVNode)(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(f,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),(0,a.createElementVNode)("div",_3,[(0,a.createVNode)(y,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[3]||(t[3]=e=>l.sortDefinition=e),items:l.items.data,headers:n.headers,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","items","headers","loading"])]),(0,a.createElementVNode)("div",S3,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,current:l.currentPage,"onUpdate:current":t[4]||(t[4]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(b,{ref:"deleteDialog"},null,512)],64)}function $3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",clear:!1,label:e.$t("claim.event_name"),"create-options":r.loadEvents},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var T3={name:"EventAutocomplete",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/events");return{http:e}},methods:{async loadEvents(e){return new Promise((t=>{if(e.trim()){const o={name:e.trim()};this.http.getAll(o).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:e.name}))))}))}else t([])}))}}};const E3=(0,i.Z)(T3,[["render",$3],["__scopeId","data-v-5bd34814"]]);var I3=E3;const B3={name:"",status:null},L3={"claimEvent.name":"ASC","claimEvent.status":"DESC"};var A3={components:{"delete-confirmation":vo,"event-autocomplete":I3},setup(){const e=(0,a.ref)({...B3}),{$t:t}=Ne(),{sortDefinition:o,sortField:l,sortOrder:n,onSort:r}=fo({sortDefinition:L3}),i=(0,a.computed)((()=>({eventId:"object"===typeof e.value.name?e.value.name.id:null,name:"string"===typeof e.value.name?e.value.name:null,status:e.value.status?1===e.value.status?.id:null,sortField:l.value,sortOrder:n.value}))),s=e=>e.map((e=>({id:e.id,name:e.name,description:e.description,status:e.status?t("general.active"):t("performance.inactive")}))),d=new q(window.appGlobal.baseUrl,"/api/v2/claim/events"),{showPaginator:c,currentPage:m,total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f}=so(d,{normalizer:s,query:i});return r(f),{http:d,showPaginator:c,currentPage:m,isLoading:v,total:u,pages:p,pageSize:h,execQuery:f,items:g,response:g,filters:e,sortDefinition:o}},data(){return{headers:[{name:"name",title:this.$t("claim.event_name"),slot:"title",sortField:"claimEvent.name",style:{flex:3}},{name:"status",title:this.$t("general.status"),sortField:"claimEvent.status",style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],ClaimEventStatuses:[{id:1,label:this.$t("general.active")},{id:0,label:this.$t("performance.inactive")}]}},methods:{async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...B3},this.filterItems()},onClickAdd(){U("/claim/saveEvents")},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},onClickEdit(e){U("/claim/saveEvents/{id}",{id:e.id})}}};const U3=(0,i.Z)(A3,[["render",D3]]);var P3=U3;const q3={class:"orangehrm-background-container"},M3={class:"orangehrm-card-container"},F3={class:"orangehrm-sm-field"};function O3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-switch-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",q3,[(0,a.createElementVNode)("div",M3,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("claim.add_event")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.claimEvent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.claimEvent.name=e),label:e.$t("claim.event_name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.claimEvent.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.claimEvent.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",F3,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(m,{modelValue:n.claimEvent.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.claimEvent.status=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const j3={name:"",description:"",status:!0};var z3={components:{"oxd-switch-input":n.OxdSwitchInput},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/events");return{http:e}},data(){return{isLoading:!1,claimEvent:{...j3},rules:{name:[So,Do(100)],description:[Do(1e3)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name.toLowerCase()==e.toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/claim/viewEvents")},onSave(){this.isLoading=!0,this.http.create({...this.claimEvent}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const R3=(0,i.Z)(z3,[["render",O3],["__scopeId","data-v-1aedcd5c"]]);var G3=R3;const Z3={class:"orangehrm-background-container"},Q3={class:"orangehrm-card-container"},H3={class:"orangehrm-sm-field"};function W3(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-switch-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",Z3,[(0,a.createElementVNode)("div",Q3,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("claim.edit_event")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.claimEvent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.claimEvent.name=e),label:e.$t("claim.event_name"),disabled:"",required:""},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.claimEvent.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.claimEvent.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",H3,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(u,{modelValue:n.claimEvent.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.claimEvent.status=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const Y3={name:"",description:"",status:null};var J3={components:{"oxd-switch-input":n.OxdSwitchInput},props:{id:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/events");return{http:e}},data(){return{isLoading:!1,claimEvent:{...Y3},rules:{description:[Do(1e3)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.id).then((e=>{const{data:t}=e.data;this.claimEvent={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/claim/viewEvents")},onSave(){this.isLoading=!0,this.http.update(this.id,{description:this.claimEvent.description,status:this.claimEvent.status}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const X3=(0,i.Z)(J3,[["render",W3],["__scopeId","data-v-10b9272b"]]);var K3=X3;const e4=(0,a.createElementVNode)("br",null,null,-1),t4={class:"orangehrm-paper-container"},o4={class:"orangehrm-header-container"},a4={class:"orangehrm-container"},l4={class:"orangehrm-bottom-container"};function n4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("expense-type-autocomplete"),s=(0,a.resolveComponent)("oxd-grid-item"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid"),m=(0,a.resolveComponent)("oxd-form-row"),u=(0,a.resolveComponent)("oxd-divider"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("oxd-form-actions"),g=(0,a.resolveComponent)("oxd-form"),v=(0,a.resolveComponent)("oxd-table-filter"),f=(0,a.resolveComponent)("table-header"),y=(0,a.resolveComponent)("oxd-card-table"),C=(0,a.resolveComponent)("oxd-pagination"),b=(0,a.resolveComponent)("delete-confirmation");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(v,{"filter-title":e.$t("claim.expense_types")},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,{onSubmitValid:r.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(i,{modelValue:l.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.filters.name=e),label:e.$t("general.name")},null,8,["modelValue","label"])])),_:1}),(0,a.createVNode)(s,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:l.filters.status,"onUpdate:modelValue":t[1]||(t[1]=e=>l.filters.status=e),type:"select",label:e.$t("general.status"),options:n.ExpenseTypeStatuses},null,8,["modelValue","label","options"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(u),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{"display-type":"ghost",label:e.$t("general.reset"),onClick:r.onClickReset},null,8,["label","onClick"]),(0,a.createVNode)(p,{class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.search"),type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmitValid"])])),_:1},8,["filter-title"]),e4,(0,a.createElementVNode)("div",t4,[(0,a.createElementVNode)("div",o4,[(0,a.createVNode)(p,{label:e.$t("general.add"),"icon-name":"plus","display-type":"secondary",onClick:r.onClickAdd},null,8,["label","onClick"])]),(0,a.createVNode)(f,{total:l.total,loading:l.isLoading,selected:n.checkedItems.length,onDelete:r.onClickDeleteSelected},null,8,["total","loading","selected","onDelete"]),(0,a.createElementVNode)("div",a4,[(0,a.createVNode)(y,{selected:n.checkedItems,"onUpdate:selected":t[2]||(t[2]=e=>n.checkedItems=e),order:l.sortDefinition,"onUpdate:order":t[3]||(t[3]=e=>l.sortDefinition=e),items:l.items.data,headers:n.headers,selectable:!0,clickable:!1,loading:l.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","order","items","headers","loading"])]),(0,a.createElementVNode)("div",l4,[l.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(C,{key:0,current:l.currentPage,"onUpdate:current":t[4]||(t[4]=e=>l.currentPage=e),length:l.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)(b,{ref:"deleteDialog"},null,512)],64)}function r4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",clear:!1,label:e.$t("general.name"),"create-options":r.loadTypes},{option:(0,a.withCtx)((({data:e})=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.label),1)])),_:1},8,["label","create-options"])}var i4={name:"ExpenseTypeAutocomplete",setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/expenses/types");return{http:e}},methods:{async loadTypes(e){return new Promise((t=>{if(e.trim()){const o={name:e.trim()};this.http.getAll(o).then((({data:e})=>{t(e.data.map((e=>({id:e.id,label:e.name}))))}))}else t([])}))}}};const s4=(0,i.Z)(i4,[["render",r4],["__scopeId","data-v-d2638c7e"]]);var d4=s4;const c4={name:"",status:null},m4={"expenseType.name":"ASC","expenseType.status":"DESC"};var u4={components:{"delete-confirmation":vo,"expense-type-autocomplete":d4},setup(){const e=(0,a.ref)({...c4}),{$t:t}=Ne(),{sortDefinition:o,sortField:l,sortOrder:n,onSort:r}=fo({sortDefinition:m4}),i=(0,a.computed)((()=>({expenseTypeId:"object"===typeof e.value.name?e.value.name.id:null,name:"string"===typeof e.value.name?e.value.name:null,status:e.value.status?1===e.value.status?.id:null,sortField:l.value,sortOrder:n.value}))),s=e=>e.map((e=>({id:e.id,name:e.name,description:e.description,status:e.status?t("general.active"):t("performance.inactive")}))),d=new q(window.appGlobal.baseUrl,"/api/v2/claim/expenses/types"),{showPaginator:c,currentPage:m,total:u,pages:p,pageSize:h,response:g,isLoading:v,execQuery:f}=so(d,{normalizer:s,query:i});return r(f),{http:d,showPaginator:c,currentPage:m,isLoading:v,total:u,pages:p,pageSize:h,execQuery:f,items:g,response:g,filters:e,sortDefinition:o}},data(){return{headers:[{name:"name",title:this.$t("general.name"),slot:"title",sortField:"expenseType.name",style:{flex:3}},{name:"status",title:this.$t("general.status"),sortField:"expenseType.status",style:{flex:2}},{name:"actions",title:this.$t("general.actions"),slot:"action",style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{delete:{onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},edit:{onClick:this.onClickEdit,props:{name:"pencil-fill"}}}}],checkedItems:[],ExpenseTypeStatuses:[{id:1,label:this.$t("general.active")},{id:0,label:this.$t("performance.inactive")}]}},methods:{async resetDataTable(){this.checkedItems=[],await this.execQuery()},async filterItems(){await this.execQuery()},onClickReset(){this.filters={...c4},this.filterItems()},onClickAdd(){U("/claim/saveExpense")},onClickDeleteSelected(){const e=[];this.checkedItems.forEach((t=>{e.push(this.items?.data[t].id)})),this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.deleteAll({ids:e}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,this.resetDataTable()})))},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},onClickEdit(e){U("/claim/saveExpense/{id}",{id:e.id})}}};const p4=(0,i.Z)(u4,[["render",n4]]);var h4=p4;const g4={class:"orangehrm-background-container"},v4={class:"orangehrm-card-container"},f4={class:"orangehrm-sm-field"};function y4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-switch-input"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",g4,[(0,a.createElementVNode)("div",v4,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("claim.add_expense_type")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.expenseTypes.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.expenseTypes.name=e),label:e.$t("general.name"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.expenseTypes.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.expenseTypes.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",f4,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(m,{modelValue:n.expenseTypes.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.expenseTypes.status=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const C4={name:"",description:"",status:!0};var b4={components:{"oxd-switch-input":n.OxdSwitchInput},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/expenses/types");return{http:e}},data(){return{isLoading:!1,expenseTypes:{...C4},rules:{name:[So,Do(100)],description:[Do(1e3)]}}},created(){this.isLoading=!0,this.http.getAll({limit:0}).then((e=>{const{data:t}=e.data;this.rules.name.push((e=>{const o=t.findIndex((t=>t.name.toLowerCase()==e.toLowerCase()));return-1===o||this.$t("general.already_exists")}))})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/claim/viewExpense")},onSave(){this.isLoading=!0,this.http.create({...this.expenseTypes}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const V4=(0,i.Z)(b4,[["render",y4],["__scopeId","data-v-01654b93"]]);var x4=V4;const w4={class:"orangehrm-background-container"},N4={class:"orangehrm-card-container"},k4={class:"orangehrm-sm-field"};function _4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-form-row"),m=(0,a.resolveComponent)("oxd-grid-item"),u=(0,a.resolveComponent)("oxd-switch-input"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",w4,[(0,a.createElementVNode)("div",N4,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("claim.edit_expense_type")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.expenseTypes.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.expenseTypes.name=e),label:e.$t("general.name"),disabled:"",required:""},null,8,["modelValue","label"])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.expenseTypes.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.expenseTypes.description=e),type:"textarea",label:e.$t("general.description"),rules:n.rules.description},null,8,["modelValue","label","rules"])])),_:1})])),_:1}),(0,a.createVNode)(m,{class:"--offset-row-3"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k4,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-sm-field-label"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("general.active")),1)])),_:1}),(0,a.createVNode)(u,{modelValue:n.expenseTypes.status,"onUpdate:modelValue":t[2]||(t[2]=e=>n.expenseTypes.status=e)},null,8,["modelValue"])])])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v)])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}const S4={name:"",description:"",status:!1};var D4={components:{"oxd-switch-input":n.OxdSwitchInput},props:{id:{type:Number,required:!0}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/expenses/types");return{http:e}},data(){return{isLoading:!1,expenseTypes:{...S4},rules:{description:[Do(1e3)]}}},beforeMount(){this.isLoading=!0,this.http.get(this.id).then((e=>{const{data:t}=e.data;this.expenseTypes={...t}})).finally((()=>{this.isLoading=!1}))},methods:{onCancel(){U("/claim/viewExpense")},onSave(){this.isLoading=!0,this.http.update(this.id,{description:this.expenseTypes.description,status:this.expenseTypes.status}).then((()=>this.$toast.updateSuccess())).then((()=>{this.onCancel()}))}}};const $4=(0,i.Z)(D4,[["render",_4],["__scopeId","data-v-844cf662"]]);var T4=$4;const E4={class:"orangehrm-background-container"},I4={class:"orangehrm-card-container"};function B4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("claim-event-dropdown"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("oxd-form-row"),h=(0,a.resolveComponent)("required-text"),g=(0,a.resolveComponent)("oxd-button"),v=(0,a.resolveComponent)("submit-button"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",E4,[(0,a.createElementVNode)("div",I4,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("claim.create_claim_request")),1)])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(y,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.request.event,"onUpdate:modelValue":t[0]||(t[0]=e=>n.request.event=e),rules:n.rules.event,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.request.currency,"onUpdate:modelValue":t[1]||(t[1]=e=>n.request.currency=e),type:"select",rules:n.rules.currency,options:o.currencies,label:e.$t("general.currency"),required:""},null,8,["modelValue","rules","options","label"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(p,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,{class:"--span-column-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.request.remarks,"onUpdate:modelValue":t[2]||(t[2]=e=>n.request.remarks=e),type:"textarea",label:e.$t("claim.remarks"),rules:n.rules.remarks},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h),(0,a.createVNode)(g,{"display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(v,{label:e.$t("claim.create")},null,8,["label"])])),_:1})])),_:1},8,["loading","onSubmitValid"])])])}function L4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"select",label:e.$t("claim.event"),options:l.options},null,8,["label","options"])}var A4={name:"ClaimEventDropdown",setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"api/v2/claim/events");return(0,a.onBeforeMount)((()=>{t.getAll({limit:0,status:!0}).then((({data:t})=>{e.value=t.data.map((e=>({id:e.id,label:e.name})))}))})),{options:e}}};const U4=(0,i.Z)(A4,[["render",L4]]);var P4=U4;const q4={event:null,currency:null,remarks:null};var M4={name:"SubmitClaimRequest",components:{"claim-event-dropdown":P4},props:{currencies:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/claim/requests");return{http:e}},data(){return{isLoading:!1,request:{...q4},rules:{event:[So],currency:[So],remarks:[Do(1e3)]}}},methods:{onCancel(){U("/claim/submitClaim")},onSave(){this.isLoading=!0,this.http.create({claimEventId:this.request.event.id,currencyId:this.request.currency.id,remarks:this.request.remarks}).then((()=>this.$toast.saveSuccess())).then((()=>{this.onCancel()}))}}};const F4=(0,i.Z)(M4,[["render",B4]]);var O4=F4,j4={"claim-event":P3,"claim-event-create":G3,"claim-event-edit":K3,"claim-expense-types":h4,"claim-expense-type-create":x4,"claim-expense-type-edit":T4,"submit-claim-request":O4};const z4=e=>((0,a.pushScopeId)("data-v-22368d50"),e=e(),(0,a.popScopeId)(),e),R4={class:"orangehrm-background-container"},G4={class:"orangehrm-card-container"},Z4={class:"orangehrm-header-container"},Q4={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"},H4=z4((()=>(0,a.createElementVNode)("br",null,null,-1)));function W4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("sync-zk-teco"),s=(0,a.resolveComponent)("oxd-text"),d=(0,a.resolveComponent)("oxd-switch-input"),c=(0,a.resolveComponent)("oxd-divider"),m=(0,a.resolveComponent)("oxd-input-field"),u=(0,a.resolveComponent)("oxd-grid-item"),p=(0,a.resolveComponent)("oxd-grid"),h=(0,a.resolveComponent)("oxd-form-row"),g=(0,a.resolveComponent)("profile-action-header"),v=(0,a.resolveComponent)("table-header"),f=(0,a.resolveComponent)("oxd-card-table"),y=(0,a.resolveComponent)("delete-confirmation"),C=(0,a.resolveComponent)("oxd-button"),b=(0,a.resolveComponent)("oxd-form-actions"),V=(0,a.resolveComponent)("oxd-form"),x=(0,a.resolveComponent)("save-zk-teco-salary-component"),w=(0,a.resolveComponent)("edit-zk-teco-salary-component"),N=(0,a.resolveComponent)("zk-teco-test-connection-modal"),k=(0,a.resolveComponent)("force-sync-zk-teco");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)(i,{config:n.serverConfig,onServerConfigChanged:t[0]||(t[0]=e=>n.serverConfig=e)},null,8,["config"]),(0,a.createElementVNode)("div",R4,[(0,a.createElementVNode)("div",G4,[(0,a.createElementVNode)("div",Z4,[(0,a.createVNode)(s,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" ZkTeco Configuration ")])),_:1}),r.isDisabled?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,modelValue:n.configuration.enable,"onUpdate:modelValue":t[1]||(t[1]=e=>n.configuration.enable=e),"label-position":"left","option-label":e.$t("general.enable")},null,8,["modelValue","option-label"]))]),(0,a.createVNode)(c),r.isDisabled?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(V,{key:0,ref:"formRef",loading:n.isLoading},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.server_settings")),1)])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.scheme,"onUpdate:modelValue":t[2]||(t[2]=e=>n.configuration.scheme=e),type:"select","show-empty-selector":!1,options:n.schemes,label:"Scheme"},null,8,["modelValue","options"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.hostname,"onUpdate:modelValue":t[3]||(t[3]=e=>n.configuration.hostname=e),label:e.$t("admin.host"),rules:n.rules.hostname,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(u,{class:"orangehrm-column-half"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.port,"onUpdate:modelValue":t[4]||(t[4]=e=>n.configuration.port=e),label:e.$t("admin.port"),rules:n.rules.port,required:""},null,8,["modelValue","label","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-form-divider"}),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-subtitle"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Authentication Settings ")])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.adminUsername,"onUpdate:modelValue":t[5]||(t[5]=e=>n.configuration.adminUsername=e),label:"Admin Username",rules:n.rules.adminUsername,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.adminPassword,"onUpdate:modelValue":t[6]||(t[6]=e=>n.configuration.adminPassword=e),type:"password",label:"Admin Password",placeholder:e.passwordPlaceHolder,rules:n.rules.adminPassword,required:!n.configuration.hasadminPassword},null,8,["modelValue","placeholder","rules","required"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-form-divider"}),(0,a.createVNode)(s,{tag:"p",class:"orangehrm-subtitle mb-2"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.additional_settings")),1)])),_:1}),(0,a.createVNode)(h,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{class:"orangehrm-ldap-switch --offset-row-1"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{tag:"p",class:"orangehrm-ldap-switch-text"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Override Salary ")])),_:1}),(0,a.createVNode)(d,{modelValue:n.configuration.overrideSalary,"onUpdate:modelValue":t[7]||(t[7]=e=>n.configuration.overrideSalary=e)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(u,{class:"--offset-row-2"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:n.configuration.syncInterval,"onUpdate:modelValue":t[8]||(t[8]=e=>n.configuration.syncInterval=e),label:"Sync Interval (in Days)",rules:n.rules.syncInterval,required:""},null,8,["modelValue","rules"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(c,{class:"orangehrm-form-divider"}),(0,a.createElementVNode)("div",Q4,[(0,a.createVNode)(g,{"action-button-shown":"",onClick:r.onClickAdd},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("pim.assigned_salary_components")),1)])),_:1},8,["onClick"])]),(0,a.createVNode)(v,{selected:n.checkedItems.length,total:n.salaries.length,loading:n.isLoading,onDelete:r.onClickDeleteSelected},null,8,["selected","total","loading","onDelete"]),(0,a.createVNode)(f,{selected:n.checkedItems,"onUpdate:selected":t[9]||(t[9]=e=>n.checkedItems=e),headers:r.tableHeaders,items:n.salaries,selectable:"",clickable:!1,loading:n.isLoading,"row-decorator":"oxd-table-decorator-card"},null,8,["selected","headers","items","loading"]),(0,a.createVNode)(y,{ref:"deleteDialog"},null,512),(0,a.createVNode)(c),(0,a.createVNode)(b,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(C,{type:"button","display-type":"ghost",label:e.$t("admin.test_connection"),onClick:r.onClickTest},null,8,["label","onClick"]),(0,a.createVNode)(C,{type:"button",class:"orangehrm-left-space","display-type":"secondary",label:e.$t("general.save"),onClick:r.onClickSave},null,8,["label","onClick"])])),_:1})])),_:1},8,["loading"])),n.showSaveModal?((0,a.openBlock)(),(0,a.createBlock)(x,{key:1,http:l.http,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,onClose:r.onSaveModalClose},null,8,["http","paygrades","pay-frequencies","currencies","onClose"])):(0,a.createCommentVNode)("",!0),n.showEditModal?((0,a.openBlock)(),(0,a.createBlock)(w,{key:2,http:l.http,data:n.editModalState,paygrades:o.paygrades,"pay-frequencies":o.payFrequencies,currencies:o.currencies,onClose:r.onEditModalClose},null,8,["http","data","paygrades","pay-frequencies","currencies","onClose"])):(0,a.createCommentVNode)("",!0)]),n.testModalState?((0,a.openBlock)(),(0,a.createBlock)(N,{key:0,status:n.testModalState,onClose:r.onCloseTestModal},null,8,["status","onClose"])):(0,a.createCommentVNode)("",!0),H4,n.serverConfig?.enabled&&!n.serverConfig?.syncing?((0,a.openBlock)(),(0,a.createBlock)(k,{key:1,config:n.serverConfig,onServerConfigChanged:t[10]||(t[10]=e=>n.serverConfig=e)},null,8,["config"])):(0,a.createCommentVNode)("",!0)])])}const Y4={class:"orangehrm-modal-header"},J4={class:"orangehrm-ldap-test"},X4={class:"orangehrm-ldap-test-row"};function K4(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(d,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",Y4,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.connection_status")),1)])),_:1})]),(0,a.createVNode)(s),(0,a.createElementVNode)("div",J4,[(0,a.createVNode)(i,{tag:"p",class:"orangehrm-ldap-test-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Status ")])),_:1}),(0,a.createElementVNode)("div",X4,[(0,a.createVNode)(i,{class:"orangehrm-ldap-test-content"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.status?o.status.toUpperCase():""),1)])),_:1}),(0,a.createVNode)(i,{class:(0,a.normalizeClass)(r.getClass())},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(r.getText()),1)])),_:1},8,["class"])])])])),_:1},8,["onUpdate:show"])}var e6={name:"ZkTecoTestConnectionModal",components:{"oxd-dialog":n.OxdDialog},props:{status:{type:String,default:()=>""}},emits:["close"],methods:{getClass(){return"success"===this.status?"orangehrm-ldap-test-value --success":"orangehrm-ldap-test-value --error"},onCancel(){this.$emit("close")},getText(){return"success"===this.status?"Connected successfully.":"Error connecting."}}};const t6=(0,i.Z)(e6,[["render",K4],["__scopeId","data-v-5bc76ba7"]]);var o6=t6;const a6={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function l6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",a6,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Add Salary Component ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Min: "+(0,a.toDisplayString)(r.minAmount??0)+" - Max: "+(0,a.toDisplayString)(r.maxAmount??0),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const n6={name:"",salaryAmount:"",payGradeId:null,payFrequencyId:null,currencyId:null};var r6={name:"SaveZkTecoSalaryComponent",props:{http:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...n6},accountType:"",usableCurrencies:[],rules:{name:[So,Do(100)],salaryAmount:[So,Ao,Yo(1e9)],currencyId:[So]}}},computed:{minAmount(){return this.currencyInfo?.minAmount},maxAmount(){return this.currencyInfo?.maxAmount},currenciesOpts(){const e=this.salaryComponent.payGradeId?.id;return e?e&&this.usableCurrencies.length>0?this.currencies.filter((e=>this.usableCurrencies.findIndex((t=>t.id===e.id))>-1)):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find((e=>e.id===this.salaryComponent.currencyId?.id))}},watch:{"salaryComponent.payGradeId":function(e){e?.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then((e=>{const{data:t}=e.data;this.usableCurrencies=t.map((e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary})));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex((e=>e.id===o?.id));this.salaryComponent.currencyId=-1===a?null:this.salaryComponent.currencyId})).then((()=>{this.isLoading=!1}))):this.usableCurrencies=[]}},mounted(){this.$nextTick((()=>{this.rules.salaryAmount.push((e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")})),this.rules.salaryAmount.push((e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")}))}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"POST",url:"/api/v2/zkteco/salary-components",data:{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:this.salaryComponent.payGradeId?.id,currencyId:this.salaryComponent.currencyId?.id,payFrequencyId:this.salaryComponent.payFrequencyId?.id}}).then((()=>this.$toast.saveSuccess())).finally((()=>{P()}))},onCancel(){this.$emit("close",!0)}}};const i6=(0,i.Z)(r6,[["render",l6],["__scopeId","data-v-4bbd3eba"]]);var s6=i6;const d6={class:"oxd-table-card-cell"},c6={class:"data"};function m6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text");return(0,a.openBlock)(),(0,a.createElementBlock)("div",d6,[(0,a.createElementVNode)("div",c6,[(0,a.createVNode)(i,{tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(o.text),1)])),_:1})])])}var u6={name:"FrequencyCell",props:{header:{type:Object,required:!0},text:{type:String,required:!0}},setup(){const{screenState:e}=(0,n.useInjectTableProps)();return{screenState:e}},computed:{showHeader(){return!("lg"===this.screenState.screenType||"xl"===this.screenState.screenType)}}};const p6=(0,i.Z)(u6,[["render",m6],["__scopeId","data-v-0d120578"]]);var h6=p6;const g6={class:"orangehrm-horizontal-padding orangehrm-vertical-padding"};function v6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-input-field"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("required-text"),h=(0,a.resolveComponent)("oxd-button"),g=(0,a.resolveComponent)("submit-button"),v=(0,a.resolveComponent)("oxd-form-actions"),f=(0,a.resolveComponent)("oxd-form");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",g6,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Update Salary Component ")])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(f,{loading:n.isLoading,onSubmitValid:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.salaryComponent.name=e),label:e.$t("pim.salary_component"),rules:n.rules.name,required:""},null,8,["modelValue","label","rules"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payGradeId,"onUpdate:modelValue":t[1]||(t[1]=e=>n.salaryComponent.payGradeId=e),type:"select",label:e.$t("general.pay_grade"),options:o.paygrades},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.payFrequencyId,"onUpdate:modelValue":t[2]||(t[2]=e=>n.salaryComponent.payFrequencyId=e),type:"select",label:e.$t("pim.pay_frequency"),options:o.payFrequencies},null,8,["modelValue","label","options"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[((0,a.openBlock)(),(0,a.createBlock)(d,{key:r.currenciesOpts,modelValue:n.salaryComponent.currencyId,"onUpdate:modelValue":t[3]||(t[3]=e=>n.salaryComponent.currencyId=e),type:"select",label:e.$t("general.currency"),options:r.currenciesOpts,rules:n.rules.currencyId,required:""},null,8,["modelValue","label","options","rules"]))])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:n.salaryComponent.salaryAmount,"onUpdate:modelValue":t[4]||(t[4]=e=>n.salaryComponent.salaryAmount=e),label:e.$t("pim.amount"),rules:n.rules.salaryAmount,required:""},null,8,["modelValue","label","rules"]),void 0!==r.minAmount||void 0!==r.maxAmount?((0,a.openBlock)(),(0,a.createBlock)(i,{key:0,class:"orangehrm-input-hint",tag:"p"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Min: "+(0,a.toDisplayString)(r.minAmount??0)+" - Max: "+(0,a.toDisplayString)(r.maxAmount??0),1)])),_:1})):(0,a.createCommentVNode)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p),(0,a.createVNode)(h,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(g)])),_:1})])),_:1},8,["loading","onSubmitValid"])]),(0,a.createVNode)(s)],64)}const f6={name:"",salaryAmount:"",payGradeId:null,payFrequencyId:null,currencyId:null};var y6={name:"EditZkTecoSalaryComponent",props:{http:{type:Object,required:!0},data:{type:Object,required:!0},paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]}},emits:["close"],data(){return{isLoading:!1,includeDirectDeposit:!1,salaryComponent:{...f6},accountType:"",usableCurrencies:[],rules:{name:[So,Do(100)],salaryAmount:[So,Ao,Yo(1e9)],currencyId:[So]}}},computed:{minAmount(){return this.currencyInfo?.minAmount},maxAmount(){return this.currencyInfo?.maxAmount},currenciesOpts(){const e=this.salaryComponent.payGradeId?.id;return e?e&&this.usableCurrencies.length>0?this.currencies.filter((e=>this.usableCurrencies.findIndex((t=>t.id===e.id))>-1)):[]:this.currencies},currencyInfo(){return this.usableCurrencies.find((e=>e.id===this.salaryComponent.currencyId?.id))}},watch:{"salaryComponent.payGradeId":function(e){e?.id?(this.isLoading=!0,this.http.request({url:`/api/v2/admin/pay-grades/${e.id}/currencies`,method:"GET",params:{limit:0}}).then((e=>{const{data:t}=e.data;this.usableCurrencies=t.map((e=>({id:e.currencyType.id,name:e.currencyType.name,minAmount:e.minSalary,maxAmount:e.maxSalary})));const o=this.salaryComponent.currencyId,a=this.usableCurrencies.findIndex((e=>e.id===o?.id));this.salaryComponent.currencyId=-1===a?null:this.salaryComponent.currencyId})).then((()=>{this.isLoading=!1}))):this.usableCurrencies=[]}},beforeMount(){console.clear(),console.log(JSON.parse(JSON.stringify(this.currencies))),this.salaryComponent.name=this.data.salaryComponent,this.salaryComponent.salaryAmount=this.data.amount,this.salaryComponent.payGradeId=this.data.payGradeId?this.paygrades.find((e=>parseInt(e.id)===parseInt(this.data.payGradeId))):null,this.salaryComponent.payFrequencyId=this.data.payFrequencyId?this.payFrequencies.find((e=>parseInt(e.id)===parseInt(this.data.payFrequencyId))):null,this.salaryComponent.currencyId=this.data.currencyId?this.currencies.find((e=>e.id===this.data.currencyId)):null},mounted(){this.$nextTick((()=>{this.rules.salaryAmount.push((e=>{const t=this.minAmount?this.minAmount:0;return e>=t||this.$t("pim.should_be_within_min_max_values")})),this.rules.salaryAmount.push((e=>{const t=this.maxAmount?this.maxAmount:999999999;return e<=t||this.$t("pim.should_be_within_min_max_values")}))}))},methods:{onSave(){this.isLoading=!0,this.http.request({method:"PUT",url:`/api/v2/zkteco/salary-components/${this.data.id}`,data:{salaryComponent:this.salaryComponent.name,salaryAmount:this.salaryComponent.salaryAmount,payGradeId:this.salaryComponent.payGradeId?.id,currencyId:this.salaryComponent.currencyId?.id,payFrequencyId:this.salaryComponent.payFrequencyId?.id,id:this.data.id}}).then((()=>this.$toast.saveSuccess())).finally((()=>{P()}))},onCancel(){this.$emit("close",!0)}}};const C6=(0,i.Z)(y6,[["render",v6],["__scopeId","data-v-8382b03e"]]);var b6=C6;const V6={key:0,style:{"margin-bottom":"1em"}};function x6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-toast"),s=(0,a.resolveComponent)("oxd-progressbar");return n.serverConfig?.syncing?((0,a.openBlock)(),(0,a.createElementBlock)("div",V6,[(0,a.createVNode)(i,{class:"margin-toast",show:n.showAlert,type:"info",title:"Sync In Progress",message:"Some data may be missing during syncing periods.","onUpdate:show":t[0]||(t[0]=e=>r.handleDismiss(e))},null,8,["show"]),(0,a.createVNode)(s,{type:"main",stripe:"",animation:"","show-label":!1,progress:100})])):(0,a.createCommentVNode)("",!0)}var w6={name:"SyncZkTeco",components:{OxdProgressbar:n.OxdProgressbar,OxdToast:n.OxdToast},props:{config:{type:Object,default:()=>null}},emits:["onDismissAlert","serverConfigChanged"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/zkteco/config");return{http:e}},data(){return{serverConfig:null,showAlert:!0}},watch:{config:{handler(e){e&&(this.serverConfig=JSON.parse(JSON.stringify(e)))},deep:!0,immediate:!0},serverConfig:{handler(e,t){e?.syncing?(this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((()=>this.fetchConfig()),1e4)):(this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),t?.syncing&&this.$toast.success({title:this.$t("general.success"),message:"Sync Completed"}))},deep:!0}},mounted(){this.serverConfig||this.fetchConfig()},methods:{handleDismiss(){this.showAlert=!1},fetchConfig(){return this.http.getAll().then((e=>{const t=e.data.data;t&&(this.serverConfig=t,this.$emit("serverConfigChanged",t))}))}}};const N6=(0,i.Z)(w6,[["render",x6],["__scopeId","data-v-6b17b92f"]]);var k6=N6;const _6={class:"orangehrm-paper-container"},S6={class:"orangehrm-header-container"},D6={class:"orangehrm-ldap-sync"};function $6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-loading-spinner"),d=(0,a.resolveComponent)("oxd-button");return(0,a.openBlock)(),(0,a.createElementBlock)("div",_6,[(0,a.createElementVNode)("div",S6,[(0,a.createElementVNode)("div",D6,[(0,a.createVNode)(i,{tag:"h6",class:"orangehrm-main-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("admin.sync_connection")),1)])),_:1}),(0,a.withDirectives)((0,a.createVNode)(i,{type:"card-body",class:"orangehrm-ldap-sync-time"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" ("+(0,a.toDisplayString)(r.lastSync)+") ",1)])),_:1},512),[[a.vShow,r.lastSync]])]),n.isLoading?((0,a.openBlock)(),(0,a.createBlock)(s,{key:0,class:"orangehrm-ldap-sync-loader"})):((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,"display-type":"secondary",class:"orangehrm-ldap-sync-button",label:e.$t("admin.sync_now"),onClick:r.onClickSync},null,8,["label","onClick"]))])])}var T6=o(5866),E6=o(9599),I6={name:"ForceSyncZkTeco",components:{"oxd-loading-spinner":n.OxdSpinner,OxdText:n.OxdText,OxdButton:n.OxdButton},props:{config:{type:Object,default:()=>null}},emits:["serverConfigChanged"],setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/zkteco/force-sync"),{jsDateFormat:t}=Ae();return{http:e,jsDateFormat:t}},data(){return{isLoading:!1,serverConfig:null,lastSyncDate:null,lastSyncTime:null,lastSyncStatus:null}},computed:{lastSync(){if(console.clear(),console.log(this.serverConfig),!this.serverConfig?.lastSync)return null;try{const{date:e,timezone:t}=this.serverConfig.lastSync,o=Intl.DateTimeFormat().resolvedOptions().timeZone,a=(0,T6.Z)(e,t),l=(0,E6.Z)(a,o);return this.$t("admin.last_synced_on_datetime",{datetime:(0,Oe.Z)(l,`hh:mm a ${this.jsDateFormat}`)})}catch(e){return null}}},watch:{config:{handler(e){e&&(this.serverConfig=JSON.parse(JSON.stringify(e)))},deep:!0,immediate:!0}},methods:{onClickSync(){this.isLoading=!0,this.http.create().then((e=>{const t=e.data.data;t&&(this.serverConfig=t,this.$emit("serverConfigChanged",t)),this.$toast.success({title:this.$t("general.success"),message:this.$t("admin.synchronization_successful")})})).catch((()=>{this.getLastSyncStatus(),this.$toast.error({title:this.$t("general.error"),message:this.$t("admin.synchronization_failed")})})).finally((()=>{this.isLoading=!1}))}}};const B6=(0,i.Z)(I6,[["render",$6],["__scopeId","data-v-84712690"]]);var L6=B6;const A6={enable:!1,overrideSalary:!1,hostname:"localhost",port:80,scheme:"http",adminUsername:null,adminPassword:null,syncInterval:1};var U6={name:"CreateConnection",components:{TableHeader:v,"profile-action-header":Nh,"oxd-switch-input":n.OxdSwitchInput,"delete-confirmation":vo,ZkTecoTestConnectionModal:o6,SaveZkTecoSalaryComponent:s6,EditZkTecoSalaryComponent:b6,OxdForm:n.OxdForm,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem,OxdDivider:n.OxdDivider,OxdButton:n.OxdButton,OxdCardTable:n.OxdCardTable,SyncZkTeco:k6,OxdText:n.OxdText,OxdInputField:n.OxdInputField,ForceSyncZkTeco:L6},props:{paygrades:{type:Array,default:()=>[]},payFrequencies:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]}},setup(){const e=new q(window.appGlobal.baseUrl,"/api/v2/zkteco/config"),{formRef:t,invalid:o,validate:a}=vm();return{http:e,formRef:t,invalid:o,validate:a}},data(){return{intervalId:null,serverConfig:null,editModalState:null,testModalState:null,showSyncAlert:!0,schemes:[{id:"http",label:"Http"},{id:"https",label:"Https"}],isLoading:!1,configuration:{...A6},rules:{hostname:[So,sa,Do(255)],port:[So,da(5,0,65535)],adminUsername:[So,Do(255)],adminPassword:[e=>So(e),Do(255)],syncInterval:[So,Bo,ta(1,23)]},salaries:[],headers:[{name:"salaryComponent",slot:"title",title:this.$t("pim.salary_component"),style:{flex:1}},{name:"salaryAmount",title:this.$t("pim.amount"),style:{flex:1}},{name:"payGradeId",title:this.$t("pim.pay_frequency"),style:{flex:1},cellRenderer:this.frequencyCellRenderer}],checkedItems:[],showSaveModal:!1,showEditModal:!1}},computed:{isDisabled(){return this.showSaveModal||this.showEditModal},tableHeaders(){const e={name:"actions",slot:"action",title:this.$t("general.actions"),style:{flex:1},cellType:"oxd-table-cell-actions",cellConfig:{}};return e.cellConfig.delete={onClick:this.onClickDelete,component:"oxd-icon-button",props:{name:"trash"}},e.cellConfig.edit={onClick:this.onClickEdit,props:{name:"pencil-fill"}},Object.keys(e.cellConfig).length>0?this.headers.concat([e]):this.headers}},watch:{},beforeMount(){this.isLoading=!0,this.fetchConfig().finally((()=>this.isLoading=!1))},methods:{fetchConfig(){return this.http.getAll().then((e=>{const{data:t}=e.data;t&&(this.serverConfig=t,this.configuration.enable=t.enabled,this.configuration.hostname=t.host,this.configuration.port=t.port,this.salaries=t.salaries??[],this.configuration.scheme={id:t.scheme?.toString()?.toLowerCase(),label:t.scheme},this.configuration.adminUsername=t.adminUsername,this.configuration.adminPassword=t.adminPassword,this.configuration.syncInterval=t.syncInterval,this.configuration.overrideSalary=t.overrideSalary)}))},onClickEdit(e){this.showSaveModal=!1,this.editModalState=e,this.showEditModal=!0},onClickDelete(e){this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems([e.id])}))},onClickDeleteSelected(){const e=this.checkedItems.map((e=>this.salaries[e].id));this.$refs.deleteDialog.showDialog().then((t=>{"ok"===t&&this.deleteItems(e)}))},deleteItems(e){e instanceof Array&&(this.isLoading=!0,this.http.request({method:"DELETE",url:"/api/v2/zkteco/salary-components",data:{ids:e}}).then((()=>this.$toast.deleteSuccess())).then((()=>{this.isLoading=!1,P()})))},frequencyCellRenderer(...e){const t=this.salaries[e[0]],o=this.payFrequencies.find((e=>e.id===t.payFrequencyId));return{component:h6,props:{text:o?.label??""}}},getRequestBody(){return{enable:this.configuration.enable,host:this.configuration.hostname,scheme:this.configuration.scheme?.id,overrideSalary:this.configuration.overrideSalary,port:parseInt(this.configuration.port),adminUsername:this.configuration.adminUsername,adminPassword:this.configuration.adminPassword,syncInterval:parseInt(this.configuration.syncInterval)}},getTestConnectionRequestBody(){return{host:this.configuration.hostname,scheme:this.configuration.scheme?.id,port:parseInt(this.configuration.port),adminUsername:this.configuration.adminUsername,adminPassword:this.configuration.adminPassword}},onClickSave(){this.validate().then((()=>{!0!==this.invalid&&(this.isLoading=!0,this.http.request({method:"PUT",data:this.getRequestBody()}).then((()=>this.$toast.updateSuccess())).finally((()=>P())))}))},onCloseTestModal(){this.testModalState=null},onClickTest(){this.validate().then((()=>{if(!0===this.invalid)return;this.isLoading=!0;const e=this.getTestConnectionRequestBody();this.http.request({method:"POST",url:"/api/v2/zkteco/test-connection",data:e}).then((e=>{const{data:t}=e.data;this.testModalState=t?.status})).finally((()=>this.isLoading=!1))}))},onClickAdd(){this.showEditModal=!1,this.editModalState=null,this.showSaveModal=!0},onSaveModalClose(){this.showSaveModal=!1,this.resetDataTable()},onEditModalClose(){this.showEditModal=!1,this.editModalState=null,this.resetDataTable()},onDismissSyncAlert(){this.showSyncAlert=!1}}};const P6=(0,i.Z)(U6,[["render",W4],["__scopeId","data-v-22368d50"]]);var q6=P6;const M6=(0,a.createElementVNode)("br",null,null,-1),F6={class:"orangehrm-background-container"},O6={class:"orangehrm-paper-container"},j6={class:"orangehrm-container"},z6={class:"orangehrm-bottom-container"};function R6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("sync-zk-teco"),s=(0,a.resolveComponent)("oxd-button"),d=(0,a.resolveComponent)("employee-autocomplete"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("subunit-autocomplete"),u=(0,a.resolveComponent)("oxd-grid"),p=(0,a.resolveComponent)("report-mode-dropdown"),h=(0,a.resolveComponent)("date-input"),g=(0,a.resolveComponent)("oxd-form-row"),v=(0,a.resolveComponent)("oxd-divider"),f=(0,a.resolveComponent)("oxd-form-actions"),y=(0,a.resolveComponent)("oxd-form"),C=(0,a.resolveComponent)("oxd-table-filter"),b=(0,a.resolveComponent)("export-column-picker-modal"),V=(0,a.resolveComponent)("table-header"),x=(0,a.resolveComponent)("oxd-card-table"),w=(0,a.resolveComponent)("oxd-pagination");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(i),(0,a.createVNode)(C,{"filter-title":"Punch Pair Report"},{exportOptions:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{size:"small",disabled:0===e.columns.length,"display-type":"tool",label:"CSV","icon-name":"file-earmark-spreadsheet",onClick:t[0]||(t[0]=t=>e.onClickExportCsv())},null,8,["disabled"])])),default:(0,a.withCtx)((()=>[(0,a.createVNode)(y,{onSubmitValid:e.filterItems},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{modelValue:e.filters.employees,"onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.employees=t),multiple:"",label:"Employees"},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{modelValue:e.filters.departments,"onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.departments=t),multiple:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.createVNode)(u,{cols:2,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{modelValue:e.filters.reportMode,"onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.reportMode=t)},null,8,["modelValue"])])),_:1}),(0,a.createVNode)(c,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(h,{modelValue:e.filters.date,"onUpdate:modelValue":t[4]||(t[4]=t=>e.filters.date=t),label:"Date"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.createVNode)(v),(0,a.createVNode)(f,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(s,{"display-type":"ghost",label:e.$t("general.reset"),type:"reset"},null,8,["label"]),(0,a.createVNode)(s,{class:"orangehrm-left-space","display-type":"secondary",label:"Filter",type:"submit"})])),_:1})])),_:1},8,["onSubmitValid"])])),_:1}),M6,e.showExportModal?((0,a.openBlock)(),(0,a.createBlock)(b,{key:0,columns:e.columns,onOnExport:e.onExport,onClose:t[5]||(t[5]=t=>e.showExportModal=!1)},null,8,["columns","onOnExport"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",F6,[(0,a.createElementVNode)("div",O6,[(0,a.createVNode)(V,{total:e.total,loading:e.isLoading},null,8,["total","loading"]),(0,a.createElementVNode)("div",j6,[(0,a.createVNode)(x,{ref:"cardTable",headers:e.headers,items:e.reportData?.data,loading:e.isLoading,class:"orangehrm-employee-list","row-decorator":"oxd-table-decorator-card"},null,8,["headers","items","loading"])]),(0,a.createElementVNode)("div",z6,[e.showPaginator?((0,a.openBlock)(),(0,a.createBlock)(w,{key:0,current:e.currentPage,"onUpdate:current":t[6]||(t[6]=t=>e.currentPage=t),length:e.pages},null,8,["current","length"])):(0,a.createCommentVNode)("",!0)])])])],64)}o(2062);function G6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:o.multiple?"multiselect":"select",label:"Report Mode",options:n.options},null,8,["type","options"])}var Z6={name:"ReportModeDropdown",components:{OxdInputField:n.OxdInputField},props:{multiple:{type:Boolean,required:!1,default:!1}},data(){return{options:[{id:"daily",label:"Daily"}]}}};const Q6=(0,i.Z)(Z6,[["render",G6]]);var H6=Q6;function W6(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-input-field");return(0,a.openBlock)(),(0,a.createBlock)(i,{type:"autocomplete",label:"Department","create-options":r.loadSubunits,clear:!1},null,8,["create-options"])}var Y6={name:"SubunitAutocomplete",components:{OxdInputField:n.OxdInputField},setup(){const e=(0,a.ref)([]),t=new q(window.appGlobal.baseUrl,"/api/v2/admin/subunits");return(0,a.onBeforeMount)((()=>{t.getAll().then((({data:t})=>{e.value=t.data.filter((e=>e.level>0)).map((e=>({id:e.id,label:e.name,_indent:e.level?e.level+1:1}))).sort(((e,t)=>e.label.localeCompare(t.label)))}))})),{options:e}},methods:{async loadSubunits(e){return new Promise((t=>{e.trim()?t(this.options.filter((t=>t.label.toString().toLowerCase().includes(e.toLowerCase())))):t([])}))}}};const J6=(0,i.Z)(Y6,[["render",W6]]);var X6=J6;const K6={class:"orangehrm-modal-header"};function e5(e,t,o,l,n,r){const i=(0,a.resolveComponent)("oxd-text"),s=(0,a.resolveComponent)("oxd-divider"),d=(0,a.resolveComponent)("oxd-checkbox-input"),c=(0,a.resolveComponent)("oxd-grid-item"),m=(0,a.resolveComponent)("oxd-grid"),u=(0,a.resolveComponent)("oxd-form-row"),p=(0,a.resolveComponent)("oxd-button"),h=(0,a.resolveComponent)("submit-button"),g=(0,a.resolveComponent)("oxd-form-actions"),v=(0,a.resolveComponent)("oxd-form"),f=(0,a.resolveComponent)("oxd-dialog");return(0,a.openBlock)(),(0,a.createBlock)(f,{class:"orangehrm-dialog-modal","onUpdate:show":r.onCancel},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",K6,[(0,a.createVNode)(i,{type:"card-title"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)(" Select Columns")])),_:1})]),(0,a.createVNode)(s),(0,a.createVNode)(v,{loading:e.isLoading,onSubmit:r.onSave},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(u,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(m,{cols:3,class:"orangehrm-full-width-grid"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(o.columns,(e=>((0,a.openBlock)(),(0,a.createBlock)(c,{key:e,class:"spacing-y",onChange:t=>r.checkChange(t,e)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(d,{"option-label":n.columnMappings[e]??""},null,8,["option-label"])])),_:2},1032,["onChange"])))),128))])),_:1})])),_:1}),(0,a.createVNode)(s),(0,a.createVNode)(g,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(p,{type:"button","display-type":"ghost",label:e.$t("general.cancel"),onClick:r.onCancel},null,8,["label","onClick"]),(0,a.createVNode)(h,{disabled:0===n.selectedColumns.length},null,8,["disabled"])])),_:1})])),_:1},8,["loading","onSubmit"])])),_:1},8,["onUpdate:show"])}var t5={name:"ExportColumnPickerModal",components:{"oxd-dialog":n.OxdDialog,OxdText:n.OxdText,OxdForm:n.OxdForm,OxdDivider:n.OxdDivider,OxdFormActions:n.OxdFormActions,OxdFormRow:n.OxdFormRow,SubmitButton:d,OxdButton:n.OxdButton,OxdCheckboxInput:n.OxdCheckboxInput,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem},props:{columns:{type:Array,required:!0,default:()=>[]}},emits:["close","onExport"],data(){return{selectedColumns:[],columnMappings:{emp_code:"Employee Code",first_name:"First Name",last_name:"Last Name",nick_name:"Nickname",gender:"Gender",dept_code:"Department Code",dept_name:"Department Name",position_code:"Position Code",company_code:"Company Code",company_name:"Company Name",position_name:"Position Name",att_date:"Attendance Date",weekday:"Day of the Week",check_in:"Check-in Time",check_out:"Check-out Time",total_time:"Total Work Time",hourly_rate:"Hourly Rate",total_comp:"Total Compensation",currency:"Currency"}}},methods:{onSave(){this.$emit("onExport",[...new Set(this.selectedColumns)])},onCancel(){this.comment=null,this.$emit("close",!0)},checkChange(e,t){e.target.checked?this.selectedColumns.push(t):this.selectedColumns=this.selectedColumns.filter((e=>e!==t))}}};const o5=(0,i.Z)(t5,[["render",e5],["__scopeId","data-v-1f3e1cec"]]);var a5=o5;const l5="daily";var n5={name:"PunchPairReport",components:{SyncZkTeco:k6,JobtitleDropdown:fp,ReportModeDropdown:H6,OxdCardTable:n.OxdCardTable,TableHeader:v,OxdPagination:n.OxdPagination,OxdButton:n.OxdButton,OxdForm:n.OxdForm,OxdTableFilter:n.OxdTableFilter,OxdFormRow:n.OxdFormRow,OxdGrid:n.OxdGrid,OxdGridItem:n.OxdGridItem,OxdFormActions:n.OxdFormActions,OxdDivider:n.OxdDivider,DateInput:vt,OxdInputField:n.OxdInputField,EmployeeAutocomplete:rl,SubunitDropdown:Vp,SubunitAutocomplete:X6,ExportColumnPickerModal:a5},data(){return{showExportModal:!1,exportType:"csv"}},methods:{async filterItems(){await this.execQuery()},onClickExportCsv(){this.showExportModal=!0,this.exportType="csv"},onExport(e){this.showExportModal=!1,this.exportCsv(e)},exportCsv(e=[]){const t=`${window.appGlobal.baseUrl}/zkteco/exports/punchPair`,o={...this.serializedFilters,columns:e.join(","),type:this.exportType},a=Object.fromEntries(Object.entries(o).filter((([e,t])=>void 0!==t&&null!==t)).map((([e,t])=>[e,String(t)]))),l=new URLSearchParams(a).toString(),n=`${t}?${l}`;window.open(n,"_blank")}},props:{apiUrl:{type:String,default:()=>"/api/v2/zkteco/attendance/punch-pair-report"}},setup(e){const t=(0,a.ref)({reportMode:{id:l5,label:"Daily"},date:(0,Oe.Z)(new Date(Date.now()-864e5),"yyyy-MM-dd")}),o=(0,a.ref)(!0),l=(0,a.ref)([]),n=(0,a.computed)((()=>({employees:t.value.employees?.map((e=>e.id)).join(","),date:t.value.date,departments:t.value.departments?.map((e=>e.id)).join(","),reportMode:t.value.reportMode?.id}))),r=new q(window.appGlobal.baseUrl,e.apiUrl),{showPaginator:i,currentPage:s,total:d,pages:c,response:m,isLoading:u,execQuery:p}=so(r,{query:n});return(0,a.watch)(t,(e=>{o.value=e.reportMode?.id===l5}),{deep:!0}),(0,a.watch)(m,(e=>{l.value=e?.data?.length>0?Object.keys(e.data[0]):[]}),{deep:!0}),{http:r,showPaginator:i,currentPage:s,isLoading:u,total:d,pages:c,filters:t,reportData:m,serializedFilters:n,execQuery:p,columns:l,showReportDate:o}},computed:{headers(){return[{name:"first_name",slot:"first_name",title:"First Name",style:{flex:1}},{name:"last_name",slot:"last_name",title:"Last Name",style:{flex:1}},{name:"nick_name",slot:"nick_name",title:"Nick Name",style:{flex:1}},{name:"dept_name",slot:"dept_name",title:"Department",style:{flex:1}},{name:"att_date",slot:"att_date",title:"Date",style:{flex:1}},{name:"weekday",slot:"weekday",title:"Week Day",sortField:"t.dueDate",style:{flex:1}},{name:"check_in",slot:"check_in",title:"Check In",style:{flex:1}},{name:"check_out",slot:"check_out",title:"Check Out",style:{flex:1}},{name:"total_time",slot:"total_time",title:"Total Time",style:{flex:1}},{name:"hourly_rate",slot:"hourly_rate",title:"Hourly Rate",style:{flex:1}},{name:"total_comp",slot:"total_comp",title:"Total Comp",style:{flex:1}},{name:"currency",slot:"currency",title:"Currency",style:{flex:1}},{name:"position_name",slot:"position_name",title:"Position",style:{flex:1}}]}}};const r5=(0,i.Z)(n5,[["render",R6]]);var i5=r5,s5={"create-connection":q6,"punch-pair-report":i5},d5={...Pu,...lw,...Yt,...vw,...xS,...cB,...$I,...ML,...XA,...UF,...OG,...IZ,...NH,...Pu,...JW,...gK,...EK,...x3,...j4,...s5},c5=o(9391);const m5=e=>(...t)=>{const o=(0,a.getCurrentInstance)();if(!o)throw new Error("Vue app context not found!");const l=(0,a.inject)("permissions",void 0);return!!l&&t.reduce(((t,o)=>t&&Boolean(l[o])&&l[o][e]),!0)};function u5(){return{beforeCreate(){this.$can={read:m5("canRead"),create:m5("canCreate"),update:m5("canUpdate"),delete:m5("canDelete")}}}}var p5={install:e=>{e.mixin(u5())}},h5=o(3416);const g5=be(),v5=(0,a.reactive)({toasts:[],transition:"",class:"",position:""}),f5=(0,a.defineComponent)({name:"OxdToaster",setup(){return{...(0,a.toRefs)(v5)}},computed:{classes(){return{"oxd-toast-container":!0,[`oxd-toast-container--${this.position}`]:!0}}},methods:{onUpdateShow(e,t){!1===e&&this.toasts.splice(t,1)}},render(){return(0,a.h)(a.TransitionGroup,{appear:!0,name:this.transition,tag:"div",class:this.classes},{default:()=>this.toasts.map(((e,t)=>(0,a.h)(n.OxdToast,{key:e.id,type:e.type,title:e.title,message:e.message,show:e.show,class:this.class,"onUpdate:show":e=>this.onUpdateShow(e,t)})))})}});var y5={install:(e,t)=>{const o=document.createElement("oxd-toaster");o.id="oxd-toaster_1",document.getElementById("app").appendChild(o);const a=e=>{if("string"===typeof e){const t=v5.toasts.findIndex((t=>t.id===e));t>-1&&a(t)}else v5.toasts[e]&&v5.toasts.splice(e,1)},l=e=>new Promise((o=>{const l=(0,h5.x0)(8);if(v5.toasts.push({...e,id:l}),t.persist)o(l);else{const e=t.duration?t.duration:2500;setTimeout((()=>{a(l),o(l)}),e)}})),r=e=>l({id:"",type:n.TOAST_TYPES.TYPE_SUCCESS,show:!0,...e}),i=e=>l({id:"",type:n.TOAST_TYPES.TYPE_ERROR,show:!0,...e}),s=e=>l({id:"",type:n.TOAST_TYPES.TYPE_INFO,show:!0,...e}),d=e=>l({id:"",type:n.TOAST_TYPES.TYPE_WARN,show:!0,...e}),c=e=>l({id:"",type:n.TOAST_TYPES.TYPE_DEFAULT,show:!0,...e}),m=()=>{v5.toasts=[]},u=()=>r({title:g5("general.success"),message:g5("general.successfully_saved")}),p=e=>r({title:g5("general.success"),message:e}),h=()=>r({title:g5("general.success"),message:g5("general.successfully_added")}),g=()=>r({title:g5("general.success"),message:g5("general.successfully_updated")}),v=()=>r({title:g5("general.success"),message:g5("general.successfully_deleted")}),f=()=>i({title:g5("general.error"),message:g5("general.cannot_be_deleted")}),y=()=>s({title:g5("general.info"),message:g5("general.no_records_found")}),C=e=>i({title:g5("general.error"),message:e??g5("general.unexpected_error")});v5.class=t.class?t.class:"oxd-toast-container--toast",v5.transition=t.animation?t.animation:"oxd-toast-list",v5.position=t.position?t.position:"bottom",e.component("OxdToaster",f5);const b={notify:l,show:c,success:r,error:i,info:s,warn:d,clear:a,clearAll:m,saveSuccess:u,addSuccess:h,updateSuccess:g,deleteSuccess:v,generalSuccess:p,cannotDelete:f,noRecordsFound:y,unexpectedError:C};e.config.globalProperties.$toast=b}},C5=o(8683);const b5=(0,a.createApp)({name:"App",components:d5}),V5=(0,c5.Z)();b5.config.globalProperties.emitter=V5,b5.use(Vt),b5.use(C5.ZP),b5.use(y5,{duration:2500,persist:!1,animation:"oxd-toast-list",position:"bottom"});const x5=window.appGlobal.baseUrl,{i18n:w5,init:N5}=we({baseUrl:x5,resourceUrl:"core/i18n/messages"});b5.use(p5),b5.use(w5),b5.config.globalProperties.global={baseUrl:x5},N5().then((()=>b5.mount("#app")))}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var n=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=e,function(){var e=[];o.O=function(t,a,l,n){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],l=e[c][1],n=e[c][2];for(var i=!0,s=0;s<a.length;s++)(!1&n||r>=n)&&Object.keys(o.O).every((function(e){return o.O[e](a[s])}))?a.splice(s--,1):(i=!1,n<r&&(r=n));if(i){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,l,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,a){return o.f[a](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+e+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="orangehrm:";o.l=function(a,l,n,r){if(e[a])e[a].push(l);else{var i,s;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var m=d[c];if(m.getAttribute("src")==a||m.getAttribute("data-webpack")==t+n){i=m;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+n),i.src=a),e[a]=[l];var u=function(t,o){i.onerror=i.onload=null,clearTimeout(p);var l=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach((function(e){return e(o)})),t)return t(o)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){o.p=""}(),function(){var e={143:0};o.f.j=function(t,a){var l=o.o(e,t)?e[t]:void 0;if(0!==l)if(l)a.push(l[2]);else{var n=new Promise((function(o,a){l=e[t]=[o,a]}));a.push(l[2]=n);var r=o.p+o.u(t),i=new Error,s=function(a){if(o.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var n=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",i.name="ChunkLoadError",i.type=n,i.request=r,l[1](i)}};o.l(r,s,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,n,r=a[0],i=a[1],s=a[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var c=s(o)}for(t&&t(a);d<r.length;d++)n=r[d],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},a=self["webpackChunkorangehrm"]=self["webpackChunkorangehrm"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(7527)}));a=o.O(a)})();
//# sourceMappingURL=app.js.map